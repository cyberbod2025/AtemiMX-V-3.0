import{r as p,j as e,q as j,X as m,e as N,F as k}from"./react-vendor-BfikQoQB.js";import"./vendor-CUhUAKZ9.js";const g=["1","2","3","4","5","6","7","8","9","cancel","0","ok"],A=({open:o,mode:l,onCancel:n,onSubmit:a,maxDigits:c=6,biometricLabel:u="Touch ID para AtemiMX",errorMessage:d})=>{const[s,t]=p.useState(""),h=i=>{if(i==="cancel"){t(""),n==null||n();return}if(i==="ok"){s.length>0&&(a==null||a(s),t(""));return}s.length>=c||t(r=>r+i)},_=p.useMemo(()=>Array.from({length:c},(i,r)=>r<s.length?"filled":"empty"),[c,s.length]),y=l==="setup"?"Configura un PIN":"Teclea tu PIN",x=l==="setup"?"Define un PIN de seguridad para los próximos ingresos en este dispositivo.":"Protegemos tu bitácora S-SDLC.";return o?e.jsxs("div",{className:"security-pin",role:"dialog","aria-modal":"true","aria-label":"Autenticación AteniMX",children:[e.jsx("div",{className:"security-pin__pattern","aria-hidden":"true"}),e.jsxs("div",{className:"security-pin__panel",children:[e.jsxs("div",{className:"security-pin__panel-header",children:[e.jsx(j,{size:24,"aria-hidden":!0}),e.jsx("button",{type:"button",className:"security-pin__close",onClick:n,"aria-label":"Cerrar",children:e.jsx(m,{size:20,"aria-hidden":!0})})]}),e.jsxs("div",{className:"security-pin__heading",children:[e.jsx("p",{className:"security-pin__eyebrow",children:"Sesión AtemiMX"}),e.jsx("h2",{children:y}),e.jsx("p",{children:x})]}),e.jsx("div",{className:"security-pin__code",children:_.map((i,r)=>e.jsx("span",{className:`security-pin__dot security-pin__dot--${i}`,"aria-hidden":"true"},`pin-dot-${r}`))}),d?e.jsxs("div",{className:"security-pin__error",role:"alert",children:[e.jsx(N,{size:16,"aria-hidden":!0}),e.jsx("span",{children:d})]}):null,e.jsxs("div",{className:"security-pin__biometric",children:[e.jsxs("div",{className:"security-pin__biometric-card",children:[e.jsx(k,{size:28,"aria-hidden":!0}),e.jsx("span",{children:u})]}),e.jsx("button",{type:"button",onClick:()=>t(""),children:"Cancelar"})]}),e.jsx("div",{className:"security-pin__keypad",role:"group","aria-label":"Teclado numérico",children:g.map(i=>e.jsx("button",{type:"button",className:`security-pin__key${i==="ok"?" security-pin__key--ok":i==="cancel"?" security-pin__key--cancel":""}`,onClick:()=>h(i),children:i==="cancel"?"Cancelar":i==="ok"?"OK":i},i))})]})]}):null};export{A as SecurityPinScreen,A as default};
