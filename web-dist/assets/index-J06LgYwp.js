const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TeacherDashboardView-BUt-5Fr3.js","./ReportForm-CftKmYLq.js","./geminiService-fkZN5fdV.js","./ReportCard-BBi0SBXQ.js","./CategoricalChart-CVOWy7Az.js","./PieChart-W8hkL1fR.js","./GuidanceInboxView-CbDt8nTP.js","./StudentProfileView-Cq7rETpO.js","./AdminDashboardView-B8dhL4Uu.js","./BarChart-bQUJg7Tb.js","./LiveAssistantView-7DnlSgKZ.js","./PrefectureDashboardView-StuaKYzW.js","./TutorDashboardView-h3SBjv2m.js"])))=>i.map(i=>d[i]);
function MI(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pg={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function VI(){if(jT)return rc;jT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var LT;function PI(){return LT||(LT=1,Pg.exports=VI()),Pg.exports}var E=PI(),jg={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function jI(){if(UT)return Ve;UT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function j(L,W,se){this.props=L,this.context=W,this.refs=P,this.updater=se||C}j.prototype.isReactComponent={},j.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function H(L,W,se){this.props=L,this.context=W,this.refs=P,this.updater=se||C}var ae=H.prototype=new Q;ae.constructor=H,k(ae,j.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(L,W,se){var fe=se.ref;return{$$typeof:t,type:L,key:W,ref:fe!==void 0?fe:null,props:se}}function M(L,W){return N(L.type,W,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return W[se]})}var O=/\/+/g;function We(L,W){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):W.toString(36)}function ct(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Z(L,W,se,fe,ge){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case t:case e:Me=!0;break;case y:return Me=L._init,Z(Me(L._payload),W,se,fe,ge)}}if(Me)return ge=ge(L),Me=fe===""?"."+We(L,0):fe,oe(ge)?(se="",Me!=null&&(se=Me.replace(O,"$&/")+"/"),Z(ge,W,se,"",function(qt){return qt})):ge!=null&&(U(ge)&&(ge=M(ge,se+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+Me)),W.push(ge)),1;Me=0;var ht=fe===""?".":fe+":";if(oe(L))for(var Je=0;Je<L.length;Je++)fe=L[Je],Oe=ht+We(fe,Je),Me+=Z(fe,W,se,Oe,ge);else if(Je=w(L),typeof Je=="function")for(L=Je.call(L),Je=0;!(fe=L.next()).done;)fe=fe.value,Oe=ht+We(fe,Je++),Me+=Z(fe,W,se,Oe,ge);else if(Oe==="object"){if(typeof L.then=="function")return Z(ct(L),W,se,fe,ge);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Me}function re(L,W,se){if(L==null)return L;var fe=[],ge=0;return Z(L,fe,"","",function(Oe){return W.call(se,Oe,ge++)}),fe}function he(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var we=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ie={map:re,forEach:function(L,W,se){re(L,function(){W.apply(this,arguments)},se)},count:function(L){var W=0;return re(L,function(){W++}),W},toArray:function(L){return re(L,function(W){return W})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ve.Activity=_,Ve.Children=Ie,Ve.Component=j,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=H,Ve.StrictMode=s,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Ve.cache=function(L){return function(){return L.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(L,W,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=k({},L.props),ge=L.key;if(W!=null)for(Oe in W.key!==void 0&&(ge=""+W.key),W)!R.call(W,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&W.ref===void 0||(fe[Oe]=W[Oe]);var Oe=arguments.length-2;if(Oe===1)fe.children=se;else if(1<Oe){for(var Me=Array(Oe),ht=0;ht<Oe;ht++)Me[ht]=arguments[ht+2];fe.children=Me}return N(L.type,ge,fe)},Ve.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ve.createElement=function(L,W,se){var fe,ge={},Oe=null;if(W!=null)for(fe in W.key!==void 0&&(Oe=""+W.key),W)R.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ge[fe]=W[fe]);var Me=arguments.length-2;if(Me===1)ge.children=se;else if(1<Me){for(var ht=Array(Me),Je=0;Je<Me;Je++)ht[Je]=arguments[Je+2];ge.children=ht}if(L&&L.defaultProps)for(fe in Me=L.defaultProps,Me)ge[fe]===void 0&&(ge[fe]=Me[fe]);return N(L,Oe,ge)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:h,render:L}},Ve.isValidElement=U,Ve.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:he}},Ve.memo=function(L,W){return{$$typeof:p,type:L,compare:W===void 0?null:W}},Ve.startTransition=function(L){var W=I.T,se={};I.T=se;try{var fe=L(),ge=I.S;ge!==null&&ge(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,we)}catch(Oe){we(Oe)}finally{W!==null&&se.types!==null&&(W.types=se.types),I.T=W}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(L){return I.H.use(L)},Ve.useActionState=function(L,W,se){return I.H.useActionState(L,W,se)},Ve.useCallback=function(L,W){return I.H.useCallback(L,W)},Ve.useContext=function(L){return I.H.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L,W){return I.H.useDeferredValue(L,W)},Ve.useEffect=function(L,W){return I.H.useEffect(L,W)},Ve.useEffectEvent=function(L){return I.H.useEffectEvent(L)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(L,W,se){return I.H.useImperativeHandle(L,W,se)},Ve.useInsertionEffect=function(L,W){return I.H.useInsertionEffect(L,W)},Ve.useLayoutEffect=function(L,W){return I.H.useLayoutEffect(L,W)},Ve.useMemo=function(L,W){return I.H.useMemo(L,W)},Ve.useOptimistic=function(L,W){return I.H.useOptimistic(L,W)},Ve.useReducer=function(L,W,se){return I.H.useReducer(L,W,se)},Ve.useRef=function(L){return I.H.useRef(L)},Ve.useState=function(L){return I.H.useState(L)},Ve.useSyncExternalStore=function(L,W,se){return I.H.useSyncExternalStore(L,W,se)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.0",Ve}var zT;function C0(){return zT||(zT=1,jg.exports=jI()),jg.exports}var D=C0();const On=yw(D),BT=MI({__proto__:null,default:On},[D]);var Lg={exports:{}},ac={},Ug={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function LI(){return FT||(FT=1,(function(t){function e(Z,re){var he=Z.length;Z.push(re);e:for(;0<he;){var we=he-1>>>1,Ie=Z[we];if(0<a(Ie,re))Z[we]=re,Z[he]=Ie,he=we;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var re=Z[0],he=Z.pop();if(he!==re){Z[0]=he;e:for(var we=0,Ie=Z.length,L=Ie>>>1;we<L;){var W=2*(we+1)-1,se=Z[W],fe=W+1,ge=Z[fe];if(0>a(se,he))fe<Ie&&0>a(ge,se)?(Z[we]=ge,Z[fe]=he,we=fe):(Z[we]=se,Z[W]=he,we=W);else if(fe<Ie&&0>a(ge,he))Z[we]=ge,Z[fe]=he,we=fe;else break e}}return re}function a(Z,re){var he=Z.sortIndex-re.sortIndex;return he!==0?he:Z.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,_=null,S=3,w=!1,C=!1,k=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=Z)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(p)}}function oe(Z){if(k=!1,ae(Z),!C)if(n(f)!==null)C=!0,ce||(ce=!0,B());else{var re=n(p);re!==null&&ct(oe,re.startTime-Z)}}var ce=!1,I=-1,R=5,N=-1;function M(){return P?!0:!(t.unstable_now()-N<R)}function U(){if(P=!1,ce){var Z=t.unstable_now();N=Z;var re=!0;try{e:{C=!1,k&&(k=!1,Q(I),I=-1),w=!0;var he=S;try{t:{for(ae(Z),_=n(f);_!==null&&!(_.expirationTime>Z&&M());){var we=_.callback;if(typeof we=="function"){_.callback=null,S=_.priorityLevel;var Ie=we(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof Ie=="function"){_.callback=Ie,ae(Z),re=!0;break t}_===n(f)&&s(f),ae(Z)}else s(f);_=n(f)}if(_!==null)re=!0;else{var L=n(p);L!==null&&ct(oe,L.startTime-Z),re=!1}}break e}finally{_=null,S=he,w=!1}re=void 0}}finally{re?B():ce=!1}}}var B;if(typeof H=="function")B=function(){H(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,We=O.port2;O.port1.onmessage=U,B=function(){We.postMessage(null)}}else B=function(){j(U,0)};function ct(Z,re){I=j(function(){Z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var he=S;S=re;try{return Z()}finally{S=he}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=S;S=Z;try{return re()}finally{S=he}},t.unstable_scheduleCallback=function(Z,re,he){var we=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?we+he:we):he=we,Z){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=he+Ie,Z={id:y++,callback:re,priorityLevel:Z,startTime:he,expirationTime:Ie,sortIndex:-1},he>we?(Z.sortIndex=he,e(p,Z),n(f)===null&&Z===n(p)&&(k?(Q(I),I=-1):k=!0,ct(oe,he-we))):(Z.sortIndex=Ie,e(f,Z),C||w||(C=!0,ce||(ce=!0,B()))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var re=S;return function(){var he=S;S=re;try{return Z.apply(this,arguments)}finally{S=he}}}})(zg)),zg}var qT;function UI(){return qT||(qT=1,Ug.exports=LI()),Ug.exports}var Bg={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function zI(){if(HT)return Cn;HT=1;var t=C0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},Cn.flushSync=function(f){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=y,s.d.f()}},Cn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Cn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Cn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):y==="script"&&s.d.X(f,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Cn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);s.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Cn.requestFormReset=function(f){s.d.r(f)},Cn.unstable_batchedUpdates=function(f,p){return f(p)},Cn.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var GT;function BI(){if(GT)return Bg.exports;GT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bg.exports=zI(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function FI(){if($T)return ac;$T=1;var t=UI(),e=C0(),n=BI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),i;if(g===u)return f(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=g;else{for(var T=!1,A=m.child;A;){if(A===o){T=!0,o=m,u=g;break}if(A===u){T=!0,u=m,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,u=m;break}if(A===u){T=!0,u=g,o=m;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function We(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case P:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case H:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:We(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return We(i(r))}catch{}}return null}var ct=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},we=[],Ie=-1;function L(i){return{current:i}}function W(i){0>Ie||(i.current=we[Ie],we[Ie]=null,Ie--)}function se(i,r){Ie++,we[Ie]=i.current,i.current=r}var fe=L(null),ge=L(null),Oe=L(null),Me=L(null);function ht(i,r){switch(se(Oe,r),se(ge,i),se(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?aT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=aT(r),i=oT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(fe),se(fe,i)}function Je(){W(fe),W(ge),W(Oe)}function qt(i){i.memoizedState!==null&&se(Me,i);var r=fe.current,o=oT(r,i.type);r!==o&&(se(ge,i),se(fe,o))}function Kn(i){ge.current===i&&(W(fe),W(ge)),Me.current===i&&(W(Me),tc._currentValue=he)}var wn,xn;function an(i){if(wn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);wn=r&&r[1]||"",xn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wn+i+xn}var Si=!1;function Ai(i,r){if(!i||Si)return"";Si=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var K=Y}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(Y){K=Y}i.call(ne.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var V=T.split(`
`),$=A.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===$.length)for(u=V.length-1,m=$.length-1;1<=u&&0<=m&&V[u]!==$[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==$[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==$[m]){var J=`
`+V[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=m);break}}}finally{Si=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?an(o):""}function Et(i,r){switch(i.tag){case 26:case 27:case 5:return an(i.type);case 16:return an("Lazy");case 13:return i.child!==r&&r!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return Ai(i.type,!1);case 11:return Ai(i.type.render,!1);case 1:return Ai(i.type,!0);case 31:return an("Activity");default:return""}}function pn(i){try{var r="",o=null;do r+=Et(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Bi=Object.prototype.hasOwnProperty,Yn=t.unstable_scheduleCallback,ai=t.unstable_cancelCallback,ts=t.unstable_shouldYield,La=t.unstable_requestPaint,tn=t.unstable_now,Fi=t.unstable_getCurrentPriorityLevel,He=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,jn=t.unstable_NormalPriority,Os=t.unstable_LowPriority,vr=t.unstable_IdlePriority,cu=t.log,ks=t.unstable_setDisableYieldValue,ns=null,on=null;function Ln(i){if(typeof cu=="function"&&ks(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ns,i)}catch{}}var Pt=Math.clz32?Math.clz32:jo,_r=Math.log,Ua=Math.LN2;function jo(i){return i>>>=0,i===0?32:31-(_r(i)/Ua|0)|0}var Ms=256,wi=262144,is=4194304;function oi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xn(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?m=oi(u):(T&=A,T!==0?m=oi(T):o||(o=A&~i,o!==0&&(m=oi(o))))):(A=u&~g,A!==0?m=oi(A):T!==0?m=oi(T):o||(o=u&~i,o!==0&&(m=oi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ss(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Er(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var i=is;return is<<=1,(is&62914560)===0&&(is=4194304),i}function qi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function rs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nn(i,r,o,u,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-Pt(o),ne=1<<J;A[J]=0,V[J]=-1;var K=$[J];if(K!==null)for($[J]=null,J=0;J<K.length;J++){var Y=K[J];Y!==null&&(Y.lane&=-536870913)}o&=~ne}u!==0&&ve(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ve(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Pt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function De(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Pt(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function jt(i,r){var o=r&-r;return o=(o&42)!==0?1:Un(o),(o&(i.suspendedLanes|r))!==0?0:o}function Un(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ba(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vs(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:NT(i.type))}function ph(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var as=Math.random().toString(36).slice(2),Nt="__reactFiber$"+as,gn="__reactProps$"+as,os="__reactContainer$"+as,Tr="__reactEvents$"+as,ls="__reactListeners$"+as,gh="__reactHandles$"+as,hu="__reactResources$"+as,Ps="__reactMarker$"+as;function Fa(i){delete i[Nt],delete i[gn],delete i[Tr],delete i[ls],delete i[gh]}function js(i){var r=i[Nt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[os]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=mT(i);i!==null;){if(o=i[Nt])return o;i=mT(i)}return r}i=o,o=i.parentNode}return null}function Ls(i){if(i=i[Nt]||i[os]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function qa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Hi(i){var r=i[hu];return r||(r=i[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(i){i[Ps]=!0}var Lo=new Set,br={};function zn(i,r){us(i,r),us(i+"Capture",r)}function us(i,r){for(br[i]=r,i=0;i<r.length;i++)Lo.add(r[i])}var jm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},fu={};function yh(i){return Bi.call(fu,i)?!0:Bi.call(du,i)?!1:jm.test(i)?fu[i]=!0:(du[i]=!0,!1)}function Sr(i,r,o){if(yh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ar(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function xi(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vh(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lm(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Uo(i){if(!i._valueTracker){var r=vh(i)?"checked":"value";i._valueTracker=Lm(i,r,""+i[r])}}function mu(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=vh(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function zo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Us=/[\n"\\]/g;function Dt(i){return i.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wr(i,r,o,u,m,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Bn(r)):i.value!==""+Bn(r)&&(i.value=""+Bn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Bo(i,T,Bn(r)):o!=null?Bo(i,T,Bn(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Bn(A):i.removeAttribute("name")}function Ha(i,r,o,u,m,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Uo(i);return}o=o!=null?""+Bn(o):"",r=r!=null?""+Bn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Uo(i)}function Bo(i,r,o){r==="number"&&zo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function it(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Bn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Ga(i,r,o){if(r!=null&&(r=""+Bn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Bn(o):""}function xr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ct(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Bn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Uo(i)}function Ri(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Um=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Um.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _h(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&pu(i,m,u)}else for(var g in r)r.hasOwnProperty(g)&&pu(i,g,r[g])}function gu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(i){return Bm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ln(){}var Fo=null;function qo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zs=null,li=null;function Eh(i){var r=Ls(i);if(r&&(i=r.stateNode)){var o=i[gn]||null;e:switch(i=r.stateNode,r.type){case"input":if(wr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[gn]||null;if(!m)throw Error(s(90));wr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&mu(u)}break e;case"textarea":Ga(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&it(i,!!o.multiple,r,!1)}}}var yu=!1;function Th(i,r,o){if(yu)return i(r,o);yu=!0;try{var u=i(r);return u}finally{if(yu=!1,(zs!==null||li!==null)&&(yd(),zs&&(r=zs,i=li,li=zs=null,Eh(r),i)))for(r=0;r<i.length;r++)Eh(i[r])}}function Qn(i,r){var o=i.stateNode;if(o===null)return null;var u=o[gn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=!1;if(Gi)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){vu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{vu=!1}var ui=null,Ho=null,ds=null;function Rr(){if(ds)return ds;var i,r=Ho,o=r.length,u,m="value"in ui?ui.value:ui.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===m[g-u];u++);return ds=m.slice(i,1<u?1-u:void 0)}function $a(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Cr(){return!0}function bt(){return!1}function Rn(i){function r(o,u,m,g,T){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cr:bt,this.isPropagationStopped=bt,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),r}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Rn(Bs),Ir=_({},Bs,{view:0,detail:0}),bh=Rn(Ir),Nr,Go,Fn,Ya=_({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fn&&(Fn&&i.type==="mousemove"?(Nr=i.screenX-Fn.screenX,Go=i.screenY-Fn.screenY):Go=Nr=0,Fn=i),Nr)},movementY:function(i){return"movementY"in i?i.movementY:Go}}),Sh=Rn(Ya),Xa=_({},Ya,{dataTransfer:0}),Ah=Rn(Xa),_u=_({},Ir,{relatedTarget:0}),Dr=Rn(_u),wh=_({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=Rn(wh),Fm=_({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xh=Rn(Fm),Qa=_({},Bs,{data:0}),Eu=Rn(Qa),Rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=bu[i])?!!r[i]:!1}function Or(){return Ch}var Ih=_({},Ir,{key:function(i){if(i.key){var r=Rh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=$a(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Tu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(i){return i.type==="keypress"?$a(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$a(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nh=Rn(Ih),Fs=_({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=Rn(Fs),Dh=_({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Oh=Rn(Dh),kh=_({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=Rn(kh),qn=_({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mh=Rn(qn),Vh=_({},Bs,{newState:0,oldState:0}),kr=Rn(Vh),d=[9,13,27,32],v=Gi&&"CompositionEvent"in window,b=null;Gi&&"documentMode"in document&&(b=document.documentMode);var x=Gi&&"TextEvent"in window&&!b,q=Gi&&(!v||b&&8<b&&11>=b),X=" ",ue=!1;function lt(i,r){switch(i){case"keyup":return d.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function un(i,r){switch(i){case"compositionend":return Ht(r);case"keypress":return r.which!==32?null:(ue=!0,X);case"textInput":return i=r.data,i===X&&ue?null:i;default:return null}}function cn(i,r){if(Be)return i==="compositionend"||!v&&lt(i,r)?(i=Rr(),ds=Ho=ui=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return q&&r.locale!=="ko"?null:r.data;default:return null}}var Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Mr[i.type]:r==="textarea"}function Za(i,r,o,u){zs?li?li.push(u):li=[u]:zs=u,r=Ad(r,"onChange"),0<r.length&&(o=new Ka("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var qs=null,Au=null;function o5(i){eT(i,0)}function Ph(i){var r=qa(i);if(mu(r))return i}function __(i,r){if(i==="change")return r}var E_=!1;if(Gi){var qm;if(Gi){var Hm="oninput"in document;if(!Hm){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Hm=typeof T_.oninput=="function"}qm=Hm}else qm=!1;E_=qm&&(!document.documentMode||9<document.documentMode)}function b_(){qs&&(qs.detachEvent("onpropertychange",S_),Au=qs=null)}function S_(i){if(i.propertyName==="value"&&Ph(Au)){var r=[];Za(r,Au,i,qo(i)),Th(o5,r)}}function l5(i,r,o){i==="focusin"?(b_(),qs=r,Au=o,qs.attachEvent("onpropertychange",S_)):i==="focusout"&&b_()}function u5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ph(Au)}function c5(i,r){if(i==="click")return Ph(r)}function h5(i,r){if(i==="input"||i==="change")return Ph(r)}function d5(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ci=typeof Object.is=="function"?Object.is:d5;function wu(i,r){if(ci(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Bi.call(r,m)||!ci(i[m],r[m]))return!1}return!0}function A_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function w_(i,r){var o=A_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=A_(o)}}function x_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?x_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function R_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=zo(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=zo(i.document)}return r}function Gm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var f5=Gi&&"documentMode"in document&&11>=document.documentMode,Yo=null,$m=null,xu=null,Km=!1;function C_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Km||Yo==null||Yo!==zo(u)||(u=Yo,"selectionStart"in u&&Gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xu&&wu(xu,u)||(xu=u,u=Ad($m,"onSelect"),0<u.length&&(r=new Ka("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Yo)))}function Wa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Xo={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Ym={},I_={};Gi&&(I_=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Ja(i){if(Ym[i])return Ym[i];if(!Xo[i])return i;var r=Xo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in I_)return Ym[i]=r[o];return i}var N_=Ja("animationend"),D_=Ja("animationiteration"),O_=Ja("animationstart"),m5=Ja("transitionrun"),p5=Ja("transitionstart"),g5=Ja("transitioncancel"),k_=Ja("transitionend"),M_=new Map,Xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xm.push("scrollEnd");function $i(i,r){M_.set(i,r),zn(r,[i])}var jh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ci=[],Qo=0,Qm=0;function Lh(){for(var i=Qo,r=Qm=Qo=0;r<i;){var o=Ci[r];Ci[r++]=null;var u=Ci[r];Ci[r++]=null;var m=Ci[r];Ci[r++]=null;var g=Ci[r];if(Ci[r++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}g!==0&&V_(o,m,g)}}function Uh(i,r,o,u){Ci[Qo++]=i,Ci[Qo++]=r,Ci[Qo++]=o,Ci[Qo++]=u,Qm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Zm(i,r,o,u){return Uh(i,r,o,u),zh(i)}function eo(i,r){return Uh(i,null,null,r),zh(i)}function V_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-Pt(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function zh(i){if(50<Yu)throw Yu=0,ag=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Zo={};function y5(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(i,r,o,u){return new y5(i,r,o,u)}function Wm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=hi(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function P_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Bh(i,r,o,u,m,g){var T=0;if(u=i,typeof i=="function")Wm(i)&&(T=1);else if(typeof i=="string")T=bI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=hi(31,o,r,m),i.elementType=N,i.lanes=g,i;case k:return to(o.children,m,g,r);case P:T=8,m|=24;break;case j:return i=hi(12,o,r,m|2),i.elementType=j,i.lanes=g,i;case oe:return i=hi(13,o,r,m),i.elementType=oe,i.lanes=g,i;case ce:return i=hi(19,o,r,m),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:T=10;break e;case Q:T=9;break e;case ae:T=11;break e;case I:T=14;break e;case R:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=hi(T,o,r,m),r.elementType=i,r.type=u,r.lanes=g,r}function to(i,r,o,u){return i=hi(7,i,u,r),i.lanes=o,i}function Jm(i,r,o){return i=hi(6,i,null,r),i.lanes=o,i}function j_(i){var r=hi(18,null,null,0);return r.stateNode=i,r}function ep(i,r,o){return r=hi(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var L_=new WeakMap;function Ii(i,r){if(typeof i=="object"&&i!==null){var o=L_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pn(r)},L_.set(i,r),r)}return{value:i,source:r,stack:pn(r)}}var Wo=[],Jo=0,Fh=null,Ru=0,Ni=[],Di=0,Vr=null,fs=1,ms="";function Gs(i,r){Wo[Jo++]=Ru,Wo[Jo++]=Fh,Fh=i,Ru=r}function U_(i,r,o){Ni[Di++]=fs,Ni[Di++]=ms,Ni[Di++]=Vr,Vr=i;var u=fs;i=ms;var m=32-Pt(u)-1;u&=~(1<<m),o+=1;var g=32-Pt(r)+m;if(30<g){var T=m-m%5;g=(u&(1<<T)-1).toString(32),u>>=T,m-=T,fs=1<<32-Pt(r)+m|o<<m|u,ms=g+i}else fs=1<<g|o<<m|u,ms=i}function tp(i){i.return!==null&&(Gs(i,1),U_(i,1,0))}function np(i){for(;i===Fh;)Fh=Wo[--Jo],Wo[Jo]=null,Ru=Wo[--Jo],Wo[Jo]=null;for(;i===Vr;)Vr=Ni[--Di],Ni[Di]=null,ms=Ni[--Di],Ni[Di]=null,fs=Ni[--Di],Ni[Di]=null}function z_(i,r){Ni[Di++]=fs,Ni[Di++]=ms,Ni[Di++]=Vr,fs=r.id,ms=r.overflow,Vr=i}var yn=null,St=null,Ze=!1,Pr=null,Oi=!1,ip=Error(s(519));function jr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(Ii(r,i)),ip}function B_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Nt]=i,r[gn]=u,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Qu.length;o++)$e(Qu[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),Ha(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),xr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||sT(r.textContent,o)?(u.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),u.onScroll!=null&&$e("scroll",r),u.onScrollEnd!=null&&$e("scrollend",r),u.onClick!=null&&(r.onclick=ln),r=!0):r=!1,r||jr(i,!0)}function F_(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:yn=yn.return}}function el(i){if(i!==yn)return!1;if(!Ze)return F_(i),Ze=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tg(i.type,i.memoizedProps)),o=!o),o&&St&&jr(i),F_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=fT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=fT(i)}else r===27?(r=St,Zr(i.type)?(i=xg,xg=null,St=i):St=r):St=yn?Mi(i.stateNode.nextSibling):null;return!0}function no(){St=yn=null,Ze=!1}function sp(){var i=Pr;return i!==null&&(ti===null?ti=i:ti.push.apply(ti,i),Pr=null),i}function Cu(i){Pr===null?Pr=[i]:Pr.push(i)}var rp=L(null),io=null,$s=null;function Lr(i,r,o){se(rp,r._currentValue),r._currentValue=o}function Ks(i){i._currentValue=rp.current,W(rp)}function ap(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function op(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<r.length;V++)if(A.context===r[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),ap(g.return,o,i),u||(T=null);break e}g=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),ap(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function tl(i,r,o,u){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=m.type;ci(m.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(m===Me.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(tc):i=[tc])}m=m.return}i!==null&&op(r,i,o,u),r.flags|=262144}function qh(i){for(i=i.firstContext;i!==null;){if(!ci(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function so(i){io=i,$s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vn(i){return q_(io,i)}function Hh(i,r){return io===null&&so(i),q_(i,r)}function q_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},$s===null){if(i===null)throw Error(s(308));$s=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $s=$s.next=r;return o}var v5=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},_5=t.unstable_scheduleCallback,E5=t.unstable_NormalPriority,Gt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lp(){return{controller:new v5,data:new Map,refCount:0}}function Iu(i){i.refCount--,i.refCount===0&&_5(E5,function(){i.controller.abort()})}var Nu=null,up=0,nl=0,il=null;function T5(i,r){if(Nu===null){var o=Nu=[];up=0,nl=dg(),il={status:"pending",value:void 0,then:function(u){o.push(u)}}}return up++,r.then(H_,H_),r}function H_(){if(--up===0&&Nu!==null){il!==null&&(il.status="fulfilled");var i=Nu;Nu=null,nl=0,il=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function b5(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var G_=Z.S;Z.S=function(i,r){CE=tn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&T5(i,r),G_!==null&&G_(i,r)};var ro=L(null);function cp(){var i=ro.current;return i!==null?i:_t.pooledCache}function Gh(i,r){r===null?se(ro,ro.current):se(ro,r.pool)}function $_(){var i=cp();return i===null?null:{parent:Gt._currentValue,pool:i}}var sl=Error(s(460)),hp=Error(s(474)),$h=Error(s(542)),Kh={then:function(){}};function K_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Y_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ln,ln),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Q_(i),i;default:if(typeof r.status=="string")r.then(ln,ln);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Q_(i),i}throw oo=r,sl}}function ao(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(oo=o,sl):o}}var oo=null;function X_(){if(oo===null)throw Error(s(459));var i=oo;return oo=null,i}function Q_(i){if(i===sl||i===$h)throw Error(s(483))}var rl=null,Du=0;function Yh(i){var r=Du;return Du+=1,rl===null&&(rl=[]),Y_(rl,i,r)}function Ou(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Xh(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Z_(i){function r(F,z){if(i){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Hs(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,z,G,te){return z===null||z.tag!==6?(z=Jm(G,F.mode,te),z.return=F,z):(z=m(z,G),z.return=F,z)}function V(F,z,G,te){var Se=G.type;return Se===k?J(F,z,G.props.children,te,G.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&ao(Se)===z.type)?(z=m(z,G.props),Ou(z,G),z.return=F,z):(z=Bh(G.type,G.key,G.props,null,F.mode,te),Ou(z,G),z.return=F,z)}function $(F,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=ep(G,F.mode,te),z.return=F,z):(z=m(z,G.children||[]),z.return=F,z)}function J(F,z,G,te,Se){return z===null||z.tag!==7?(z=to(G,F.mode,te,Se),z.return=F,z):(z=m(z,G),z.return=F,z)}function ne(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Jm(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return G=Bh(z.type,z.key,z.props,null,F.mode,G),Ou(G,z),G.return=F,G;case C:return z=ep(z,F.mode,G),z.return=F,z;case R:return z=ao(z),ne(F,z,G)}if(ct(z)||B(z))return z=to(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return ne(F,Yh(z),G);if(z.$$typeof===H)return ne(F,Hh(F,z),G);Xh(F,z)}return null}function K(F,z,G,te){var Se=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:A(F,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Se?V(F,z,G,te):null;case C:return G.key===Se?$(F,z,G,te):null;case R:return G=ao(G),K(F,z,G,te)}if(ct(G)||B(G))return Se!==null?null:J(F,z,G,te,null);if(typeof G.then=="function")return K(F,z,Yh(G),te);if(G.$$typeof===H)return K(F,z,Hh(F,G),te);Xh(F,G)}return null}function Y(F,z,G,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,A(z,F,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return F=F.get(te.key===null?G:te.key)||null,V(z,F,te,Se);case C:return F=F.get(te.key===null?G:te.key)||null,$(z,F,te,Se);case R:return te=ao(te),Y(F,z,G,te,Se)}if(ct(te)||B(te))return F=F.get(G)||null,J(z,F,te,Se,null);if(typeof te.then=="function")return Y(F,z,G,Yh(te),Se);if(te.$$typeof===H)return Y(F,z,G,Hh(z,te),Se);Xh(z,te)}return null}function ye(F,z,G,te){for(var Se=null,st=null,Ee=z,Ue=z=0,Ye=null;Ee!==null&&Ue<G.length;Ue++){Ee.index>Ue?(Ye=Ee,Ee=null):Ye=Ee.sibling;var rt=K(F,Ee,G[Ue],te);if(rt===null){Ee===null&&(Ee=Ye);break}i&&Ee&&rt.alternate===null&&r(F,Ee),z=g(rt,z,Ue),st===null?Se=rt:st.sibling=rt,st=rt,Ee=Ye}if(Ue===G.length)return o(F,Ee),Ze&&Gs(F,Ue),Se;if(Ee===null){for(;Ue<G.length;Ue++)Ee=ne(F,G[Ue],te),Ee!==null&&(z=g(Ee,z,Ue),st===null?Se=Ee:st.sibling=Ee,st=Ee);return Ze&&Gs(F,Ue),Se}for(Ee=u(Ee);Ue<G.length;Ue++)Ye=Y(Ee,F,Ue,G[Ue],te),Ye!==null&&(i&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Ue:Ye.key),z=g(Ye,z,Ue),st===null?Se=Ye:st.sibling=Ye,st=Ye);return i&&Ee.forEach(function(na){return r(F,na)}),Ze&&Gs(F,Ue),Se}function xe(F,z,G,te){if(G==null)throw Error(s(151));for(var Se=null,st=null,Ee=z,Ue=z=0,Ye=null,rt=G.next();Ee!==null&&!rt.done;Ue++,rt=G.next()){Ee.index>Ue?(Ye=Ee,Ee=null):Ye=Ee.sibling;var na=K(F,Ee,rt.value,te);if(na===null){Ee===null&&(Ee=Ye);break}i&&Ee&&na.alternate===null&&r(F,Ee),z=g(na,z,Ue),st===null?Se=na:st.sibling=na,st=na,Ee=Ye}if(rt.done)return o(F,Ee),Ze&&Gs(F,Ue),Se;if(Ee===null){for(;!rt.done;Ue++,rt=G.next())rt=ne(F,rt.value,te),rt!==null&&(z=g(rt,z,Ue),st===null?Se=rt:st.sibling=rt,st=rt);return Ze&&Gs(F,Ue),Se}for(Ee=u(Ee);!rt.done;Ue++,rt=G.next())rt=Y(Ee,F,Ue,rt.value,te),rt!==null&&(i&&rt.alternate!==null&&Ee.delete(rt.key===null?Ue:rt.key),z=g(rt,z,Ue),st===null?Se=rt:st.sibling=rt,st=rt);return i&&Ee.forEach(function(kI){return r(F,kI)}),Ze&&Gs(F,Ue),Se}function yt(F,z,G,te){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Se=G.key;z!==null;){if(z.key===Se){if(Se=G.type,Se===k){if(z.tag===7){o(F,z.sibling),te=m(z,G.props.children),te.return=F,F=te;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&ao(Se)===z.type){o(F,z.sibling),te=m(z,G.props),Ou(te,G),te.return=F,F=te;break e}o(F,z);break}else r(F,z);z=z.sibling}G.type===k?(te=to(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=Bh(G.type,G.key,G.props,null,F.mode,te),Ou(te,G),te.return=F,F=te)}return T(F);case C:e:{for(Se=G.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),te=m(z,G.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else r(F,z);z=z.sibling}te=ep(G,F.mode,te),te.return=F,F=te}return T(F);case R:return G=ao(G),yt(F,z,G,te)}if(ct(G))return ye(F,z,G,te);if(B(G)){if(Se=B(G),typeof Se!="function")throw Error(s(150));return G=Se.call(G),xe(F,z,G,te)}if(typeof G.then=="function")return yt(F,z,Yh(G),te);if(G.$$typeof===H)return yt(F,z,Hh(F,G),te);Xh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),te=m(z,G),te.return=F,F=te):(o(F,z),te=Jm(G,F.mode,te),te.return=F,F=te),T(F)):o(F,z)}return function(F,z,G,te){try{Du=0;var Se=yt(F,z,G,te);return rl=null,Se}catch(Ee){if(Ee===sl||Ee===$h)throw Ee;var st=hi(29,Ee,null,F.mode);return st.lanes=te,st.return=F,st}finally{}}}var lo=Z_(!0),W_=Z_(!1),Ur=!1;function dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Br(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=zh(i),V_(i,null,o),r}return Uh(i,u,r,o),zh(i)}function ku(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,De(i,o)}}function mp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var pp=!1;function Mu(){if(pp){var i=il;if(i!==null)throw i}}function Vu(i,r,o,u){pp=!1;var m=i.updateQueue;Ur=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,$=V.next;V.next=null,T===null?g=$:T.next=$,T=V;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==T&&(A===null?J.firstBaseUpdate=$:A.next=$,J.lastBaseUpdate=V))}if(g!==null){var ne=m.baseState;T=0,J=$=V=null,A=g;do{var K=A.lane&-536870913,Y=K!==A.lane;if(Y?(Ke&K)===K:(u&K)===K){K!==0&&K===nl&&(pp=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=i,xe=A;K=r;var yt=o;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){ne=ye.call(yt,ne,K);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,K=typeof ye=="function"?ye.call(yt,ne,K):ye,K==null)break e;ne=_({},ne,K);break e;case 2:Ur=!0}}K=A.callback,K!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?($=J=Y,V=ne):J=J.next=Y,T|=K;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);J===null&&(V=ne),m.baseState=V,m.firstBaseUpdate=$,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),$r|=T,i.lanes=T,i.memoizedState=ne}}function J_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e1(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)J_(o[i],r)}var al=L(null),Qh=L(0);function t1(i,r){i=nr,se(Qh,i),se(al,r),nr=i|r.baseLanes}function gp(){se(Qh,nr),se(al,al.current)}function yp(){nr=Qh.current,W(al),W(Qh)}var di=L(null),ki=null;function Fr(i){var r=i.alternate;se(Ut,Ut.current&1),se(di,i),ki===null&&(r===null||al.current!==null||r.memoizedState!==null)&&(ki=i)}function vp(i){se(Ut,Ut.current),se(di,i),ki===null&&(ki=i)}function n1(i){i.tag===22?(se(Ut,Ut.current),se(di,i),ki===null&&(ki=i)):qr()}function qr(){se(Ut,Ut.current),se(di,di.current)}function fi(i){W(di),ki===i&&(ki=null),W(Ut)}var Ut=L(0);function Zh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ag(o)||wg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,Le=null,pt=null,$t=null,Wh=!1,ol=!1,uo=!1,Jh=0,Pu=0,ll=null,S5=0;function Ot(){throw Error(s(321))}function _p(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ci(i[o],r[o]))return!1;return!0}function Ep(i,r,o,u,m,g){return Ys=g,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?U1:Vp,uo=!1,g=o(u,m),uo=!1,ol&&(g=s1(r,o,u,m)),i1(i),g}function i1(i){Z.H=Uu;var r=pt!==null&&pt.next!==null;if(Ys=0,$t=pt=Le=null,Wh=!1,Pu=0,ll=null,r)throw Error(s(300));i===null||Kt||(i=i.dependencies,i!==null&&qh(i)&&(Kt=!0))}function s1(i,r,o,u){Le=i;var m=0;do{if(ol&&(ll=null),Pu=0,ol=!1,25<=m)throw Error(s(301));if(m+=1,$t=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=z1,g=r(o,u)}while(ol);return g}function A5(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?ju(r):r,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Le.flags|=1024),r}function Tp(){var i=Jh!==0;return Jh=0,i}function bp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Sp(i){if(Wh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wh=!1}Ys=0,$t=pt=Le=null,ol=!1,Pu=Jh=0,ll=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Le.memoizedState=$t=i:$t=$t.next=i,$t}function zt(){if(pt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var r=$t===null?Le.memoizedState:$t.next;if(r!==null)$t=r,pt=i;else{if(i===null)throw Le.alternate===null?Error(s(467)):Error(s(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},$t===null?Le.memoizedState=$t=i:$t=$t.next=i}return $t}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ju(i){var r=Pu;return Pu+=1,ll===null&&(ll=[]),i=Y_(ll,i,r),r=Le,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?U1:Vp),i}function td(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ju(i);if(i.$$typeof===H)return vn(i)}throw Error(s(438,String(i)))}function Ap(i){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ed(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function Xs(i,r){return typeof r=="function"?r(i):r}function nd(i){var r=zt();return wp(r,pt,i)}function wp(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=T=null,V=null,$=r,J=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Ke&ne)===ne:(Ys&ne)===ne){var K=$.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===nl&&(J=!0);else if((Ys&K)===K){$=$.next,K===nl&&(J=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(A=V=ne,T=g):V=V.next=ne,Le.lanes|=K,$r|=K;ne=$.action,uo&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else K={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(A=V=K,T=g):V=V.next=K,Le.lanes|=ne,$r|=ne;$=$.next}while($!==null&&$!==r);if(V===null?T=g:V.next=A,!ci(g,i.memoizedState)&&(Kt=!0,J&&(o=il,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function xp(i){var r=zt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);ci(g,r.memoizedState)||(Kt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function r1(i,r,o){var u=Le,m=zt(),g=Ze;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!ci((pt||m).memoizedState,o);if(T&&(m.memoizedState=o,Kt=!0),m=m.queue,Ip(l1.bind(null,u,m,i),[i]),m.getSnapshot!==r||T||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,ul(9,{destroy:void 0},o1.bind(null,u,m,o,r),null),_t===null)throw Error(s(349));g||(Ys&127)!==0||a1(u,r,o)}return o}function a1(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=ed(),Le.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function o1(i,r,o,u){r.value=o,r.getSnapshot=u,u1(r)&&c1(i)}function l1(i,r,o){return o(function(){u1(r)&&c1(i)})}function u1(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ci(i,o)}catch{return!0}}function c1(i){var r=eo(i,2);r!==null&&ni(r,i,2)}function Rp(i){var r=Hn();if(typeof i=="function"){var o=i;if(i=o(),uo){Ln(!0);try{o()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:i},r}function h1(i,r,o,u){return i.baseState=o,wp(i,pt,typeof u=="function"?u:Xs)}function w5(i,r,o,u,m){if(rd(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,d1(r,g)):(g.next=o.next,r.pending=o.next=g)}}function d1(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var g=Z.T,T={};Z.T=T;try{var A=o(m,u),V=Z.S;V!==null&&V(T,A),f1(i,r,A)}catch($){Cp(i,r,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=o(m,u),f1(i,r,g)}catch($){Cp(i,r,$)}}function f1(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){m1(i,r,u)},function(u){return Cp(i,r,u)}):m1(i,r,o)}function m1(i,r,o){r.status="fulfilled",r.value=o,p1(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,d1(i,o)))}function Cp(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,p1(r),r=r.next;while(r!==u)}i.action=null}function p1(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function g1(i,r){return r}function y1(i,r){if(Ze){var o=_t.formState;if(o!==null){e:{var u=Le;if(Ze){if(St){t:{for(var m=St,g=Oi;m.nodeType!==8;){if(!g){m=null;break t}if(m=Mi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=Mi(m.nextSibling),u=m.data==="F!";break e}}jr(u)}u=!1}u&&(r=o[0])}}return o=Hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g1,lastRenderedState:r},o.queue=u,o=P1.bind(null,Le,u),u.dispatch=o,u=Rp(!1),g=Mp.bind(null,Le,!1,u.queue),u=Hn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=w5.bind(null,Le,m,g,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function v1(i){var r=zt();return _1(r,pt,i)}function _1(i,r,o){if(r=wp(i,r,g1)[0],i=nd(Xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ju(r)}catch(T){throw T===sl?$h:T}else u=r;r=zt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,ul(9,{destroy:void 0},x5.bind(null,m,o),null)),[u,g,i]}function x5(i,r){i.action=r}function E1(i){var r=zt(),o=pt;if(o!==null)return _1(r,o,i);zt(),r=r.memoizedState,o=zt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ul(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Le.updateQueue,r===null&&(r=ed(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function T1(){return zt().memoizedState}function id(i,r,o,u){var m=Hn();Le.flags|=i,m.memoizedState=ul(1|r,{destroy:void 0},o,u===void 0?null:u)}function sd(i,r,o,u){var m=zt();u=u===void 0?null:u;var g=m.memoizedState.inst;pt!==null&&u!==null&&_p(u,pt.memoizedState.deps)?m.memoizedState=ul(r,g,o,u):(Le.flags|=i,m.memoizedState=ul(1|r,g,o,u))}function b1(i,r){id(8390656,8,i,r)}function Ip(i,r){sd(2048,8,i,r)}function R5(i){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=ed(),Le.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function S1(i){var r=zt().memoizedState;return R5({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function A1(i,r){return sd(4,2,i,r)}function w1(i,r){return sd(4,4,i,r)}function x1(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function R1(i,r,o){o=o!=null?o.concat([i]):null,sd(4,4,x1.bind(null,r,i),o)}function Np(){}function C1(i,r){var o=zt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&_p(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function I1(i,r){var o=zt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&_p(r,u[1]))return u[0];if(u=i(),uo){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,r],u}function Dp(i,r,o){return o===void 0||(Ys&1073741824)!==0&&(Ke&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=NE(),Le.lanes|=i,$r|=i,o)}function N1(i,r,o,u){return ci(o,r)?o:al.current!==null?(i=Dp(i,o,u),ci(i,r)||(Kt=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Ke&261930)===0?(Kt=!0,i.memoizedState=o):(i=NE(),Le.lanes|=i,$r|=i,r)}function D1(i,r,o,u,m){var g=re.p;re.p=g!==0&&8>g?g:8;var T=Z.T,A={};Z.T=A,Mp(i,!1,r,o);try{var V=m(),$=Z.S;if($!==null&&$(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=b5(V,u);Lu(i,r,J,gi(i))}else Lu(i,r,u,gi(i))}catch(ne){Lu(i,r,{then:function(){},status:"rejected",reason:ne},gi())}finally{re.p=g,T!==null&&A.types!==null&&(T.types=A.types),Z.T=T}}function C5(){}function Op(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=O1(i).queue;D1(i,m,r,he,o===null?C5:function(){return k1(i),o(u)})}function O1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function k1(i){var r=O1(i);r.next===null&&(r=i.alternate.memoizedState),Lu(i,r.next.queue,{},gi())}function kp(){return vn(tc)}function M1(){return zt().memoizedState}function V1(){return zt().memoizedState}function I5(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=gi();i=zr(o);var u=Br(r,i,o);u!==null&&(ni(u,r,o),ku(u,r,o)),r={cache:lp()},i.payload=r;return}r=r.return}}function N5(i,r,o){var u=gi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rd(i)?j1(r,o):(o=Zm(i,r,o,u),o!==null&&(ni(o,i,u),L1(o,r,u)))}function P1(i,r,o){var u=gi();Lu(i,r,o,u)}function Lu(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rd(i))j1(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,A=g(T,o);if(m.hasEagerState=!0,m.eagerState=A,ci(A,T))return Uh(i,r,m,0),_t===null&&Lh(),!1}catch{}finally{}if(o=Zm(i,r,m,u),o!==null)return ni(o,i,u),L1(o,r,u),!0}return!1}function Mp(i,r,o,u){if(u={lane:2,revertLane:dg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rd(i)){if(r)throw Error(s(479))}else r=Zm(i,o,u,2),r!==null&&ni(r,i,2)}function rd(i){var r=i.alternate;return i===Le||r!==null&&r===Le}function j1(i,r){ol=Wh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function L1(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,De(i,o)}}var Uu={readContext:vn,use:td,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Uu.useEffectEvent=Ot;var U1={readContext:vn,use:td,useCallback:function(i,r){return Hn().memoizedState=[i,r===void 0?null:r],i},useContext:vn,useEffect:b1,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,id(4194308,4,x1.bind(null,r,i),o)},useLayoutEffect:function(i,r){return id(4194308,4,i,r)},useInsertionEffect:function(i,r){id(4,2,i,r)},useMemo:function(i,r){var o=Hn();r=r===void 0?null:r;var u=i();if(uo){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Hn();if(o!==void 0){var m=o(r);if(uo){Ln(!0);try{o(r)}finally{Ln(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=N5.bind(null,Le,i),[u.memoizedState,i]},useRef:function(i){var r=Hn();return i={current:i},r.memoizedState=i},useState:function(i){i=Rp(i);var r=i.queue,o=P1.bind(null,Le,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Np,useDeferredValue:function(i,r){var o=Hn();return Dp(o,i,r)},useTransition:function(){var i=Rp(!1);return i=D1.bind(null,Le,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Le,m=Hn();if(Ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(Ke&127)!==0||a1(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,b1(l1.bind(null,u,g,i),[i]),u.flags|=2048,ul(9,{destroy:void 0},o1.bind(null,u,g,o,r),null),o},useId:function(){var i=Hn(),r=_t.identifierPrefix;if(Ze){var o=ms,u=fs;o=(u&~(1<<32-Pt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Jh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=S5++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:kp,useFormState:y1,useActionState:y1,useOptimistic:function(i){var r=Hn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Mp.bind(null,Le,!0,o),o.dispatch=r,[i,r]},useMemoCache:Ap,useCacheRefresh:function(){return Hn().memoizedState=I5.bind(null,Le)},useEffectEvent:function(i){var r=Hn(),o={impl:i};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Vp={readContext:vn,use:td,useCallback:C1,useContext:vn,useEffect:Ip,useImperativeHandle:R1,useInsertionEffect:A1,useLayoutEffect:w1,useMemo:I1,useReducer:nd,useRef:T1,useState:function(){return nd(Xs)},useDebugValue:Np,useDeferredValue:function(i,r){var o=zt();return N1(o,pt.memoizedState,i,r)},useTransition:function(){var i=nd(Xs)[0],r=zt().memoizedState;return[typeof i=="boolean"?i:ju(i),r]},useSyncExternalStore:r1,useId:M1,useHostTransitionStatus:kp,useFormState:v1,useActionState:v1,useOptimistic:function(i,r){var o=zt();return h1(o,pt,i,r)},useMemoCache:Ap,useCacheRefresh:V1};Vp.useEffectEvent=S1;var z1={readContext:vn,use:td,useCallback:C1,useContext:vn,useEffect:Ip,useImperativeHandle:R1,useInsertionEffect:A1,useLayoutEffect:w1,useMemo:I1,useReducer:xp,useRef:T1,useState:function(){return xp(Xs)},useDebugValue:Np,useDeferredValue:function(i,r){var o=zt();return pt===null?Dp(o,i,r):N1(o,pt.memoizedState,i,r)},useTransition:function(){var i=xp(Xs)[0],r=zt().memoizedState;return[typeof i=="boolean"?i:ju(i),r]},useSyncExternalStore:r1,useId:M1,useHostTransitionStatus:kp,useFormState:E1,useActionState:E1,useOptimistic:function(i,r){var o=zt();return pt!==null?h1(o,pt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:V1};z1.useEffectEvent=S1;function Pp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=gi(),m=zr(u);m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,u),r!==null&&(ni(r,i,u),ku(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=gi(),m=zr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,u),r!==null&&(ni(r,i,u),ku(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=gi(),u=zr(o);u.tag=2,r!=null&&(u.callback=r),r=Br(i,u,o),r!==null&&(ni(r,i,o),ku(r,i,o))}};function B1(i,r,o,u,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!wu(o,u)||!wu(m,g):!0}function F1(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&jp.enqueueReplaceState(r,r.state,null)}function co(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function q1(i){jh(i)}function H1(i){console.error(i)}function G1(i){jh(i)}function ad(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function $1(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lp(i,r,o){return o=zr(o),o.tag=3,o.payload={element:null},o.callback=function(){ad(i,r)},o}function K1(i){return i=zr(i),i.tag=3,i}function Y1(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){$1(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){$1(r,o,u),typeof m!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function D5(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&tl(r,o,m,!0),o=di.current,o!==null){switch(o.tag){case 31:case 13:return ki===null?vd():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Kh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),ug(i,u,m)),!1;case 22:return o.flags|=65536,u===Kh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),ug(i,u,m)),!1}throw Error(s(435,o.tag))}return ug(i,u,m),vd(),!1}if(Ze)return r=di.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==ip&&(i=Error(s(422),{cause:u}),Cu(Ii(i,o)))):(u!==ip&&(r=Error(s(423),{cause:u}),Cu(Ii(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Ii(u,o),m=Lp(i.stateNode,u,m),mp(i,m),kt!==4&&(kt=2)),!1;var g=Error(s(520),{cause:u});if(g=Ii(g,o),Ku===null?Ku=[g]:Ku.push(g),kt!==4&&(kt=2),r===null)return!0;u=Ii(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Lp(o.stateNode,u,i),mp(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kr===null||!Kr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=K1(m),Y1(m,i,o,u),mp(o,m),!1}o=o.return}while(o!==null);return!1}var Up=Error(s(461)),Kt=!1;function _n(i,r,o,u){r.child=i===null?W_(r,null,o,u):lo(r,i.child,o,u)}function X1(i,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return so(r),u=Ep(i,r,o,T,g,m),A=Tp(),i!==null&&!Kt?(bp(i,r,m),Qs(i,r,m)):(Ze&&A&&tp(r),r.flags|=1,_n(i,r,u,m),r.child)}function Q1(i,r,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!Wm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Z1(i,r,g,u,m)):(i=Bh(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Kp(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:wu,o(T,u)&&i.ref===r.ref)return Qs(i,r,m)}return r.flags|=1,i=Hs(g,u),i.ref=r.ref,i.return=r,r.child=i}function Z1(i,r,o,u,m){if(i!==null){var g=i.memoizedProps;if(wu(g,u)&&i.ref===r.ref)if(Kt=!1,r.pendingProps=u=g,Kp(i,m))(i.flags&131072)!==0&&(Kt=!0);else return r.lanes=i.lanes,Qs(i,r,m)}return zp(i,r,o,u,m)}function W1(i,r,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return J1(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gh(r,g!==null?g.cachePool:null),g!==null?t1(r,g):gp(),n1(r);else return u=r.lanes=536870912,J1(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Gh(r,g.cachePool),t1(r,g),qr(),r.memoizedState=null):(i!==null&&Gh(r,null),gp(),qr());return _n(i,r,m,o),r.child}function zu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function J1(i,r,o,u,m){var g=cp();return g=g===null?null:{parent:Gt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Gh(r,null),gp(),n1(r),i!==null&&tl(i,r,u,!0),r.childLanes=m,null}function od(i,r){return r=ud({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function eE(i,r,o){return lo(r,i.child,null,o),i=od(r,r.pendingProps),i.flags|=2,fi(r),r.memoizedState=null,i}function O5(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ze){if(u.mode==="hidden")return i=od(r,u),r.lanes=536870912,zu(null,i);if(vp(r),(i=St)?(i=dT(i,Oi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Vr!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=j_(i),o.return=r,r.child=o,yn=r,St=null)):i=null,i===null)throw jr(r);return r.lanes=536870912,null}return od(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(vp(r),m)if(r.flags&256)r.flags&=-257,r=eE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Kt||tl(i,r,o,!1),m=(o&i.childLanes)!==0,Kt||m){if(u=_t,u!==null&&(T=jt(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,eo(i,T),ni(u,i,T),Up;vd(),r=eE(i,r,o)}else i=g.treeContext,St=Mi(T.nextSibling),yn=r,Ze=!0,Pr=null,Oi=!1,i!==null&&z_(r,i),r=od(r,u),r.flags|=4096;return r}return i=Hs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ld(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function zp(i,r,o,u,m){return so(r),o=Ep(i,r,o,u,void 0,m),u=Tp(),i!==null&&!Kt?(bp(i,r,m),Qs(i,r,m)):(Ze&&u&&tp(r),r.flags|=1,_n(i,r,o,m),r.child)}function tE(i,r,o,u,m,g){return so(r),r.updateQueue=null,o=s1(r,u,o,m),i1(i),u=Tp(),i!==null&&!Kt?(bp(i,r,g),Qs(i,r,g)):(Ze&&u&&tp(r),r.flags|=1,_n(i,r,o,g),r.child)}function nE(i,r,o,u,m){if(so(r),r.stateNode===null){var g=Zo,T=o.contextType;typeof T=="object"&&T!==null&&(g=vn(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},dp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?vn(T):Zo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Pp(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&jp.enqueueReplaceState(g,g.state,null),Vu(r,u,g,m),Mu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,V=co(o,A);g.props=V;var $=g.context,J=o.contextType;T=Zo,typeof J=="object"&&J!==null&&(T=vn(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||$!==T)&&F1(r,g,u,T),Ur=!1;var K=r.memoizedState;g.state=K,Vu(r,u,g,m),Mu(),$=r.memoizedState,A||K!==$||Ur?(typeof ne=="function"&&(Pp(r,o,ne,u),$=r.memoizedState),(V=Ur||B1(r,o,V,u,K,$,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,fp(i,r),T=r.memoizedProps,J=co(o,T),g.props=J,ne=r.pendingProps,K=g.context,$=o.contextType,V=Zo,typeof $=="object"&&$!==null&&(V=vn($)),A=o.getDerivedStateFromProps,($=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||K!==V)&&F1(r,g,u,V),Ur=!1,K=r.memoizedState,g.state=K,Vu(r,u,g,m),Mu();var Y=r.memoizedState;T!==ne||K!==Y||Ur||i!==null&&i.dependencies!==null&&qh(i.dependencies)?(typeof A=="function"&&(Pp(r,o,A,u),Y=r.memoizedState),(J=Ur||B1(r,o,J,u,K,Y,V)||i!==null&&i.dependencies!==null&&qh(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Y,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Y,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=V,u=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,ld(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=lo(r,i.child,null,m),r.child=lo(r,null,o,m)):_n(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Qs(i,r,m),i}function iE(i,r,o,u){return no(),r.flags|=256,_n(i,r,o,u),r.child}var Bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fp(i){return{baseLanes:i,cachePool:$_()}}function qp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=pi),i}function sE(i,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ze){if(m?Fr(r):qr(),(i=St)?(i=dT(i,Oi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Vr!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=j_(i),o.return=r,r.child=o,yn=r,St=null)):i=null,i===null)throw jr(r);return wg(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(qr(),m=r.mode,A=ud({mode:"hidden",children:A},m),u=to(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Fp(o),u.childLanes=qp(i,T,o),r.memoizedState=Bp,zu(null,u)):(Fr(r),Hp(r,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(g)r.flags&256?(Fr(r),r.flags&=-257,r=Gp(i,r,o)):r.memoizedState!==null?(qr(),r.child=i.child,r.flags|=128,r=null):(qr(),A=u.fallback,m=r.mode,u=ud({mode:"visible",children:u.children},m),A=to(A,m,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,lo(r,i.child,null,o),u=r.child,u.memoizedState=Fp(o),u.childLanes=qp(i,T,o),r.memoizedState=Bp,r=zu(null,u));else if(Fr(r),wg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(s(419)),u.stack="",u.digest=T,Cu({value:u,source:null,stack:null}),r=Gp(i,r,o)}else if(Kt||tl(i,r,o,!1),T=(o&i.childLanes)!==0,Kt||T){if(T=_t,T!==null&&(u=jt(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,eo(i,u),ni(T,i,u),Up;Ag(A)||vd(),r=Gp(i,r,o)}else Ag(A)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,St=Mi(A.nextSibling),yn=r,Ze=!0,Pr=null,Oi=!1,i!==null&&z_(r,i),r=Hp(r,u.children),r.flags|=4096);return r}return m?(qr(),A=u.fallback,m=r.mode,V=i.child,$=V.sibling,u=Hs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?A=Hs($,A):(A=to(A,m,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,zu(null,u),u=r.child,A=i.child.memoizedState,A===null?A=Fp(o):(m=A.cachePool,m!==null?(V=Gt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=$_(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=qp(i,T,o),r.memoizedState=Bp,zu(i.child,u)):(Fr(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Hp(i,r){return r=ud({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ud(i,r){return i=hi(22,i,null,r),i.lanes=0,i}function Gp(i,r,o){return lo(r,i.child,null,o),i=Hp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function rE(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ap(i.return,r,o)}function $p(i,r,o,u,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function aE(i,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var T=Ut.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,se(Ut,T),_n(i,r,u,o),u=Ze?Ru:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rE(i,o,r);else if(i.tag===19)rE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Zh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),$p(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Zh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}$p(r,!0,o,null,g,u);break;case"together":$p(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Qs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),$r|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(tl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Kp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&qh(i)))}function k5(i,r,o){switch(r.tag){case 3:ht(r,r.stateNode.containerInfo),Lr(r,Gt,i.memoizedState.cache),no();break;case 27:case 5:qt(r);break;case 4:ht(r,r.stateNode.containerInfo);break;case 10:Lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sE(i,r,o):(Fr(r),i=Qs(i,r,o),i!==null?i.sibling:null);Fr(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(tl(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return aE(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),se(Ut,Ut.current),u)break;return null;case 22:return r.lanes=0,W1(i,r,o,r.pendingProps);case 24:Lr(r,Gt,i.memoizedState.cache)}return Qs(i,r,o)}function oE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Kt=!0;else{if(!Kp(i,o)&&(r.flags&128)===0)return Kt=!1,k5(i,r,o);Kt=(i.flags&131072)!==0}else Kt=!1,Ze&&(r.flags&1048576)!==0&&U_(r,Ru,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=ao(r.elementType),r.type=i,typeof i=="function")Wm(i)?(u=co(i,u),r.tag=1,r=nE(null,r,i,u,o)):(r.tag=0,r=zp(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===ae){r.tag=11,r=X1(null,r,i,u,o);break e}else if(m===I){r.tag=14,r=Q1(null,r,i,u,o);break e}}throw r=We(i)||i,Error(s(306,r,""))}}return r;case 0:return zp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=co(u,r.pendingProps),nE(i,r,u,m,o);case 3:e:{if(ht(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,fp(i,r),Vu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Lr(r,Gt,u),u!==g.cache&&op(r,[Gt],o,!0),Mu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=iE(i,r,u,o);break e}else if(u!==m){m=Ii(Error(s(424)),r),Cu(m),r=iE(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(St=Mi(i.firstChild),yn=r,Ze=!0,Pr=null,Oi=!0,o=W_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(no(),u===m){r=Qs(i,r,o);break e}_n(i,r,u,o)}r=r.child}return r;case 26:return ld(i,r),i===null?(o=vT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ze||(o=r.type,i=r.pendingProps,u=wd(Oe.current).createElement(o),u[Nt]=r,u[gn]=i,En(u,o,i),Lt(u),r.stateNode=u):r.memoizedState=vT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return qt(r),i===null&&Ze&&(u=r.stateNode=pT(r.type,r.pendingProps,Oe.current),yn=r,Oi=!0,m=St,Zr(r.type)?(xg=m,St=Mi(u.firstChild)):St=m),_n(i,r,r.pendingProps.children,o),ld(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ze&&((m=u=St)&&(u=uI(u,r.type,r.pendingProps,Oi),u!==null?(r.stateNode=u,yn=r,St=Mi(u.firstChild),Oi=!1,m=!0):m=!1),m||jr(r)),qt(r),m=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Tg(m,g)?u=null:T!==null&&Tg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Ep(i,r,A5,null,null,o),tc._currentValue=m),ld(i,r),_n(i,r,u,o),r.child;case 6:return i===null&&Ze&&((i=o=St)&&(o=cI(o,r.pendingProps,Oi),o!==null?(r.stateNode=o,yn=r,St=null,i=!0):i=!1),i||jr(r)),null;case 13:return sE(i,r,o);case 4:return ht(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=lo(r,null,u,o):_n(i,r,u,o),r.child;case 11:return X1(i,r,r.type,r.pendingProps,o);case 7:return _n(i,r,r.pendingProps,o),r.child;case 8:return _n(i,r,r.pendingProps.children,o),r.child;case 12:return _n(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Lr(r,r.type,u.value),_n(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,so(r),m=vn(m),u=u(m),r.flags|=1,_n(i,r,u,o),r.child;case 14:return Q1(i,r,r.type,r.pendingProps,o);case 15:return Z1(i,r,r.type,r.pendingProps,o);case 19:return aE(i,r,o);case 31:return O5(i,r,o);case 22:return W1(i,r,o,r.pendingProps);case 24:return so(r),u=vn(Gt),i===null?(m=cp(),m===null&&(m=_t,g=lp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},dp(r),Lr(r,Gt,m)):((i.lanes&o)!==0&&(fp(i,r),Vu(r,null,null,o),Mu()),m=i.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Lr(r,Gt,u)):(u=g.cache,Lr(r,Gt,u),u!==m.cache&&op(r,[Gt],o,!0))),_n(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zs(i){i.flags|=4}function Yp(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(ME())i.flags|=8192;else throw oo=Kh,hp}else i.flags&=-16777217}function lE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ST(r))if(ME())i.flags|=8192;else throw oo=Kh,hp}function cd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?za():536870912,i.lanes|=r,fl|=r)}function Bu(i,r){if(!Ze)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function M5(i,r,o){var u=r.pendingProps;switch(np(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ks(Gt),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(el(r)?Zs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sp())),At(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Zs(r),g!==null?(At(r),lE(r,g)):(At(r),Yp(r,m,null,u,o))):g?g!==i.memoizedState?(Zs(r),At(r),lE(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Zs(r),At(r),Yp(r,m,i,u,o)),null;case 27:if(Kn(r),o=Oe.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Zs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=fe.current,el(r)?B_(r):(i=pT(m,u,o),r.stateNode=i,Zs(r))}return At(r),null;case 5:if(Kn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Zs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=fe.current,el(r))B_(r);else{var T=wd(Oe.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(m,{is:u.is}):T.createElement(m)}}g[Nt]=r,g[gn]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(En(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Zs(r)}}return At(r),Yp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Zs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Oe.current,el(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=yn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Nt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sT(i.nodeValue,o)),i||jr(r,!0)}else i=wd(i).createTextNode(u),i[Nt]=r,r.stateNode=i}return At(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=el(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Nt]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else o=sp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(fi(r),r):(fi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=el(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Nt]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=sp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(fi(r),r):(fi(r),null)}return fi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),cd(r,r.updateQueue),At(r),null);case 4:return Je(),i===null&&gg(r.stateNode.containerInfo),At(r),null;case 10:return Ks(r.type),At(r),null;case 19:if(W(Ut),u=r.memoizedState,u===null)return At(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)Bu(u,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Zh(i),g!==null){for(r.flags|=128,Bu(u,!1),i=g.updateQueue,r.updateQueue=i,cd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)P_(o,i),o=o.sibling;return se(Ut,Ut.current&1|2),Ze&&Gs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&tn()>pd&&(r.flags|=128,m=!0,Bu(u,!1),r.lanes=4194304)}else{if(!m)if(i=Zh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,cd(r,i),Bu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ze)return At(r),null}else 2*tn()-u.renderingStartTime>pd&&o!==536870912&&(r.flags|=128,m=!0,Bu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=tn(),i.sibling=null,o=Ut.current,se(Ut,m?o&1|2:o&1),Ze&&Gs(r,u.treeForkCount),i):(At(r),null);case 22:case 23:return fi(r),yp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&cd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&W(ro),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ks(Gt),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function V5(i,r){switch(np(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ks(Gt),Je(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Kn(r),null;case 31:if(r.memoizedState!==null){if(fi(r),r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(fi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return W(Ut),null;case 4:return Je(),null;case 10:return Ks(r.type),null;case 22:case 23:return fi(r),yp(),i!==null&&W(ro),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ks(Gt),null;case 25:return null;default:return null}}function uE(i,r){switch(np(r),r.tag){case 3:Ks(Gt),Je();break;case 26:case 27:case 5:Kn(r);break;case 4:Je();break;case 31:r.memoizedState!==null&&fi(r);break;case 13:fi(r);break;case 19:W(Ut);break;case 10:Ks(r.type);break;case 22:case 23:fi(r),yp(),i!==null&&W(ro);break;case 24:Ks(Gt)}}function Fu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==m)}}catch(A){ft(r,r.return,A)}}function Hr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=r;var V=o,$=A;try{$()}catch(J){ft(m,V,J)}}}u=u.next}while(u!==g)}}catch(J){ft(r,r.return,J)}}function cE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{e1(r,o)}catch(u){ft(i,i.return,u)}}}function hE(i,r,o){o.props=co(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ft(i,r,u)}}function qu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){ft(i,r,m)}}function ps(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ft(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ft(i,r,m)}else o.current=null}function dE(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ft(i,i.return,m)}}function Xp(i,r,o){try{var u=i.stateNode;iI(u,i.type,o,r),u[gn]=r}catch(m){ft(i,i.return,m)}}function fE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Zr(i.type)||i.tag===4}function Qp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Zr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ln));else if(u!==4&&(u===27&&Zr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Zp(i,r,o),i=i.sibling;i!==null;)Zp(i,r,o),i=i.sibling}function hd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Zr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(hd(i,r,o),i=i.sibling;i!==null;)hd(i,r,o),i=i.sibling}function mE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);En(r,u,o),r[Nt]=i,r[gn]=o}catch(g){ft(i,i.return,g)}}var Ws=!1,Yt=!1,Wp=!1,pE=typeof WeakSet=="function"?WeakSet:Set,hn=null;function P5(i,r){if(i=i.containerInfo,_g=Od,i=R_(i),Gm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,V=-1,$=0,J=0,ne=i,K=null;t:for(;;){for(var Y;ne!==o||m!==0&&ne.nodeType!==3||(A=T+m),ne!==g||u!==0&&ne.nodeType!==3||(V=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)K=ne,ne=Y;for(;;){if(ne===i)break t;if(K===o&&++$===m&&(A=T),K===g&&++J===u&&(V=T),(Y=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Y}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Eg={focusedElem:i,selectionRange:o},Od=!1,hn=r;hn!==null;)if(r=hn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,hn=i;else for(;hn!==null;){switch(r=hn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=co(o.type,m);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(xe){ft(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Sg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,hn=i;break}hn=r.return}}function gE(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),u&4&&Fu(5,o);break;case 1:if(er(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){ft(o,o.return,T)}else{var m=co(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ft(o,o.return,T)}}u&64&&cE(o),u&512&&qu(o,o.return);break;case 3:if(er(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{e1(i,r)}catch(T){ft(o,o.return,T)}}break;case 27:r===null&&u&4&&mE(o);case 26:case 5:er(i,o),r===null&&u&4&&dE(o),u&512&&qu(o,o.return);break;case 12:er(i,o);break;case 31:er(i,o),u&4&&_E(i,o);break;case 13:er(i,o),u&4&&EE(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=G5.bind(null,o),hI(i,o))));break;case 22:if(u=o.memoizedState!==null||Ws,!u){r=r!==null&&r.memoizedState!==null||Yt,m=Ws;var g=Yt;Ws=u,(Yt=r)&&!g?tr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),Ws=m,Yt=g}break;case 30:break;default:er(i,o)}}function yE(i){var r=i.alternate;r!==null&&(i.alternate=null,yE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Fa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Wn=!1;function Js(i,r,o){for(o=o.child;o!==null;)vE(i,r,o),o=o.sibling}function vE(i,r,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ns,o)}catch{}switch(o.tag){case 26:Yt||ps(o,r),Js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yt||ps(o,r);var u=xt,m=Wn;Zr(o.type)&&(xt=o.stateNode,Wn=!1),Js(i,r,o),Wu(o.stateNode),xt=u,Wn=m;break;case 5:Yt||ps(o,r);case 6:if(u=xt,m=Wn,xt=null,Js(i,r,o),xt=u,Wn=m,xt!==null)if(Wn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{xt.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:xt!==null&&(Wn?(i=xt,cT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tl(i)):cT(xt,o.stateNode));break;case 4:u=xt,m=Wn,xt=o.stateNode.containerInfo,Wn=!0,Js(i,r,o),xt=u,Wn=m;break;case 0:case 11:case 14:case 15:Hr(2,o,r),Yt||Hr(4,o,r),Js(i,r,o);break;case 1:Yt||(ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&hE(o,r,u)),Js(i,r,o);break;case 21:Js(i,r,o);break;case 22:Yt=(u=Yt)||o.memoizedState!==null,Js(i,r,o),Yt=u;break;default:Js(i,r,o)}}function _E(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(o){ft(r,r.return,o)}}}function EE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(o){ft(r,r.return,o)}}function j5(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new pE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new pE),r;default:throw Error(s(435,i.tag))}}function dd(i,r){var o=j5(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=$5.bind(null,i,u);u.then(m,m)}})}function Jn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Zr(A.type)){xt=A.stateNode,Wn=!1;break e}break;case 5:xt=A.stateNode,Wn=!1;break e;case 3:case 4:xt=A.stateNode.containerInfo,Wn=!0;break e}A=A.return}if(xt===null)throw Error(s(160));vE(g,T,m),xt=null,Wn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)TE(r,i),r=r.sibling}var Ki=null;function TE(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jn(r,i),ei(i),u&4&&(Hr(3,i,i.return),Fu(3,i),Hr(5,i,i.return));break;case 1:Jn(r,i),ei(i),u&512&&(Yt||o===null||ps(o,o.return)),u&64&&Ws&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ki;if(Jn(r,i),ei(i),u&512&&(Yt||o===null||ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ps]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),En(g,u,o),g[Nt]=i,Lt(g),u=g;break e;case"link":var T=TT("link","href",m).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=m.createElement(u),En(g,u,o),m.head.appendChild(g);break;case"meta":if(T=TT("meta","content",m).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=m.createElement(u),En(g,u,o),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[Nt]=i,Lt(g),u=g}i.stateNode=u}else bT(m,i.type,i.stateNode);else i.stateNode=ET(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?bT(m,i.type,i.stateNode):ET(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Xp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Jn(r,i),ei(i),u&512&&(Yt||o===null||ps(o,o.return)),o!==null&&u&4&&Xp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Jn(r,i),ei(i),u&512&&(Yt||o===null||ps(o,o.return)),i.flags&32){m=i.stateNode;try{Ri(m,"")}catch(ye){ft(i,i.return,ye)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Xp(i,m,o!==null?o.memoizedProps:m)),u&1024&&(Wp=!0);break;case 6:if(Jn(r,i),ei(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){ft(i,i.return,ye)}}break;case 3:if(Cd=null,m=Ki,Ki=xd(r.containerInfo),Jn(r,i),Ki=m,ei(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tl(r.containerInfo)}catch(ye){ft(i,i.return,ye)}Wp&&(Wp=!1,bE(i));break;case 4:u=Ki,Ki=xd(i.stateNode.containerInfo),Jn(r,i),ei(i),Ki=u;break;case 12:Jn(r,i),ei(i);break;case 31:Jn(r,i),ei(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 13:Jn(r,i),ei(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(md=tn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=Ws,J=Yt;if(Ws=$||m,Yt=J||V,Jn(r,i),Yt=J,Ws=$,ei(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||Ws||Yt||ho(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=V.stateNode;var ne=V.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){ft(V,V.return,ye)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ye){ft(V,V.return,ye)}}}else if(r.tag===18){if(o===null){V=r;try{var Y=V.stateNode;m?hT(Y,!0):hT(V.stateNode,!1)}catch(ye){ft(V,V.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,dd(i,o))));break;case 19:Jn(r,i),ei(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 30:break;case 21:break;default:Jn(r,i),ei(i)}}function ei(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(fE(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=Qp(i);hd(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Ri(T,""),o.flags&=-33);var A=Qp(i);hd(i,A,T);break;case 3:case 4:var V=o.stateNode.containerInfo,$=Qp(i);Zp(i,$,V);break;default:throw Error(s(161))}}catch(J){ft(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function bE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;bE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gE(i,r.alternate,r),r=r.sibling}function ho(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),ho(r);break;case 1:ps(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hE(r,r.return,o),ho(r);break;case 27:Wu(r.stateNode);case 26:case 5:ps(r,r.return),ho(r);break;case 22:r.memoizedState===null&&ho(r);break;case 30:ho(r);break;default:ho(r)}i=i.sibling}}function tr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:tr(m,g,o),Fu(4,g);break;case 1:if(tr(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ft(u,u.return,$)}if(u=g,m=u.updateQueue,m!==null){var A=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)J_(V[m],A)}catch($){ft(u,u.return,$)}}o&&T&64&&cE(g),qu(g,g.return);break;case 27:mE(g);case 26:case 5:tr(m,g,o),o&&u===null&&T&4&&dE(g),qu(g,g.return);break;case 12:tr(m,g,o);break;case 31:tr(m,g,o),o&&T&4&&_E(m,g);break;case 13:tr(m,g,o),o&&T&4&&EE(m,g);break;case 22:g.memoizedState===null&&tr(m,g,o),qu(g,g.return);break;case 30:break;default:tr(m,g,o)}r=r.sibling}}function Jp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Iu(o))}function eg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Iu(i))}function Yi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)SE(i,r,o,u),r=r.sibling}function SE(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(i,r,o,u),m&2048&&Fu(9,r);break;case 1:Yi(i,r,o,u);break;case 3:Yi(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Iu(i)));break;case 12:if(m&2048){Yi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ft(r,r.return,V)}}else Yi(i,r,o,u);break;case 31:Yi(i,r,o,u);break;case 13:Yi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Yi(i,r,o,u):Hu(i,r):g._visibility&2?Yi(i,r,o,u):(g._visibility|=2,cl(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Jp(T,r);break;case 24:Yi(i,r,o,u),m&2048&&eg(r.alternate,r);break;default:Yi(i,r,o,u)}}function cl(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,A=o,V=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:cl(g,T,A,V,m),Fu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?cl(g,T,A,V,m):Hu(g,T):(J._visibility|=2,cl(g,T,A,V,m)),m&&$&2048&&Jp(T.alternate,T);break;case 24:cl(g,T,A,V,m),m&&$&2048&&eg(T.alternate,T);break;default:cl(g,T,A,V,m)}r=r.sibling}}function Hu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:Hu(o,u),m&2048&&Jp(u.alternate,u);break;case 24:Hu(o,u),m&2048&&eg(u.alternate,u);break;default:Hu(o,u)}r=r.sibling}}var Gu=8192;function hl(i,r,o){if(i.subtreeFlags&Gu)for(i=i.child;i!==null;)AE(i,r,o),i=i.sibling}function AE(i,r,o){switch(i.tag){case 26:hl(i,r,o),i.flags&Gu&&i.memoizedState!==null&&SI(o,Ki,i.memoizedState,i.memoizedProps);break;case 5:hl(i,r,o);break;case 3:case 4:var u=Ki;Ki=xd(i.stateNode.containerInfo),hl(i,r,o),Ki=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Gu,Gu=16777216,hl(i,r,o),Gu=u):hl(i,r,o));break;default:hl(i,r,o)}}function wE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function $u(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];hn=u,RE(u,i)}wE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xE(i),i=i.sibling}function xE(i){switch(i.tag){case 0:case 11:case 15:$u(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:$u(i);break;case 12:$u(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,fd(i)):$u(i);break;default:$u(i)}}function fd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];hn=u,RE(u,i)}wE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),fd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,fd(r));break;default:fd(r)}i=i.sibling}}function RE(i,r){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:Hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Iu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,hn=u;else e:for(o=i;hn!==null;){u=hn;var m=u.sibling,g=u.return;if(yE(u),u===o){hn=null;break e}if(m!==null){m.return=g,hn=m;break e}hn=g}}}var L5={getCacheForType:function(i){var r=vn(Gt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return vn(Gt).controller.signal}},U5=typeof WeakMap=="function"?WeakMap:Map,ot=0,_t=null,Ge=null,Ke=0,dt=0,mi=null,Gr=!1,dl=!1,tg=!1,nr=0,kt=0,$r=0,fo=0,ng=0,pi=0,fl=0,Ku=null,ti=null,ig=!1,md=0,CE=0,pd=1/0,gd=null,Kr=null,sn=0,Yr=null,ml=null,ir=0,sg=0,rg=null,IE=null,Yu=0,ag=null;function gi(){return(ot&2)!==0&&Ke!==0?Ke&-Ke:Z.T!==null?dg():Vs()}function NE(){if(pi===0)if((Ke&536870912)===0||Ze){var i=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),pi=i}else pi=536870912;return i=di.current,i!==null&&(i.flags|=32),pi}function ni(i,r,o){(i===_t&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(pl(i,0),Xr(i,Ke,pi,!1)),rs(i,o),((ot&2)===0||i!==_t)&&(i===_t&&((ot&2)===0&&(fo|=o),kt===4&&Xr(i,Ke,pi,!1)),gs(i))}function DE(i,r,o){if((ot&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ss(i,r),m=u?F5(i,r):lg(i,r,!0),g=u;do{if(m===0){dl&&!u&&Xr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!z5(o)){m=lg(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=i;m=Ku;var V=A.current.memoizedState.isDehydrated;if(V&&(pl(A,T).flags|=256),T=lg(A,T,!1),T!==2){if(tg&&!V){A.errorRecoveryDisabledLanes|=g,fo|=g,m=4;break e}g=ti,ti=m,g!==null&&(ti===null?ti=g:ti.push.apply(ti,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){pl(i,0),Xr(i,r,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Xr(u,r,pi,!Gr);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=md+300-tn(),10<m)){if(Xr(u,r,pi,!Gr),Xn(u,0,!0)!==0)break e;ir=r,u.timeoutHandle=lT(OE.bind(null,u,o,ti,gd,ig,r,pi,fo,fl,Gr,g,"Throttled",-0,0),m);break e}OE(u,o,ti,gd,ig,r,pi,fo,fl,Gr,g,null,-0,0)}}break}while(!0);gs(i)}function OE(i,r,o,u,m,g,T,A,V,$,J,ne,K,Y){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},AE(r,g,ne);var ye=(g&62914560)===g?md-tn():(g&4194048)===g?CE-tn():0;if(ye=AI(ne,ye),ye!==null){ir=g,i.cancelPendingCommit=ye(zE.bind(null,i,r,g,o,u,m,T,A,V,J,ne,null,K,Y)),Xr(i,g,T,!$);return}}zE(i,r,g,o,u,m,T,A,V)}function z5(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!ci(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(i,r,o,u){r&=~ng,r&=~fo,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var g=31-Pt(m),T=1<<g;u[g]=-1,m&=~T}o!==0&&ve(i,o,r)}function yd(){return(ot&6)===0?(Xu(0),!1):!0}function og(){if(Ge!==null){if(dt===0)var i=Ge.return;else i=Ge,$s=io=null,Sp(i),rl=null,Du=0,i=Ge;for(;i!==null;)uE(i.alternate,i),i=i.return;Ge=null}}function pl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,aI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ir=0,og(),_t=i,Ge=o=Hs(i.current,null),Ke=r,dt=0,mi=null,Gr=!1,dl=ss(i,r),tg=!1,fl=pi=ng=fo=$r=kt=0,ti=Ku=null,ig=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-Pt(u),g=1<<m;r|=i[m],u&=~g}return nr=r,Lh(),o}function kE(i,r){Le=null,Z.H=Uu,r===sl||r===$h?(r=X_(),dt=3):r===hp?(r=X_(),dt=4):dt=r===Up?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mi=r,Ge===null&&(kt=1,ad(i,Ii(r,i.current)))}function ME(){var i=di.current;return i===null?!0:(Ke&4194048)===Ke?ki===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?i===ki:!1}function VE(){var i=Z.H;return Z.H=Uu,i===null?Uu:i}function PE(){var i=Z.A;return Z.A=L5,i}function vd(){kt=4,Gr||(Ke&4194048)!==Ke&&di.current!==null||(dl=!0),($r&134217727)===0&&(fo&134217727)===0||_t===null||Xr(_t,Ke,pi,!1)}function lg(i,r,o){var u=ot;ot|=2;var m=VE(),g=PE();(_t!==i||Ke!==r)&&(gd=null,pl(i,r)),r=!1;var T=kt;e:do try{if(dt!==0&&Ge!==null){var A=Ge,V=mi;switch(dt){case 8:og(),T=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(r=!0);var $=dt;if(dt=0,mi=null,gl(i,A,V,$),o&&dl){T=0;break e}break;default:$=dt,dt=0,mi=null,gl(i,A,V,$)}}B5(),T=kt;break}catch(J){kE(i,J)}while(!0);return r&&i.shellSuspendCounter++,$s=io=null,ot=u,Z.H=m,Z.A=g,Ge===null&&(_t=null,Ke=0,Lh()),T}function B5(){for(;Ge!==null;)jE(Ge)}function F5(i,r){var o=ot;ot|=2;var u=VE(),m=PE();_t!==i||Ke!==r?(gd=null,pd=tn()+500,pl(i,r)):dl=ss(i,r);e:do try{if(dt!==0&&Ge!==null){r=Ge;var g=mi;t:switch(dt){case 1:dt=0,mi=null,gl(i,r,g,1);break;case 2:case 9:if(K_(g)){dt=0,mi=null,LE(r);break}r=function(){dt!==2&&dt!==9||_t!==i||(dt=7),gs(i)},g.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:K_(g)?(dt=0,mi=null,LE(r)):(dt=0,mi=null,gl(i,r,g,7));break;case 5:var T=null;switch(Ge.tag){case 26:T=Ge.memoizedState;case 5:case 27:var A=Ge;if(T?ST(T):A.stateNode.complete){dt=0,mi=null;var V=A.sibling;if(V!==null)Ge=V;else{var $=A.return;$!==null?(Ge=$,_d($)):Ge=null}break t}}dt=0,mi=null,gl(i,r,g,5);break;case 6:dt=0,mi=null,gl(i,r,g,6);break;case 8:og(),kt=6;break e;default:throw Error(s(462))}}q5();break}catch(J){kE(i,J)}while(!0);return $s=io=null,Z.H=u,Z.A=m,ot=o,Ge!==null?0:(_t=null,Ke=0,Lh(),kt)}function q5(){for(;Ge!==null&&!ts();)jE(Ge)}function jE(i){var r=oE(i.alternate,i,nr);i.memoizedProps=i.pendingProps,r===null?_d(i):Ge=r}function LE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=tE(o,r,r.pendingProps,r.type,void 0,Ke);break;case 11:r=tE(o,r,r.pendingProps,r.type.render,r.ref,Ke);break;case 5:Sp(r);default:uE(o,r),r=Ge=P_(r,nr),r=oE(o,r,nr)}i.memoizedProps=i.pendingProps,r===null?_d(i):Ge=r}function gl(i,r,o,u){$s=io=null,Sp(r),rl=null,Du=0;var m=r.return;try{if(D5(i,m,r,o,Ke)){kt=1,ad(i,Ii(o,i.current)),Ge=null;return}}catch(g){if(m!==null)throw Ge=m,g;kt=1,ad(i,Ii(o,i.current)),Ge=null;return}r.flags&32768?(Ze||u===1?i=!0:dl||(Ke&536870912)!==0?i=!1:(Gr=i=!0,(u===2||u===9||u===3||u===6)&&(u=di.current,u!==null&&u.tag===13&&(u.flags|=16384))),UE(r,i)):_d(r)}function _d(i){var r=i;do{if((r.flags&32768)!==0){UE(r,Gr);return}i=r.return;var o=M5(r.alternate,r,nr);if(o!==null){Ge=o;return}if(r=r.sibling,r!==null){Ge=r;return}Ge=r=i}while(r!==null);kt===0&&(kt=5)}function UE(i,r){do{var o=V5(i.alternate,i);if(o!==null){o.flags&=32767,Ge=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ge=i;return}Ge=i=o}while(i!==null);kt=6,Ge=null}function zE(i,r,o,u,m,g,T,A,V){i.cancelPendingCommit=null;do Ed();while(sn!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Qm,nn(i,o,g,T,A,V),i===_t&&(Ge=_t=null,Ke=0),ml=r,Yr=i,ir=o,sg=g,rg=m,IE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,K5(jn,function(){return GE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,m=re.p,re.p=2,T=ot,ot|=4;try{P5(i,r,o)}finally{ot=T,re.p=m,Z.T=u}}sn=1,BE(),FE(),qE()}}function BE(){if(sn===1){sn=0;var i=Yr,r=ml,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=re.p;re.p=2;var m=ot;ot|=4;try{TE(r,i);var g=Eg,T=R_(i.containerInfo),A=g.focusedElem,V=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&x_(A.ownerDocument.documentElement,A)){if(V!==null&&Gm(A)){var $=V.start,J=V.end;if(J===void 0&&(J=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Y=K.getSelection(),ye=A.textContent.length,xe=Math.min(V.start,ye),yt=V.end===void 0?xe:Math.min(V.end,ye);!Y.extend&&xe>yt&&(T=yt,yt=xe,xe=T);var F=w_(A,xe),z=w_(A,yt);if(F&&z&&(Y.rangeCount!==1||Y.anchorNode!==F.node||Y.anchorOffset!==F.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var G=ne.createRange();G.setStart(F.node,F.offset),Y.removeAllRanges(),xe>yt?(Y.addRange(G),Y.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Y.addRange(G))}}}}for(ne=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var te=ne[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Od=!!_g,Eg=_g=null}finally{ot=m,re.p=u,Z.T=o}}i.current=r,sn=2}}function FE(){if(sn===2){sn=0;var i=Yr,r=ml,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=re.p;re.p=2;var m=ot;ot|=4;try{gE(i,r.alternate,r)}finally{ot=m,re.p=u,Z.T=o}}sn=3}}function qE(){if(sn===4||sn===3){sn=0,La();var i=Yr,r=ml,o=ir,u=IE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,ml=Yr=null,HE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Kr=null),Ba(o),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ns,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,m=re.p,re.p=2,Z.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,re.p=m}}(ir&3)!==0&&Ed(),gs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===ag?Yu++:(Yu=0,ag=i):Yu=0,Xu(0)}}function HE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Iu(r)))}function Ed(){return BE(),FE(),qE(),GE()}function GE(){if(sn!==5)return!1;var i=Yr,r=sg;sg=0;var o=Ba(ir),u=Z.T,m=re.p;try{re.p=32>o?32:o,Z.T=null,o=rg,rg=null;var g=Yr,T=ir;if(sn=0,ml=Yr=null,ir=0,(ot&6)!==0)throw Error(s(331));var A=ot;if(ot|=4,xE(g.current),SE(g,g.current,T,o),ot=A,Xu(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ns,g)}catch{}return!0}finally{re.p=m,Z.T=u,HE(i,r)}}function $E(i,r,o){r=Ii(o,r),r=Lp(i.stateNode,r,2),i=Br(i,r,2),i!==null&&(rs(i,2),gs(i))}function ft(i,r,o){if(i.tag===3)$E(i,i,o);else for(;r!==null;){if(r.tag===3){$E(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Kr===null||!Kr.has(u))){i=Ii(o,i),o=K1(2),u=Br(r,o,2),u!==null&&(Y1(o,u,r,i),rs(u,2),gs(u));break}}r=r.return}}function ug(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new U5;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(tg=!0,m.add(o),i=H5.bind(null,i,r,o),r.then(i,i))}function H5(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Ke&o)===o&&(kt===4||kt===3&&(Ke&62914560)===Ke&&300>tn()-md?(ot&2)===0&&pl(i,0):ng|=o,fl===Ke&&(fl=0)),gs(i)}function KE(i,r){r===0&&(r=za()),i=eo(i,r),i!==null&&(rs(i,r),gs(i))}function G5(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),KE(i,o)}function $5(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),KE(i,o)}function K5(i,r){return Yn(i,r)}var Td=null,yl=null,cg=!1,bd=!1,hg=!1,Qr=0;function gs(i){i!==yl&&i.next===null&&(yl===null?Td=yl=i:yl=yl.next=i),bd=!0,cg||(cg=!0,X5())}function Xu(i,r){if(!hg&&bd){hg=!0;do for(var o=!1,u=Td;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var T=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Pt(42|i)+1)-1,g&=m&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ZE(u,g))}else g=Ke,g=Xn(u,u===_t?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ss(u,g)||(o=!0,ZE(u,g));u=u.next}while(o);hg=!1}}function Y5(){YE()}function YE(){bd=cg=!1;var i=0;Qr!==0&&rI()&&(i=Qr);for(var r=tn(),o=null,u=Td;u!==null;){var m=u.next,g=XE(u,r);g===0?(u.next=null,o===null?Td=m:o.next=m,m===null&&(yl=o)):(o=u,(i!==0||(g&3)!==0)&&(bd=!0)),u=m}sn!==0&&sn!==5||Xu(i),Qr!==0&&(Qr=0)}function XE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Pt(g),A=1<<T,V=m[T];V===-1?((A&o)===0||(A&u)!==0)&&(m[T]=Er(A,r)):V<=r&&(i.expiredLanes|=A),g&=~A}if(r=_t,o=Ke,o=Xn(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ai(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ss(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ai(u),Ba(o)){case 2:case 8:o=mt;break;case 32:o=jn;break;case 268435456:o=vr;break;default:o=jn}return u=QE.bind(null,i),o=Yn(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ai(u),i.callbackPriority=2,i.callbackNode=null,2}function QE(i,r){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ed()&&i.callbackNode!==o)return null;var u=Ke;return u=Xn(i,i===_t?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(DE(i,u,r),XE(i,tn()),i.callbackNode!=null&&i.callbackNode===o?QE.bind(null,i):null)}function ZE(i,r){if(Ed())return null;DE(i,r,!0)}function X5(){oI(function(){(ot&6)!==0?Yn(He,Y5):YE()})}function dg(){if(Qr===0){var i=nl;i===0&&(i=Ms,Ms<<=1,(Ms&261888)===0&&(Ms=256)),Qr=i}return Qr}function WE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cs(""+i)}function JE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Q5(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=WE((m[gn]||null).action),T=u.submitter;T&&(r=(r=T[gn]||null)?WE(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var A=new Ka("action","action",null,u,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qr!==0){var V=T?JE(m,T):new FormData(m);Op(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=T?JE(m,T):new FormData(m),Op(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var fg=0;fg<Xm.length;fg++){var mg=Xm[fg],Z5=mg.toLowerCase(),W5=mg[0].toUpperCase()+mg.slice(1);$i(Z5,"on"+W5)}$i(N_,"onAnimationEnd"),$i(D_,"onAnimationIteration"),$i(O_,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(m5,"onTransitionRun"),$i(p5,"onTransitionStart"),$i(g5,"onTransitionCancel"),$i(k_,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function eT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],V=A.instance,$=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=$;try{g(m)}catch(J){jh(J)}m.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(A=u[T],V=A.instance,$=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=$;try{g(m)}catch(J){jh(J)}m.currentTarget=null,g=V}}}}function $e(i,r){var o=r[Tr];o===void 0&&(o=r[Tr]=new Set);var u=i+"__bubble";o.has(u)||(tT(r,i,2,!1),o.add(u))}function pg(i,r,o){var u=0;r&&(u|=4),tT(o,i,u,r)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function gg(i){if(!i[Sd]){i[Sd]=!0,Lo.forEach(function(o){o!=="selectionchange"&&(J5.has(o)||pg(o,!1,i),pg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Sd]||(r[Sd]=!0,pg("selectionchange",!1,r))}}function tT(i,r,o,u){switch(NT(r)){case 2:var m=RI;break;case 8:m=CI;break;default:m=Dg}o=m.bind(null,r,o,i),m=void 0,!vu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function yg(i,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=js(A),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue e}A=A.parentNode}}u=u.return}Th(function(){var $=g,J=qo(o),ne=[];e:{var K=M_.get(i);if(K!==void 0){var Y=Ka,ye=i;switch(i){case"keypress":if($a(o)===0)break e;case"keydown":case"keyup":Y=Nh;break;case"focusin":ye="focus",Y=Dr;break;case"focusout":ye="blur",Y=Dr;break;case"beforeblur":case"afterblur":Y=Dr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Oh;break;case N_:case D_:case O_:Y=$o;break;case k_:Y=Ko;break;case"scroll":case"scrollend":Y=bh;break;case"wheel":Y=Mh;break;case"copy":case"cut":case"paste":Y=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Su;break;case"toggle":case"beforetoggle":Y=kr}var xe=(r&4)!==0,yt=!xe&&(i==="scroll"||i==="scrollend"),F=xe?K!==null?K+"Capture":null:K;xe=[];for(var z=$,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=Qn(z,F),te!=null&&xe.push(Zu(z,te,G))),yt)break;z=z.return}0<xe.length&&(K=new Y(K,ye,null,o,J),ne.push({event:K,listeners:xe}))}}if((r&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",K&&o!==Fo&&(ye=o.relatedTarget||o.fromElement)&&(js(ye)||ye[os]))break e;if((Y||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(ye=o.relatedTarget||o.toElement,Y=$,ye=ye?js(ye):null,ye!==null&&(yt=l(ye),xe=ye.tag,ye!==yt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(Y=null,ye=$),Y!==ye)){if(xe=Sh,te="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(xe=Su,te="onPointerLeave",F="onPointerEnter",z="pointer"),yt=Y==null?K:qa(Y),G=ye==null?K:qa(ye),K=new xe(te,z+"leave",Y,o,J),K.target=yt,K.relatedTarget=G,te=null,js(J)===$&&(xe=new xe(F,z+"enter",ye,o,J),xe.target=G,xe.relatedTarget=yt,te=xe),yt=te,Y&&ye)t:{for(xe=eI,F=Y,z=ye,G=0,te=F;te;te=xe(te))G++;te=0;for(var Se=z;Se;Se=xe(Se))te++;for(;0<G-te;)F=xe(F),G--;for(;0<te-G;)z=xe(z),te--;for(;G--;){if(F===z||z!==null&&F===z.alternate){xe=F;break t}F=xe(F),z=xe(z)}xe=null}else xe=null;Y!==null&&nT(ne,K,Y,xe,!1),ye!==null&&yt!==null&&nT(ne,yt,ye,xe,!0)}}e:{if(K=$?qa($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var st=__;else if(Zn(K))if(E_)st=h5;else{st=u5;var Ee=l5}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&gu($.elementType)&&(st=__):st=c5;if(st&&(st=st(i,$))){Za(ne,st,o,J);break e}Ee&&Ee(i,K,$),i==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Bo(K,"number",K.value)}switch(Ee=$?qa($):window,i){case"focusin":(Zn(Ee)||Ee.contentEditable==="true")&&(Yo=Ee,$m=$,xu=null);break;case"focusout":xu=$m=Yo=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,C_(ne,o,J);break;case"selectionchange":if(f5)break;case"keydown":case"keyup":C_(ne,o,J)}var Ue;if(v)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Be?lt(i,o)&&(Ye="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(q&&o.locale!=="ko"&&(Be||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Be&&(Ue=Rr()):(ui=J,Ho="value"in ui?ui.value:ui.textContent,Be=!0)),Ee=Ad($,Ye),0<Ee.length&&(Ye=new Eu(Ye,i,null,o,J),ne.push({event:Ye,listeners:Ee}),Ue?Ye.data=Ue:(Ue=Ht(o),Ue!==null&&(Ye.data=Ue)))),(Ue=x?un(i,o):cn(i,o))&&(Ye=Ad($,"onBeforeInput"),0<Ye.length&&(Ee=new Eu("onBeforeInput","beforeinput",null,o,J),ne.push({event:Ee,listeners:Ye}),Ee.data=Ue)),Q5(ne,i,$,o,J)}eT(ne,r)})}function Zu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ad(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Qn(i,o),m!=null&&u.unshift(Zu(i,m,g)),m=Qn(i,r),m!=null&&u.push(Zu(i,m,g))),i.tag===3)return u;i=i.return}return[]}function eI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nT(i,r,o,u,m){for(var g=r._reactName,T=[];o!==null&&o!==u;){var A=o,V=A.alternate,$=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||$===null||(V=$,m?($=Qn(o,g),$!=null&&T.unshift(Zu(o,$,V))):m||($=Qn(o,g),$!=null&&T.push(Zu(o,$,V)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var tI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function iT(i){return(typeof i=="string"?i:""+i).replace(tI,`
`).replace(nI,"")}function sT(i,r){return r=iT(r),iT(i)===r}function gt(i,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ri(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ri(i,""+u);break;case"className":Ar(i,"class",u);break;case"tabIndex":Ar(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(i,o,u);break;case"style":_h(i,u,g);break;case"data":if(r!=="object"){Ar(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=cs(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(i,r,"name",m.name,m,null),gt(i,r,"formEncType",m.formEncType,m,null),gt(i,r,"formMethod",m.formMethod,m,null),gt(i,r,"formTarget",m.formTarget,m,null)):(gt(i,r,"encType",m.encType,m,null),gt(i,r,"method",m.method,m,null),gt(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=cs(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ln);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=cs(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":$e("beforetoggle",i),$e("toggle",i),Sr(i,"popover",u);break;case"xlinkActuate":xi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Sr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zm.get(o)||o,Sr(i,o,u))}}function vg(i,r,o,u,m,g){switch(o){case"style":_h(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Ri(i,u):(typeof u=="number"||typeof u=="bigint")&&Ri(i,""+u);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[gn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Sr(i,o,u)}}}function En(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,g,T,o,null)}}m&&gt(i,r,"srcSet",o.srcSet,o,null),u&&gt(i,r,"src",o.src,o,null);return;case"input":$e("invalid",i);var A=g=T=m=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":m=J;break;case"type":T=J;break;case"checked":V=J;break;case"defaultChecked":$=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:gt(i,r,u,J,o,null)}}Ha(i,g,A,V,$,T,m,!1);return;case"select":$e("invalid",i),u=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:gt(i,r,m,A,o,null)}r=g,o=T,i.multiple=!!u,r!=null?it(i,!!u,r,!1):o!=null&&it(i,!!u,o,!0);return;case"textarea":$e("invalid",i),g=m=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:gt(i,r,T,A,o,null)}xr(i,u,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:gt(i,r,V,u,o,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(u=0;u<Qu.length;u++)$e(Qu[u],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,$,u,o,null)}return;default:if(gu(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&vg(i,r,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&gt(i,r,A,u,o,null))}function iI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,A=null,V=null,$=null,J=null;for(Y in o){var ne=o[Y];if(o.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":V=ne;default:u.hasOwnProperty(Y)||gt(i,r,Y,null,u,ne)}}for(var K in u){var Y=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(Y!=null||ne!=null))switch(K){case"type":g=Y;break;case"name":m=Y;break;case"checked":$=Y;break;case"defaultChecked":J=Y;break;case"value":T=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ne&&gt(i,r,K,Y,u,ne)}}wr(i,T,A,V,$,J,g,m);return;case"select":Y=T=A=K=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Y=V;default:u.hasOwnProperty(g)||gt(i,r,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":K=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==V&&gt(i,r,m,g,u,V)}r=A,o=T,u=Y,K!=null?it(i,!!o,K,!1):!!u!=!!o&&(r!=null?it(i,!!o,r,!0):it(i,!!o,o?[]:"",!1));return;case"textarea":Y=K=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(i,r,A,null,u,m)}for(T in u)if(m=u[T],g=o[T],u.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&gt(i,r,T,m,u,g)}Ga(i,K,Y);return;case"option":for(var ye in o)if(K=o[ye],o.hasOwnProperty(ye)&&K!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:gt(i,r,ye,null,u,K)}for(V in u)if(K=u[V],Y=o[V],u.hasOwnProperty(V)&&K!==Y&&(K!=null||Y!=null))switch(V){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:gt(i,r,V,K,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)K=o[xe],o.hasOwnProperty(xe)&&K!=null&&!u.hasOwnProperty(xe)&&gt(i,r,xe,null,u,K);for($ in u)if(K=u[$],Y=o[$],u.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:gt(i,r,$,K,u,Y)}return;default:if(gu(r)){for(var yt in o)K=o[yt],o.hasOwnProperty(yt)&&K!==void 0&&!u.hasOwnProperty(yt)&&vg(i,r,yt,void 0,u,K);for(J in u)K=u[J],Y=o[J],!u.hasOwnProperty(J)||K===Y||K===void 0&&Y===void 0||vg(i,r,J,K,u,Y);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&gt(i,r,F,null,u,K);for(ne in u)K=u[ne],Y=o[ne],!u.hasOwnProperty(ne)||K===Y||K==null&&Y==null||gt(i,r,ne,K,u,Y)}function rT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,T=m.initiatorType,A=m.duration;if(g&&A&&rT(T)){for(T=0,A=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>A)break;var J=V.transferSize,ne=V.initiatorType;J&&rT(ne)&&(V=V.responseEnd,T+=J*(V<A?1:(A-$)/(V-$)))}if(--u,r+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _g=null,Eg=null;function wd(i){return i.nodeType===9?i:i.ownerDocument}function aT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Tg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bg=null;function rI(){var i=window.event;return i&&i.type==="popstate"?i===bg?!1:(bg=i,!0):(bg=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(i){return uT.resolve(null).then(i).catch(lI)}:lT;function lI(i){setTimeout(function(){throw i})}function Zr(i){return i==="head"}function cT(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Tl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Wu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Wu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[Ps]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Wu(i.ownerDocument.body);o=m}while(o);Tl(r)}function hT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Sg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sg(o),Fa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function uI(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ps])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Mi(i.nextSibling),i===null)break}return null}function cI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Mi(i.nextSibling),i===null))return null;return i}function dT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Mi(i.nextSibling),i===null))return null;return i}function Ag(i){return i.data==="$?"||i.data==="$~"}function wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function hI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Mi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var xg=null;function fT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Mi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function mT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function pT(i,r,o){switch(r=wd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Wu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Fa(i)}var Vi=new Map,gT=new Set;function xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=re.d;re.d={f:dI,r:fI,D:mI,C:pI,L:gI,m:yI,X:_I,S:vI,M:EI};function dI(){var i=sr.f(),r=yd();return i||r}function fI(i){var r=Ls(i);r!==null&&r.tag===5&&r.type==="form"?k1(r):sr.r(i)}var vl=typeof document>"u"?null:document;function yT(i,r,o){var u=vl;if(u&&typeof r=="string"&&r){var m=Dt(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),gT.has(m)||(gT.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),En(r,"link",i),Lt(r),u.head.appendChild(r)))}}function mI(i){sr.D(i),yT("dns-prefetch",i,null)}function pI(i,r){sr.C(i,r),yT("preconnect",i,r)}function gI(i,r,o){sr.L(i,r,o);var u=vl;if(u&&i&&r){var m='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(i)+'"]';var g=m;switch(r){case"style":g=_l(i);break;case"script":g=El(i)}Vi.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Vi.set(g,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(Ju(g))||r==="script"&&u.querySelector(ec(g))||(r=u.createElement("link"),En(r,"link",i),Lt(r),u.head.appendChild(r)))}}function yI(i,r){sr.m(i,r);var o=vl;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=El(i)}if(!Vi.has(g)&&(i=_({rel:"modulepreload",href:i},r),Vi.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(g)))return}u=o.createElement("link"),En(u,"link",i),Lt(u),o.head.appendChild(u)}}}function vI(i,r,o){sr.S(i,r,o);var u=vl;if(u&&i){var m=Hi(u).hoistableStyles,g=_l(i);r=r||"default";var T=m.get(g);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(Ju(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Vi.get(g))&&Rg(i,o);var V=T=u.createElement("link");Lt(V),En(V,"link",i),V._p=new Promise(function($,J){V.onload=$,V.onerror=J}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rd(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(g,T)}}}function _I(i,r){sr.X(i,r);var o=vl;if(o&&i){var u=Hi(o).hoistableScripts,m=El(i),g=u.get(m);g||(g=o.querySelector(ec(m)),g||(i=_({src:i,async:!0},r),(r=Vi.get(m))&&Cg(i,r),g=o.createElement("script"),Lt(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function EI(i,r){sr.M(i,r);var o=vl;if(o&&i){var u=Hi(o).hoistableScripts,m=El(i),g=u.get(m);g||(g=o.querySelector(ec(m)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Vi.get(m))&&Cg(i,r),g=o.createElement("script"),Lt(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function vT(i,r,o,u){var m=(m=Oe.current)?xd(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=_l(o.href),o=Hi(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_l(o.href);var g=Hi(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(Ju(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Vi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vi.set(i,o),g||TI(m,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=El(o),o=Hi(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function _l(i){return'href="'+Dt(i)+'"'}function Ju(i){return'link[rel="stylesheet"]['+i+"]"}function _T(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function TI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),En(r,"link",o),Lt(r),i.head.appendChild(r))}function El(i){return'[src="'+Dt(i)+'"]'}function ec(i){return"script[async]"+i}function ET(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return r.instance=u,Lt(u),u;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Lt(u),En(u,"style",m),Rd(u,o.precedence,i),r.instance=u;case"stylesheet":m=_l(o.href);var g=i.querySelector(Ju(m));if(g)return r.state.loading|=4,r.instance=g,Lt(g),g;u=_T(o),(m=Vi.get(m))&&Rg(u,m),g=(i.ownerDocument||i).createElement("link"),Lt(g);var T=g;return T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),En(g,"link",u),r.state.loading|=4,Rd(g,o.precedence,i),r.instance=g;case"script":return g=El(o.src),(m=i.querySelector(ec(g)))?(r.instance=m,Lt(m),m):(u=o,(m=Vi.get(g))&&(u=_({},o),Cg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Lt(m),En(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rd(u,o.precedence,i));return r.instance}function Rd(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Cg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Cd=null;function TT(i,r,o){if(Cd===null){var u=new Map,m=Cd=new Map;m.set(o,u)}else m=Cd,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ps]||g[Nt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(g):u.set(T,[g])}}return u}function bT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function bI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ST(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function SI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=_l(u.href),g=r.querySelector(Ju(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Id.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Lt(g);return}g=r.ownerDocument||r,u=_T(u),(m=Vi.get(m))&&Rg(u,m),g=g.createElement("link"),Lt(g);var T=g;T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),En(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Id.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ig=0;function AI(i,r){return i.stylesheets&&i.count===0&&Dd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Ig===0&&(Ig=62500*sI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Ig?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nd=null;function Dd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nd=new Map,r.forEach(wI,i),Nd=null,Id.call(i))}function wI(i,r){if(!(r.state.loading&4)){var o=Nd.get(i);if(o)var u=o.get(null);else{o=new Map,Nd.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,m),o.set(T,m),this.count++,u=Id.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var tc={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function xI(i,r,o,u,m,g,T,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function AT(i,r,o,u,m,g,T,A,V,$,J,ne){return i=new xI(i,r,o,T,V,$,J,ne,A),r=1,g===!0&&(r|=24),g=hi(3,null,null,r),i.current=g,g.stateNode=i,r=lp(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},dp(g),i}function wT(i){return i?(i=Zo,i):Zo}function xT(i,r,o,u,m,g){m=wT(m),u.context===null?u.context=m:u.pendingContext=m,u=zr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Br(i,u,r),o!==null&&(ni(o,i,r),ku(o,i,r))}function RT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ng(i,r){RT(i,r),(i=i.alternate)&&RT(i,r)}function CT(i){if(i.tag===13||i.tag===31){var r=eo(i,67108864);r!==null&&ni(r,i,67108864),Ng(i,67108864)}}function IT(i){if(i.tag===13||i.tag===31){var r=gi();r=Un(r);var o=eo(i,r);o!==null&&ni(o,i,r),Ng(i,r)}}var Od=!0;function RI(i,r,o,u){var m=Z.T;Z.T=null;var g=re.p;try{re.p=2,Dg(i,r,o,u)}finally{re.p=g,Z.T=m}}function CI(i,r,o,u){var m=Z.T;Z.T=null;var g=re.p;try{re.p=8,Dg(i,r,o,u)}finally{re.p=g,Z.T=m}}function Dg(i,r,o,u){if(Od){var m=Og(u);if(m===null)yg(i,r,u,kd,o),DT(i,u);else if(NI(m,i,r,o,u))u.stopPropagation();else if(DT(i,u),r&4&&-1<II.indexOf(i)){for(;m!==null;){var g=Ls(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=oi(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var V=1<<31-Pt(T);A.entanglements[1]|=V,T&=~V}gs(g),(ot&6)===0&&(pd=tn()+500,Xu(0))}}break;case 31:case 13:A=eo(g,2),A!==null&&ni(A,g,2),yd(),Ng(g,2)}if(g=Og(u),g===null&&yg(i,r,u,kd,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else yg(i,r,u,null,o)}}function Og(i){return i=qo(i),kg(i)}var kd=null;function kg(i){if(kd=null,i=js(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return kd=i,null}function NT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fi()){case He:return 2;case mt:return 8;case jn:case Os:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Mg=!1,Wr=null,Jr=null,ea=null,nc=new Map,ic=new Map,ta=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DT(i,r){switch(i){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(r.pointerId)}}function sc(i,r,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Ls(r),r!==null&&CT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function NI(i,r,o,u,m){switch(r){case"focusin":return Wr=sc(Wr,i,r,o,u,m),!0;case"dragenter":return Jr=sc(Jr,i,r,o,u,m),!0;case"mouseover":return ea=sc(ea,i,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return nc.set(g,sc(nc.get(g)||null,i,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,ic.set(g,sc(ic.get(g)||null,i,r,o,u,m)),!0}return!1}function OT(i){var r=js(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ph(i.priority,function(){IT(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ph(i.priority,function(){IT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Md(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Og(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fo=u,o.target.dispatchEvent(u),Fo=null}else return r=Ls(o),r!==null&&CT(r),i.blockedOn=o,!1;r.shift()}return!0}function kT(i,r,o){Md(i)&&o.delete(r)}function DI(){Mg=!1,Wr!==null&&Md(Wr)&&(Wr=null),Jr!==null&&Md(Jr)&&(Jr=null),ea!==null&&Md(ea)&&(ea=null),nc.forEach(kT),ic.forEach(kT)}function Vd(i,r){i.blockedOn===r&&(i.blockedOn=null,Mg||(Mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DI)))}var Pd=null;function MT(i){Pd!==i&&(Pd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pd===i&&(Pd=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(kg(u||o)===null)continue;break}var g=Ls(o);g!==null&&(i.splice(r,3),r-=3,Op(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Tl(i){function r(V){return Vd(V,i)}Wr!==null&&Vd(Wr,i),Jr!==null&&Vd(Jr,i),ea!==null&&Vd(ea,i),nc.forEach(r),ic.forEach(r);for(var o=0;o<ta.length;o++){var u=ta[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ta.length&&(o=ta[0],o.blockedOn===null);)OT(o),o.blockedOn===null&&ta.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],T=m[gn]||null;if(typeof g=="function")T||MT(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[gn]||null)A=T.formAction;else if(kg(m)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),MT(o)}}}function VT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Vg(i){this._internalRoot=i}jd.prototype.render=Vg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=gi();xT(o,u,i,r,null,null)},jd.prototype.unmount=Vg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;xT(i.current,2,null,i,null,null),yd(),r[os]=null}};function jd(i){this._internalRoot=i}jd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ta.length&&r!==0&&r<ta[o].priority;o++);ta.splice(o,0,i),o===0&&OT(i)}};var PT=e.version;if(PT!=="19.2.0")throw Error(s(527,PT,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var OI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{ns=Ld.inject(OI),on=Ld}catch{}}return ac.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=q1,g=H1,T=G1;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=AT(i,1,!1,null,null,o,u,null,m,g,T,VT),i[os]=r.current,gg(i),new Vg(r)},ac.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",g=q1,T=H1,A=G1,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=AT(i,1,!0,r,o??null,u,m,V,g,T,A,VT),r.context=wT(null),o=r.current,u=gi(),u=Un(u),m=zr(u),m.callback=null,Br(o,m,u),o=u,r.current.lanes=o,rs(r,o),gs(r),i[os]=r.current,gg(i),new jd(r)},ac.version="19.2.0",ac}var KT;function qI(){if(KT)return Lg.exports;KT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lg.exports=FI(),Lg.exports}var HI=qI();const GI=yw(HI),I0=D.createContext({});function N0(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const D0=typeof window<"u",vw=D0?D.useLayoutEffect:D.useEffect,Wf=D.createContext(null);function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function k0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ur=(t,e,n)=>n>e?e:n<t?t:n;let M0=()=>{};const cr={},_w=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ew(t){return typeof t=="object"&&t!==null}const Tw=t=>/^0[^.\s]+$/u.test(t);function V0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ui=t=>t,$I=(t,e)=>n=>e(t(n)),Xc=(...t)=>t.reduce($I),Nc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class P0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>k0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vs=t=>t*1e3,Li=t=>t/1e3;function bw(t,e){return e?t*(1e3/e):0}const Sw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KI=1e-7,YI=12;function XI(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=Sw(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>KI&&++h<YI);return c}function Qc(t,e,n,s){if(t===e&&n===s)return Ui;const a=l=>XI(l,0,1,t,n);return l=>l===0||l===1?l:Sw(a(l),e,s)}const Aw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ww=t=>e=>1-t(1-e),xw=Qc(.33,1.53,.69,.99),j0=ww(xw),Rw=Aw(j0),Cw=t=>(t*=2)<1?.5*j0(t):.5*(2-Math.pow(2,-10*(t-1))),L0=t=>1-Math.sin(Math.acos(t)),Iw=ww(L0),Nw=Aw(L0),QI=Qc(.42,0,1,1),ZI=Qc(0,0,.58,1),Dw=Qc(.42,0,.58,1),WI=t=>Array.isArray(t)&&typeof t[0]!="number",Ow=t=>Array.isArray(t)&&typeof t[0]=="number",JI={linear:Ui,easeIn:QI,easeInOut:Dw,easeOut:ZI,circIn:L0,circInOut:Nw,circOut:Iw,backIn:j0,backInOut:Rw,backOut:xw,anticipate:Cw},eN=t=>typeof t=="string",YT=t=>{if(Ow(t)){M0(t.length===4);const[e,n,s,a]=t;return Qc(e,n,s,a)}else if(eN(t))return JI[t];return t},Ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,S=!1)=>{const C=S&&a?n:s;return _&&c.add(y),C.has(y)||C.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const nN=40;function kw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ud.reduce((H,ae)=>(H[ae]=tN(l),H),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:S,render:w,postRender:C}=c,k=()=>{const H=cr.useManualTiming?a.timestamp:performance.now();n=!1,cr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,nN),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),y.process(a),_.process(a),S.process(a),w.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(k))},P=()=>{n=!0,s=!0,a.isProcessing||t(k)};return{schedule:Ud.reduce((H,ae)=>{const oe=c[ae];return H[ae]=(ce,I=!1,R=!1)=>(n||P(),oe.schedule(ce,I,R)),H},{}),cancel:H=>{for(let ae=0;ae<Ud.length;ae++)c[Ud[ae]].cancel(H)},state:a,steps:c}}const{schedule:Rt,cancel:Ta,state:Tn,steps:Fg}=kw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ui,!0);let Wd;function iN(){Wd=void 0}const si={now:()=>(Wd===void 0&&si.set(Tn.isProcessing||cr.useManualTiming?Tn.timestamp:performance.now()),Wd),set:t=>{Wd=t,queueMicrotask(iN)}},Mw=t=>e=>typeof e=="string"&&e.startsWith(t),U0=Mw("--"),sN=Mw("var(--"),z0=t=>sN(t)?rN.test(t.split("/*")[0].trim()):!1,rN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dc={...nu,transform:t=>ur(0,1,t)},zd={...nu,default:1},yc=t=>Math.round(t*1e5)/1e5,B0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aN(t){return t==null}const oN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F0=(t,e)=>n=>!!(typeof n=="string"&&oN.test(n)&&n.startsWith(t)||e&&!aN(n)&&Object.prototype.hasOwnProperty.call(n,e)),Vw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(B0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},lN=t=>ur(0,255,t),qg={...nu,transform:t=>Math.round(lN(t))},vo={test:F0("rgb","red"),parse:Vw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+yc(Dc.transform(s))+")"};function uN(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ay={test:F0("#"),parse:uN,transform:vo.transform},Zc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),sa=Zc("deg"),_s=Zc("%"),Ne=Zc("px"),cN=Zc("vh"),hN=Zc("vw"),XT={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},Nl={test:F0("hsl","hue"),parse:Vw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+_s.transform(yc(e))+", "+_s.transform(yc(n))+", "+yc(Dc.transform(s))+")"},Qt={test:t=>vo.test(t)||Ay.test(t)||Nl.test(t),parse:t=>vo.test(t)?vo.parse(t):Nl.test(t)?Nl.parse(t):Ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Nl.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},dN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(B0))==null?void 0:e.length)||0)+(((n=t.match(dN))==null?void 0:n.length)||0)>0}const Pw="number",jw="color",mN="var",pN="var(",QT="${}",gN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(gN,f=>(Qt.test(f)?(s.color.push(l),a.push(jw),n.push(Qt.parse(f))):f.startsWith(pN)?(s.var.push(l),a.push(mN),n.push(f)):(s.number.push(l),a.push(Pw),n.push(parseFloat(f))),++l,QT)).split(QT);return{values:n,split:h,indexes:s,types:a}}function Lw(t){return Oc(t).values}function Uw(t){const{split:e,types:n}=Oc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===Pw?l+=yc(a[c]):h===jw?l+=Qt.transform(a[c]):l+=a[c]}return l}}const yN=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function vN(t){const e=Lw(t);return Uw(t)(e.map(yN))}const ba={test:fN,parse:Lw,createTransformer:Uw,getAnimatableNone:vN};function Hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _N({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Hg(f,h,t+1/3),l=Hg(f,h,t),c=Hg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function mf(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,Gg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},EN=[Ay,vo,Nl],TN=t=>EN.find(e=>e.test(t));function ZT(t){const e=TN(t);if(!e)return!1;let n=e.parse(t);return e===Nl&&(n=_N(n)),n}const WT=(t,e)=>{const n=ZT(t),s=ZT(e);if(!n||!s)return mf(t,e);const a={...n};return l=>(a.red=Gg(n.red,s.red,l),a.green=Gg(n.green,s.green,l),a.blue=Gg(n.blue,s.blue,l),a.alpha=Ct(n.alpha,s.alpha,l),vo.transform(a))},wy=new Set(["none","hidden"]);function bN(t,e){return wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SN(t,e){return n=>Ct(t,e,n)}function q0(t){return typeof t=="number"?SN:typeof t=="string"?z0(t)?mf:Qt.test(t)?WT:xN:Array.isArray(t)?zw:typeof t=="object"?Qt.test(t)?WT:AN:mf}function zw(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>q0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function AN(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=q0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function wN(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const xN=(t,e)=>{const n=ba.createTransformer(e),s=Oc(t),a=Oc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?wy.has(t)&&!a.values.length||wy.has(e)&&!s.values.length?bN(t,e):Xc(zw(wN(s,a),a.values),n):mf(t,e)};function Bw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):q0(t)(t,e)}const RN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>Ta(e),now:()=>Tn.isProcessing?Tn.timestamp:si.now()}},Fw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},pf=2e4;function H0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<pf;)e+=n,s=t.next(e);return e>=pf?1/0:e}function CN(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(H0(s),pf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Li(a)}}const IN=5;function qw(t,e,n){const s=Math.max(e-IN,0);return bw(n-t(s),e-s)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$g=.001;function NN({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:s=Mt.mass}){let a,l,c=1-e;c=ur(Mt.minDamping,Mt.maxDamping,c),t=ur(Mt.minDuration,Mt.maxDuration,Li(t)),c<1?(a=p=>{const y=p*c,_=y*t,S=y-n,w=xy(p,c),C=Math.exp(-_);return $g-S/w*C},l=p=>{const _=p*c*t,S=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-_),k=xy(Math.pow(p,2),c);return(-a(p)+$g>0?-1:1)*((S-w)*C)/k}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-$g+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=ON(a,l,h);if(t=vs(t),isNaN(f))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const DN=12;function ON(t,e,n){let s=n;for(let a=1;a<DN;a++)s=s-t(s)/e(s);return s}function xy(t,e){return t*Math.sqrt(1-e*e)}const kN=["duration","bounce"],MN=["stiffness","damping","mass"];function JT(t,e){return e.some(n=>t[n]!==void 0)}function VN(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!JT(t,MN)&&JT(t,kN))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ur(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Mt.mass,stiffness:a,damping:l}}else{const n=NN(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function gf(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:y,duration:_,velocity:S,isResolvedFromDuration:w}=VN({...n,velocity:-Li(n.velocity||0)}),C=S||0,k=p/(2*Math.sqrt(f*y)),P=c-l,j=Li(Math.sqrt(f/y)),Q=Math.abs(P)<5;s||(s=Q?Mt.restSpeed.granular:Mt.restSpeed.default),a||(a=Q?Mt.restDelta.granular:Mt.restDelta.default);let H;if(k<1){const oe=xy(j,k);H=ce=>{const I=Math.exp(-k*j*ce);return c-I*((C+k*j*P)/oe*Math.sin(oe*ce)+P*Math.cos(oe*ce))}}else if(k===1)H=oe=>c-Math.exp(-j*oe)*(P+(C+j*P)*oe);else{const oe=j*Math.sqrt(k*k-1);H=ce=>{const I=Math.exp(-k*j*ce),R=Math.min(oe*ce,300);return c-I*((C+k*j*P)*Math.sinh(R)+oe*P*Math.cosh(R))/oe}}const ae={calculatedDuration:w&&_||null,next:oe=>{const ce=H(oe);if(w)h.done=oe>=_;else{let I=oe===0?C:0;k<1&&(I=oe===0?vs(C):qw(H,oe,ce));const R=Math.abs(I)<=s,N=Math.abs(c-ce)<=a;h.done=R&&N}return h.value=h.done?c:ce,h},toString:()=>{const oe=Math.min(H0(ae),pf),ce=Fw(I=>ae.next(oe*I).value,oe,30);return oe+"ms "+ce},toTransition:()=>{}};return ae}gf.applyToOptions=t=>{const e=CN(t,100,gf);return t.ease=e.ease,t.duration=vs(e.duration),t.type="keyframes",t};function Ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],S={done:!1,value:_},w=R=>h!==void 0&&R<h||f!==void 0&&R>f,C=R=>h===void 0?f:f===void 0||Math.abs(h-R)<Math.abs(f-R)?h:f;let k=n*e;const P=_+k,j=c===void 0?P:c(P);j!==P&&(k=j-_);const Q=R=>-k*Math.exp(-R/s),H=R=>j+Q(R),ae=R=>{const N=Q(R),M=H(R);S.done=Math.abs(N)<=p,S.value=S.done?j:M};let oe,ce;const I=R=>{w(S.value)&&(oe=R,ce=gf({keyframes:[S.value,C(S.value)],velocity:qw(H,R,S.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:R=>{let N=!1;return!ce&&oe===void 0&&(N=!0,ae(R),I(R)),oe!==void 0&&R>=oe?ce.next(R-oe):(!N&&ae(R),S)}}}function PN(t,e,n){const s=[],a=n||cr.mix||Bw,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Ui:e;h=Xc(f,h)}s.push(h)}return s}function jN(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(M0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=PN(e,s,a),f=h.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const S=Nc(t[_],t[_+1],y);return h[_](S)};return n?y=>p(ur(t[0],t[l-1],y)):p}function LN(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Nc(0,e,s);t.push(Ct(n,1,a))}}function UN(t){const e=[0];return LN(e,t.length-1),e}function zN(t,e){return t.map(n=>n*e)}function BN(t,e){return t.map(()=>e||Dw).splice(0,t.length-1)}function vc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=WI(s)?s.map(YT):YT(s),l={done:!1,value:e[0]},c=zN(n&&n.length===e.length?n:UN(e),t),h=jN(c,e,{ease:Array.isArray(a)?a:BN(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const FN=t=>t!==null;function G0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(FN),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const qN={decay:Ry,inertia:Ry,tween:vc,keyframes:vc,spring:gf};function Hw(t){typeof t.type=="string"&&(t.type=qN[t.type])}class $0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const HN=t=>t/100;class K0 extends $0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==si.now()&&this.tick(si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hw(e);const{type:n=vc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||vc;f!==vc&&typeof h[0]!="number"&&(this.mixKeyframes=Xc(HN,Bw(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=H0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:w,type:C,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ae=s;if(_){const R=Math.min(this.currentTime,a)/h;let N=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(S==="reverse"?(M=1-M,w&&(M-=w/h)):S==="mirror"&&(ae=c)),H=ur(0,1,M)*h}const oe=Q?{done:!1,value:y[0]}:ae.next(H);l&&(oe.value=l(oe.value));let{done:ce}=oe;!Q&&f!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&C!==Ry&&(oe.value=G0(y,this.options,P,this.speed)),k&&k(oe.value),I&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Li(e)}get time(){return Li(this.currentTime)}set time(e){var n;e=vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(si.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Li(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=RN,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function GN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _o=t=>t*180/Math.PI,Cy=t=>{const e=_o(Math.atan2(t[1],t[0]));return Iy(e)},$N={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cy,rotateZ:Cy,skewX:t=>_o(Math.atan(t[1])),skewY:t=>_o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iy=t=>(t=t%360,t<0&&(t+=360),t),eb=Cy,tb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),KN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tb,scaleY:nb,scale:t=>(tb(t)+nb(t))/2,rotateX:t=>Iy(_o(Math.atan2(t[6],t[5]))),rotateY:t=>Iy(_o(Math.atan2(-t[2],t[0]))),rotateZ:eb,rotate:eb,skewX:t=>_o(Math.atan(t[4])),skewY:t=>_o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ny(t){return t.includes("scale")?1:0}function Dy(t,e){if(!t||t==="none")return Ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=KN,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=$N,a=h}if(!a)return Ny(e);const l=s[e],c=a[1].split(",").map(XN);return typeof l=="function"?l(c):c[l]}const YN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dy(n,e)};function XN(t){return parseFloat(t.trim())}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],su=new Set(iu),ib=t=>t===nu||t===Ne,QN=new Set(["x","y","z"]),ZN=iu.filter(t=>!QN.has(t));function WN(t){const e=[];return ZN.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dy(e,"x"),y:(t,{transform:e})=>Dy(e,"y")};bo.translateX=bo.x;bo.translateY=bo.y;const So=new Set;let Oy=!1,ky=!1,My=!1;function Gw(){if(ky){const t=Array.from(So).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=WN(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var h;(h=s.getValue(l))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ky=!1,Oy=!1,So.forEach(t=>t.complete(My)),So.clear()}function $w(){So.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ky=!0)})}function JN(){My=!0,$w(),Gw(),My=!1}class Y0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(So.add(this),Oy||(Oy=!0,Rt.read($w),Rt.resolveKeyframes(Gw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}GN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),So.delete(this)}cancel(){this.state==="scheduled"&&(So.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eD=t=>t.startsWith("--");function tD(t,e,n){eD(e)?t.style.setProperty(e,n):t.style[e]=n}const nD=V0(()=>window.ScrollTimeline!==void 0),iD={};function sD(t,e){const n=V0(t);return()=>iD[e]??n()}const Kw=sD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,sb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function Yw(t,e){if(t)return typeof t=="function"?Kw()?Fw(t,e):"ease-out":Ow(t)?uc(t):Array.isArray(t)?t.map(n=>Yw(n,e)||sb.easeOut):sb[t]}function rD(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=Yw(h,a);Array.isArray(_)&&(y.easing=_);const S={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),t.animate(y,S)}function Xw(t){return typeof t=="function"&&"applyToOptions"in t}function aD({type:t,...e}){return Xw(t)&&Kw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oD extends $0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,M0(typeof e.type!="string");const p=aD(e);this.animation=rD(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=G0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):tD(n,s,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Li(e)}get time(){return Li(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&nD()?(this.animation.timeline=e,Ui):n(this)}}const Qw={anticipate:Cw,backInOut:Rw,circInOut:Nw};function lD(t){return t in Qw}function uD(t){typeof t.ease=="string"&&lD(t.ease)&&(t.ease=Qw[t.ease])}const rb=10;class cD extends oD{constructor(e){uD(e),Hw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new K0({...c,autoplay:!1}),f=vs(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-rb).value,h.sample(f).value,rb),h.stop()}}const ab=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ba.test(t)||t==="0")&&!t.startsWith("url("));function hD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dD(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=ab(a,e),h=ab(l,e);return!c||!h?!1:hD(t)||(n==="spring"||Xw(n))&&s}function Vy(t){t.duration=0,t.type="keyframes"}const fD=new Set(["opacity","clipPath","filter","transform"]),mD=V0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pD(t){var y;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return mD()&&n&&fD.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const gD=40;class yD extends $0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var k,P;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=si.now();const S={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||Y0;this.keyframeResolver=new w(h,(k,P,j)=>this.onKeyframesResolved(k,P,S,!j),f,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:y}=s;this.resolvedAt=si.now(),dD(e,l,c,h)||((cr.instantAnimations||!f)&&(y==null||y(G0(e,s,n))),e[0]=e[e.length-1],Vy(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>gD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&pD(S)?new cD({...S,element:S.motionValue.owner.current}):new K0(S);w.finished.then(()=>this.notifyFinished()).catch(Ui),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),JN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const vD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _D(t){const e=vD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Zw(t,e,n=1){const[s,a]=_D(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return _w(c)?parseFloat(c):c}return z0(a)?Zw(a,e,n+1):a}function X0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ww=new Set(["width","height","top","left","right","bottom",...iu]),ED={test:t=>t==="auto",parse:t=>t},Jw=t=>e=>e.test(t),ex=[nu,Ne,_s,sa,hN,cN,ED],ob=t=>ex.find(Jw(t));function TD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Tw(t):!0}const bD=new Set(["brightness","contrast","saturate","opacity"]);function SD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(B0)||[];if(!s)return t;const a=n.replace(s,"");let l=bD.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const AD=/\b([a-z-]*)\(.*?\)/gu,Py={...ba,getAnimatableNone:t=>{const e=t.match(AD);return e?e.map(SD).join(" "):t}},lb={...nu,transform:Math.round},wD={rotate:sa,rotateX:sa,rotateY:sa,rotateZ:sa,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:sa,skewX:sa,skewY:sa,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Dc,originX:XT,originY:XT,originZ:Ne},Q0={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...wD,zIndex:lb,fillOpacity:Dc,strokeOpacity:Dc,numOctaves:lb},xD={...Q0,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Py,WebkitFilter:Py},tx=t=>xD[t];function nx(t,e){let n=tx(t);return n!==Py&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RD=new Set(["auto","none","0"]);function CD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!RD.has(l)&&Oc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=nx(n,a)}class ID extends Y0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),z0(p))){const y=Zw(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ww.has(s)||e.length!==2)return;const[a,l]=e,c=ob(a),h=ob(l);if(c!==h)if(ib(c)&&ib(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else bo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||TD(e[a]))&&s.push(a);s.length&&CD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=bo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function ND(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const ix=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sx(t){return Ew(t)&&"offsetHeight"in t}const ub=30,DD=t=>!isNaN(parseFloat(t));class OD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=si.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new P0);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ub)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ub);return bw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(t,e){return new OD(t,e)}const{schedule:Z0}=kw(queueMicrotask,!1),Xi={x:!1,y:!1};function rx(){return Xi.x||Xi.y}function kD(t){return t==="x"||t==="y"?Xi[t]?null:(Xi[t]=!0,()=>{Xi[t]=!1}):Xi.x||Xi.y?null:(Xi.x=Xi.y=!0,()=>{Xi.x=Xi.y=!1})}function ax(t,e){const n=ND(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function cb(t){return!(t.pointerType==="touch"||rx())}function MD(t,e,n={}){const[s,a,l]=ax(t,n),c=h=>{if(!cb(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{cb(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const ox=(t,e)=>e?t===e?!0:ox(t,e.parentElement):!1,W0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PD(t){return VD.has(t.tagName)||t.tabIndex!==-1}const Jd=new WeakSet;function hb(t){return e=>{e.key==="Enter"&&t(e)}}function Kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=hb(()=>{if(Jd.has(n))return;Kg(n,"down");const a=hb(()=>{Kg(n,"up")}),l=()=>Kg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function db(t){return W0(t)&&!rx()}function LD(t,e,n={}){const[s,a,l]=ax(t,n),c=h=>{const f=h.currentTarget;if(!db(h))return;Jd.add(f);const p=e(f,h),y=(w,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),Jd.has(f)&&Jd.delete(f),db(w)&&typeof p=="function"&&p(w,{success:C})},_=w=>{y(w,f===window||f===document||n.useGlobalTarget||ox(f,w.target))},S=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),sx(h)&&(h.addEventListener("focus",p=>jD(p,a)),!PD(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function lx(t){return Ew(t)&&"ownerSVGElement"in t}function UD(t){return lx(t)&&t.tagName==="svg"}const kn=t=>!!(t&&t.getVelocity),zD=[...ex,Qt,ba],BD=t=>zD.find(Jw(t)),J0=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FD(...t){return e=>{let n=!1;const s=t.map(a=>{const l=fb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():fb(t[a],null)}}}}function qD(...t){return D.useCallback(FD(...t),t)}class HD extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=sx(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GD({children:t,isPresent:e,anchorX:n,root:s}){const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=D.useContext(J0),f=qD(l,t==null?void 0:t.ref);return D.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:S,right:w}=c.current;if(e||!l.current||!p||!y)return;const C=n==="left"?`left: ${S}`:`right: ${w}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");h&&(k.nonce=h);const P=s??document.head;return P.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${_}px !important;
          }
        `),()=>{P.contains(k)&&P.removeChild(k)}},[e]),E.jsx(HD,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:f})})}const $D=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const p=N0(KD),y=D.useId();let _=!0,S=D.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:w=>{p.set(w,!0);for(const C of p.values())if(!C)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return l&&_&&(S={...S}),D.useMemo(()=>{p.forEach((w,C)=>p.set(C,!1))},[n]),D.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=E.jsx(GD,{isPresent:n,anchorX:h,root:f,children:t})),E.jsx(Wf.Provider,{value:S,children:t})};function KD(){return new Map}function ux(t=!0){const e=D.useContext(Wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Bd=t=>t.key||"";function mb(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const YD=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[p,y]=ux(c),_=D.useMemo(()=>mb(t),[t]),S=c&&!p?[]:_.map(Bd),w=D.useRef(!0),C=D.useRef(_),k=N0(()=>new Map),[P,j]=D.useState(_),[Q,H]=D.useState(_);vw(()=>{w.current=!1,C.current=_;for(let ce=0;ce<Q.length;ce++){const I=Bd(Q[ce]);S.includes(I)?k.delete(I):k.get(I)!==!0&&k.set(I,!1)}},[Q,S.length,S.join("-")]);const ae=[];if(_!==P){let ce=[..._];for(let I=0;I<Q.length;I++){const R=Q[I],N=Bd(R);S.includes(N)||(ce.splice(I,0,R),ae.push(R))}return l==="wait"&&ae.length&&(ce=ae),H(mb(ce)),j(_),null}const{forceRender:oe}=D.useContext(I0);return E.jsx(E.Fragment,{children:Q.map(ce=>{const I=Bd(ce),R=c&&!p?!1:_===Q||S.includes(I),N=()=>{if(k.has(I))k.set(I,!0);else return;let M=!0;k.forEach(U=>{U||(M=!1)}),M&&(oe==null||oe(),H(C.current),c&&(y==null||y()),s&&s())};return E.jsx($D,{isPresent:R,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:R?void 0:N,anchorX:h,children:ce},I)})})},cx=D.createContext({strict:!1}),pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const t in pb)Hl[t]={isEnabled:e=>pb[t].some(n=>!!e[n])};function XD(t){for(const e in t)Hl[e]={...Hl[e],...t[e]}}const QD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QD.has(t)}let hx=t=>!yf(t);function ZD(t){typeof t=="function"&&(hx=e=>e.startsWith("on")?!yf(e):t(e))}try{ZD(require("@emotion/is-prop-valid").default)}catch{}function WD(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(hx(a)||n===!0&&yf(a)||!e&&!yf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Jf=D.createContext({});function em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kc(t){return typeof t=="string"||Array.isArray(t)}const ev=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tv=["initial",...ev];function tm(t){return em(t.animate)||tv.some(e=>kc(t[e]))}function dx(t){return!!(tm(t)||t.variants)}function JD(t,e){if(tm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||kc(n)?n:void 0,animate:kc(s)?s:void 0}}return t.inherit!==!1?e:{}}function eO(t){const{initial:e,animate:n}=JD(t,D.useContext(Jf));return D.useMemo(()=>({initial:e,animate:n}),[gb(e),gb(n)])}function gb(t){return Array.isArray(t)?t.join(" "):t}const Mc={};function tO(t){for(const e in t)Mc[e]=t[e],U0(e)&&(Mc[e].isCSSVariable=!0)}function fx(t,{layout:e,layoutId:n}){return su.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mc[t]||t==="opacity")}const nO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iO=iu.length;function sO(t,e,n){let s="",a=!0;for(let l=0;l<iO;l++){const c=iu[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=ix(h,Q0[c]);if(!f){a=!1;const y=nO[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function nv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const p=e[f];if(su.has(f)){c=!0;continue}else if(U0(f)){a[f]=p;continue}else{const y=ix(p,Q0[f]);f.startsWith("origin")?(h=!0,l[f]=y):s[f]=y}}if(e.transform||(c||n?s.transform=sO(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${f} ${p} ${y}`}}const iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mx(t,e,n){for(const s in e)!kn(e[s])&&!fx(s,n)&&(t[s]=e[s])}function rO({transformTemplate:t},e){return D.useMemo(()=>{const n=iv();return nv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aO(t,e){const n=t.style||{},s={};return mx(s,n,t),Object.assign(s,rO(t,e)),s}function oO(t,e){const n={},s=aO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const lO={offset:"stroke-dashoffset",array:"stroke-dasharray"},uO={offset:"strokeDashoffset",array:"strokeDasharray"};function cO(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?lO:uO;t[l.offset]=Ne.transform(-s);const c=Ne.transform(e),h=Ne.transform(n);t[l.array]=`${c} ${h}`}function px(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,y){if(nv(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S}=t;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&cO(_,a,l,c,!1)}const gx=()=>({...iv(),attrs:{}}),yx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hO(t,e,n,s){const a=D.useMemo(()=>{const l=gx();return px(l,e,yx(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};mx(l,t.style,t),a.style={...l,...a.style}}return a}const dO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(dO.indexOf(t)>-1||/[A-Z]/u.test(t))}function fO(t,e,n,{latestValues:s},a,l=!1){const h=(sv(t)?hO:oO)(e,s,a,t),f=WD(e,typeof t=="string",l),p=t!==D.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=D.useMemo(()=>kn(y)?y.get():y,[y]);return D.createElement(t,{...p,children:_})}function yb(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function rv(t,e,n,s){if(typeof e=="function"){const[a,l]=yb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=yb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function ef(t){return kn(t)?t.get():t}function mO({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:pO(n,s,a,t),renderState:e()}}function pO(t,e,n,s){const a={},l=s(t,{});for(const S in l)a[S]=ef(l[S]);let{initial:c,animate:h}=t;const f=tm(t),p=dx(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?h:c;if(_&&typeof _!="boolean"&&!em(_)){const S=Array.isArray(_)?_:[_];for(let w=0;w<S.length;w++){const C=rv(t,S[w]);if(C){const{transitionEnd:k,transition:P,...j}=C;for(const Q in j){let H=j[Q];if(Array.isArray(H)){const ae=y?H.length-1:0;H=H[ae]}H!==null&&(a[Q]=H)}for(const Q in k)a[Q]=k[Q]}}}return a}const vx=t=>(e,n)=>{const s=D.useContext(Jf),a=D.useContext(Wf),l=()=>mO(t,e,s,a);return n?l():N0(l)};function av(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(kn(s[c])||e.style&&kn(e.style[c])||fx(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const gO=vx({scrapeMotionValuesFromProps:av,createRenderState:iv});function _x(t,e,n){const s=av(t,e,n);for(const a in t)if(kn(t[a])||kn(e[a])){const l=iu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const yO=vx({scrapeMotionValuesFromProps:_x,createRenderState:gx}),vO=Symbol.for("motionComponentSymbol");function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _O(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Dl(n)&&(n.current=s))},[e])}const ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EO="framerAppearId",Ex="data-"+ov(EO),Tx=D.createContext({});function TO(t,e,n,s,a){var k,P;const{visualElement:l}=D.useContext(Jf),c=D.useContext(cx),h=D.useContext(Wf),f=D.useContext(J0).reducedMotion,p=D.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=D.useContext(Tx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&bO(p.current,n,a,_);const S=D.useRef(!1);D.useInsertionEffect(()=>{y&&S.current&&y.update(n,h)});const w=n[Ex],C=D.useRef(!!w&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,w))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,w)));return vw(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,w)}),C.current=!1),y.enteringChildren=void 0)}),y}function bO(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bx(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Dl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:f,layoutRoot:p})}function bx(t){if(t)return t.options.allowProjection!==!1?t.projection:bx(t.parent)}function Yg(t,{forwardMotionProps:e=!1}={},n,s){n&&XD(n);const a=sv(t)?yO:gO;function l(h,f){let p;const y={...D.useContext(J0),...h,layoutId:SO(h)},{isStatic:_}=y,S=eO(h),w=a(h,_);if(!_&&D0){AO();const C=wO(y);p=C.MeasureLayout,S.visualElement=TO(t,w,y,s,C.ProjectionNode)}return E.jsxs(Jf.Provider,{value:S,children:[p&&S.visualElement?E.jsx(p,{visualElement:S.visualElement,...y}):null,fO(t,h,_O(w,S.visualElement,f),w,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[vO]=t,c}function SO({layoutId:t}){const e=D.useContext(I0).id;return e&&t!==void 0?e+"-"+t:t}function AO(t,e){D.useContext(cx).strict}function wO(t){const{drag:e,layout:n}=Hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function xO(t,e){if(typeof Proxy>"u")return Yg;const n=new Map,s=(l,c)=>Yg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Yg(c,void 0,t,e)),n.get(c))})}function Sx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function RO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Xg(t){return t===void 0||t===1}function jy({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function po(t){return jy(t)||Ax(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ax(t){return vb(t.x)||vb(t.y)}function vb(t){return t&&t!=="0%"}function vf(t,e,n){const s=t-n,a=e*s;return n+a}function _b(t,e,n,s,a){return a!==void 0&&(t=vf(t,a,s)),vf(t,n,s)+e}function Ly(t,e=0,n=1,s,a){t.min=_b(t.min,e,n,s,a),t.max=_b(t.max,e,n,s,a)}function wx(t,{x:e,y:n}){Ly(t.x,e.translate,e.scale,e.originPoint),Ly(t.y,n.translate,n.scale,n.originPoint)}const Eb=.999999999999,Tb=1.0000000000001;function IO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&kl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,wx(t,c)),s&&po(l.latestValues)&&kl(t,l.latestValues))}e.x<Tb&&e.x>Eb&&(e.x=1),e.y<Tb&&e.y>Eb&&(e.y=1)}function Ol(t,e){t.min=t.min+e,t.max=t.max+e}function bb(t,e,n,s,a=.5){const l=Ct(t.min,t.max,a);Ly(t,e,n,l,s)}function kl(t,e){bb(t.x,e.x,e.scaleX,e.scale,e.originX),bb(t.y,e.y,e.scaleY,e.scale,e.originY)}function xx(t,e){return Sx(CO(t.getBoundingClientRect(),e))}function NO(t,e,n){const s=xx(t,n),{scroll:a}=e;return a&&(Ol(s.x,a.offset.x),Ol(s.y,a.offset.y)),s}const Sb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ml=()=>({x:Sb(),y:Sb()}),Ab=()=>({min:0,max:0}),Bt=()=>({x:Ab(),y:Ab()}),Uy={current:null},Rx={current:!1};function DO(){if(Rx.current=!0,!!D0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uy.current=t.matches;t.addEventListener("change",e),e()}else Uy.current=!1}const OO=new WeakMap;function kO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(kn(a))t.addValue(s,a);else if(kn(l))t.addValue(s,ql(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ql(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const wb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=si.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=tm(n),this.isVariantNode=dx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const w=_[S];f[S]!==void 0&&kn(w)&&w.set(f[S])}}mount(e){var n;this.current=e,OO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),Rx.current||DO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ta(this.notifyUpdate),Ta(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=su.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hl){const n=Hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<wb.length;s++){const a=wb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=kO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ql(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(_w(s)||Tw(s))?s=parseFloat(s):!BD(s)&&ba.test(n)&&(s=nx(e,n)),this.setBaseTarget(e,kn(s)?s.get():s)),kn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=rv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!kn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new P0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Z0.render(this.render)}}class Cx extends MO{constructor(){super(...arguments),this.KeyframeResolver=ID}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ix(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function VO(t){return window.getComputedStyle(t)}class PO extends Cx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ix}readValueFromInstance(e,n){var s;if(su.has(n))return(s=this.projection)!=null&&s.isProjecting?Ny(n):YN(e,n);{const a=VO(e),l=(U0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xx(e,n)}build(e,n,s){nv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return av(e,n,s)}}const Nx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jO(t,e,n,s){Ix(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Nx.has(a)?a:ov(a),e.attrs[a])}class LO extends Cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(su.has(n)){const s=tx(n);return s&&s.default||0}return n=Nx.has(n)?n:ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return _x(e,n,s)}build(e,n,s){px(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){jO(e,n,s,a)}mount(e){this.isSVGTag=yx(e.tagName),super.mount(e)}}const UO=(t,e)=>sv(t)?new LO(e):new PO(e,{allowProjection:t!==D.Fragment});function Ll(t,e,n){const s=t.getProps();return rv(s,e,n!==void 0?n:s.custom,t)}const zy=t=>Array.isArray(t);function zO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ql(n))}function BO(t){return zy(t)?t[t.length-1]||0:t}function FO(t,e){const n=Ll(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=BO(l[c]);zO(t,c,h)}}function qO(t){return!!(kn(t)&&t.add)}function By(t,e){const n=t.getValue("willChange");if(qO(n))return n.add(e);if(!n&&cr.WillChange){const s=new cr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Dx(t){return t.props[Ex]}const HO=t=>t!==null;function GO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(HO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const $O={type:"spring",stiffness:500,damping:25,restSpeed:10},KO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YO={type:"keyframes",duration:.8},XO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QO=(t,{keyframes:e})=>e.length>2?YO:su.has(t)?t.startsWith("scale")?KO(e[1]):$O:XO;function ZO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const lv=(t,e,n,s={},a,l)=>c=>{const h=X0(s,t)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-vs(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:S=>{e.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};ZO(h)||Object.assign(y,QO(t,y)),y.duration&&(y.duration=vs(y.duration)),y.repeatDelay&&(y.repeatDelay=vs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Vy(y),y.delay===0&&(_=!0)),(cr.instantAnimations||cr.skipAnimations)&&(_=!0,Vy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const S=GO(y.keyframes,h);if(S!==void 0){Rt.update(()=>{y.onUpdate(S),y.onComplete()});return}}return h.isSync?new K0(y):new yD(y)};function WO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Ox(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),S=h[y];if(S===void 0||p&&WO(p,y))continue;const w={delay:n,...X0(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===C&&!w.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const j=Dx(t);if(j){const Q=window.MotionHandoffAnimation(j,y,Rt);Q!==null&&(w.startTime=Q,k=!0)}}By(t,y),_.start(lv(y,_,S,t.shouldReduceMotion&&Ww.has(y)?{type:!1}:w,t,k));const P=_.animation;P&&f.push(P)}return c&&Promise.all(f).then(()=>{Rt.update(()=>{c&&FO(t,c)})}),f}function kx(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}function Fy(t,e,n={}){var f;const s=Ll(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Ox(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:S}=a;return JO(t,e,p,y,_,S,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,y]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function JO(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Fy(f,e,{...c,delay:n+(typeof s=="function"?0:s)+kx(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function e3(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Fy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Fy(t,e,n);else{const a=typeof e=="function"?Ll(t,e,n.custom):e;s=Promise.all(Ox(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Mx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const t3=tv.length;function Vx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Vx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<t3;n++){const s=tv[n],a=t.props[s];(kc(a)||a===!1)&&(e[s]=a)}return e}const n3=[...ev].reverse(),i3=ev.length;function s3(t){return e=>Promise.all(e.map(({animation:n,options:s})=>e3(t,n,s)))}function r3(t){let e=s3(t),n=xb(),s=!0;const a=f=>(p,y)=>{var S;const _=Ll(t,y,f==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(_){const{transition:w,transitionEnd:C,...k}=_;p={...p,...k,...C}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,y=Vx(t.parent)||{},_=[],S=new Set;let w={},C=1/0;for(let P=0;P<i3;P++){const j=n3[P],Q=n[j],H=p[j]!==void 0?p[j]:y[j],ae=kc(H),oe=j===f?Q.isActive:null;oe===!1&&(C=P);let ce=H===y[j]&&H!==p[j]&&ae;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),Q.protectedKeys={...w},!Q.isActive&&oe===null||!H&&!Q.prevProp||em(H)||typeof H=="boolean")continue;const I=a3(Q.prevProp,H);let R=I||j===f&&Q.isActive&&!ce&&ae||P>C&&ae,N=!1;const M=Array.isArray(H)?H:[H];let U=M.reduce(a(j),{});oe===!1&&(U={});const{prevResolvedValues:B={}}=Q,O={...B,...U},We=re=>{R=!0,S.has(re)&&(N=!0,S.delete(re)),Q.needsAnimating[re]=!0;const he=t.getValue(re);he&&(he.liveStyle=!1)};for(const re in O){const he=U[re],we=B[re];if(w.hasOwnProperty(re))continue;let Ie=!1;zy(he)&&zy(we)?Ie=!Mx(he,we):Ie=he!==we,Ie?he!=null?We(re):S.add(re):he!==void 0&&S.has(re)?We(re):Q.protectedKeys[re]=!0}Q.prevProp=H,Q.prevResolvedValues=U,Q.isActive&&(w={...w,...U}),s&&t.blockInitialAnimation&&(R=!1);const ct=ce&&I;R&&(!ct||N)&&_.push(...M.map(re=>{const he={type:j};if(typeof re=="string"&&s&&!ct&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,Ie=Ll(we,re);if(we.enteringChildren&&Ie){const{delayChildren:L}=Ie.transition||{};he.delay=kx(we.enteringChildren,t,L)}}return{animation:re,options:he}}))}if(S.size){const P={};if(typeof p.initial!="boolean"){const j=Ll(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(P.transition=j.transition)}S.forEach(j=>{const Q=t.getBaseTarget(j),H=t.getValue(j);H&&(H.liveStyle=!0),P[j]=Q??null}),_.push({animation:P})}let k=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(_):Promise.resolve()}function h(f,p){var _;if(n[f].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(S=>{var w;return(w=S.animationState)==null?void 0:w.setActive(f,p)}),n[f].isActive=p;const y=c(f);for(const S in n)n[S].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=xb()}}}function a3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mx(e,t):!1}function mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xb(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o3 extends ka{constructor(e){super(e),e.animationState||(e.animationState=r3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let l3=0;class u3 extends ka{constructor(){super(...arguments),this.id=l3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c3={animation:{Feature:o3},exit:{Feature:u3}};function Vc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Wc(t){return{point:{x:t.pageX,y:t.pageY}}}const h3=t=>e=>W0(e)&&t(e,Wc(e));function _c(t,e,n,s){return Vc(t,e,h3(n),s)}const Px=1e-4,d3=1-Px,f3=1+Px,jx=.01,m3=0-jx,p3=0+jx;function $n(t){return t.max-t.min}function g3(t,e,n){return Math.abs(t-e)<=n}function Rb(t,e,n,s=.5){t.origin=s,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d3&&t.scale<=f3||isNaN(t.scale))&&(t.scale=1),(t.translate>=m3&&t.translate<=p3||isNaN(t.translate))&&(t.translate=0)}function Ec(t,e,n,s){Rb(t.x,e.x,n.x,s?s.originX:void 0),Rb(t.y,e.y,n.y,s?s.originY:void 0)}function Cb(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function y3(t,e,n){Cb(t.x,e.x,n.x),Cb(t.y,e.y,n.y)}function Ib(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function Tc(t,e,n){Ib(t.x,e.x,n.x),Ib(t.y,e.y,n.y)}function ji(t){return[t("x"),t("y")]}const Lx=({current:t})=>t?t.ownerDocument.defaultView:null,Nb=(t,e)=>Math.abs(t-e);function v3(t,e){const n=Nb(t.x,e.x),s=Nb(t.y,e.y);return Math.sqrt(n**2+s**2)}class Ux{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Zg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=v3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:k}=S,{timestamp:P}=Tn;this.history.push({...k,timestamp:P});const{onStart:j,onMove:Q}=this.handlers;w||(j&&j(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,S)},this.handlePointerMove=(S,w)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Qg(w,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(S,w)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Zg(S.type==="pointercancel"?this.lastMoveEventInfo:Qg(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(S,j),k&&k(S,j)},!W0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Wc(e),f=Qg(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Tn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Zg(f,this.history)),this.removeListeners=Xc(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ta(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function Db(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zg({point:t},e){return{point:t,delta:Db(t,zx(e)),offset:Db(t,_3(e)),velocity:E3(e,.1)}}function _3(t){return t[0]}function zx(t){return t[t.length-1]}function E3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=zx(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>vs(e)));)n--;if(!s)return{x:0,y:0};const l=Li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function T3(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ct(n,t,s.max):Math.min(t,n)),t}function Ob(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function b3(t,{top:e,left:n,bottom:s,right:a}){return{x:Ob(t.x,n,a),y:Ob(t.y,e,s)}}function kb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function S3(t,e){return{x:kb(t.x,e.x),y:kb(t.y,e.y)}}function A3(t,e){let n=.5;const s=$n(t),a=$n(e);return a>s?n=Nc(e.min,e.max-s,t.min):s>a&&(n=Nc(t.min,t.max-a,e.min)),ur(0,1,n)}function w3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qy=.35;function x3(t=qy){return t===!1?t=0:t===!0&&(t=qy),{x:Mb(t,"left","right"),y:Mb(t,"top","bottom")}}function Mb(t,e,n){return{min:Vb(t,e),max:Vb(t,n)}}function Vb(t,e){return typeof t=="number"?t:t[e]||0}const R3=new WeakMap;class C3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wc(_).point)},c=(_,S)=>{const{drag:w,dragPropagation:C,onDragStart:k}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kD(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ji(j=>{let Q=this.getAxisMotionValue(j).get()||0;if(_s.test(Q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ae=H.layout.layoutBox[j];ae&&(Q=$n(ae)*(parseFloat(Q)/100))}}this.originPoint[j]=Q}),k&&Rt.postRender(()=>k(_,S)),By(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:k,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=S;if(C&&this.currentDirection===null){this.currentDirection=I3(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",S.point,j),this.updateAxis("y",S.point,j),this.visualElement.render(),P&&P(_,S)},f=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ji(_=>{var S;return this.getAnimationState(_)==="paused"&&((S=this.getAxisMotionValue(_).animation)==null?void 0:S.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Ux(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Lx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Rt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Fd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=T3(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=b3(s.layoutBox,e):this.constraints=!1,this.elastic=x3(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ji(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=w3(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=NO(s,a.root,this.visualElement.getTransformPagePoint());let c=S3(a.layout.layoutBox,l);if(n){const h=n(RO(c));this.hasMutatedConstraints=!!h,h&&(c=Sx(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=ji(y=>{if(!Fd(y,n,this.currentDirection))return;let _=f&&f[y]||{};c&&(_={min:0,max:0});const S=a?200:1e6,w=a?40:1e7,C={type:"inertia",velocity:s?e[y]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return By(this.visualElement,e),s.start(lv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ji(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ji(n=>{const{drag:s}=this.getProps();if(!Fd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-Ct(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Dl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ji(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=A3({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ji(c=>{if(!Fd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(Ct(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;R3.set(this.visualElement,this);const e=this.visualElement.current,n=_c(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Dl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(s);const c=Vc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ji(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=qy,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Fd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function I3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N3 extends ka{constructor(e){super(e),this.removeGroupControls=Ui,this.removeListeners=Ui,this.controls=new C3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ui}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pb=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class D3 extends ka{constructor(){super(...arguments),this.removePointerDownListener=Ui}onPointerDown(e){this.session=new Ux(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Pb(e),onStart:Pb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Rt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=jb(t,e.target.x),s=jb(t,e.target.y);return`${n}% ${s}%`}},O3={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ba.parse(t);if(a.length>5)return s;const l=ba.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const p=Ct(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Wg=!1;class k3 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;tO(M3),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Wg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Wg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Rt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Z0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Wg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bx(t){const[e,n]=ux(),s=D.useContext(I0);return E.jsx(k3,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(Tx),isPresent:e,safeToRemove:n})}const M3={borderRadius:{...oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oc,borderTopRightRadius:oc,borderBottomLeftRadius:oc,borderBottomRightRadius:oc,boxShadow:O3};function V3(t,e,n){const s=kn(t)?t:ql(t);return s.start(lv("",s,e,n)),s.animation}const P3=(t,e)=>t.depth-e.depth;class j3{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){k0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P3),this.isDirty=!1,this.children.forEach(e)}}function L3(t,e){const n=si.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ta(s),t(l-e))};return Rt.setup(s,!0),()=>Ta(s)}const Fx=["TopLeft","TopRight","BottomLeft","BottomRight"],U3=Fx.length,Lb=t=>typeof t=="string"?parseFloat(t):t,Ub=t=>typeof t=="number"||Ne.test(t);function z3(t,e,n,s,a,l){a?(t.opacity=Ct(0,n.opacity??1,B3(s)),t.opacityExit=Ct(e.opacity??1,0,F3(s))):l&&(t.opacity=Ct(e.opacity??1,n.opacity??1,s));for(let c=0;c<U3;c++){const h=`border${Fx[c]}Radius`;let f=zb(e,h),p=zb(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Ub(f)===Ub(p)?(t[h]=Math.max(Ct(Lb(f),Lb(p),s),0),(_s.test(p)||_s.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,s))}function zb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B3=qx(0,.5,Iw),F3=qx(.5,.95,Ui);function qx(t,e,n){return s=>s<t?0:s>e?1:n(Nc(t,e,s))}function Bb(t,e){t.min=e.min,t.max=e.max}function Pi(t,e){Bb(t.x,e.x),Bb(t.y,e.y)}function Fb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qb(t,e,n,s,a){return t-=e,t=vf(t,1/n,s),a!==void 0&&(t=vf(t,1/a,s)),t}function q3(t,e=0,n=1,s=.5,a,l=t,c=t){if(_s.test(e)&&(e=parseFloat(e),e=Ct(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ct(l.min,l.max,s);t===l&&(h-=e),t.min=qb(t.min,e,n,h,a),t.max=qb(t.max,e,n,h,a)}function Hb(t,e,[n,s,a],l,c){q3(t,e[n],e[s],e[a],e.scale,l,c)}const H3=["x","scaleX","originX"],G3=["y","scaleY","originY"];function Gb(t,e,n,s){Hb(t.x,e,H3,n?n.x:void 0,s?s.x:void 0),Hb(t.y,e,G3,n?n.y:void 0,s?s.y:void 0)}function $b(t){return t.translate===0&&t.scale===1}function Hx(t){return $b(t.x)&&$b(t.y)}function Kb(t,e){return t.min===e.min&&t.max===e.max}function $3(t,e){return Kb(t.x,e.x)&&Kb(t.y,e.y)}function Yb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Gx(t,e){return Yb(t.x,e.x)&&Yb(t.y,e.y)}function Xb(t){return $n(t.x)/$n(t.y)}function Qb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class K3{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(k0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y3(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:S,skewX:w,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),S&&(s+=`rotateY(${S}deg) `),w&&(s+=`skewX(${w}deg) `),C&&(s+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Jg=["","X","Y","Z"],X3=1e3;let Q3=0;function ey(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function $x(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Dx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&$x(s)}function Kx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=Q3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J3),this.nodes.forEach(ik),this.nodes.forEach(sk),this.nodes.forEach(ek)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new j3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new P0),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lx(c)&&!UD(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{_=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=L3(S,250),tf.hasAnimatedSinceResize&&(tf.hasAnimatedSinceResize=!1,this.nodes.forEach(Jb)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||uk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=p.getProps(),j=!this.targetLayout||!Gx(this.targetLayout,w),Q=!_&&S;if(this.options.layoutRoot||this.resumeFrom||Q||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...X0(C,"layout"),onPlay:k,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,Q)}else _||Jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$x(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nk),this.nodes.forEach(Z3),this.nodes.forEach(W3)):this.nodes.forEach(Wb),this.clearAllSnapshots();const h=si.now();Tn.delta=ur(0,1e3/60,h-Tn.timestamp),Tn.timestamp=h,Tn.isProcessing=!0,Fg.update.process(Tn),Fg.preRender.process(Tn),Fg.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Z0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tk),this.sharedNodes.forEach(ak)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$n(this.snapshot.measuredBox.x)&&!$n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Hx(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||po(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),ck(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Bt();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(hk))){const{scroll:y}=this.root;y&&(Ol(h.x,y.offset.x),Ol(h.y,y.offset.y))}return h}removeElementScroll(c){var f;const h=Bt();if(Pi(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:S}=y;y!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&Pi(h,c),Ol(h.x,_.offset.x),Ol(h.y,_.offset.y))}return h}applyTransform(c,h=!1){const f=Bt();Pi(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&kl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),po(y.latestValues)&&kl(f,y.latestValues)}return po(this.latestValues)&&kl(f,this.latestValues),f}removeTransform(c){const h=Bt();Pi(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!po(p.latestValues))continue;jy(p.latestValues)&&p.updateSnapshot();const y=Bt(),_=p.measurePageBox();Pi(y,_),Gb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return po(this.latestValues)&&Gb(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),wx(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Tc(this.relativeTargetOrigin,this.target,w.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jy(this.parent.latestValues)||Ax(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Pi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;IO(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Bt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fb(this.prevProjectionDelta.x,this.projectionDelta.x),Fb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ec(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!Qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ml(),this.projectionDelta=Ml(),this.projectionDeltaWithTransform=Ml()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=Ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Bt(),w=f?f.source:void 0,C=this.layout?this.layout.source:void 0,k=w!==C,P=this.getStack(),j=!P||P.members.length<=1,Q=!!(k&&!j&&this.options.crossfade===!0&&!this.path.some(lk));this.animationProgress=0;let H;this.mixTargetDelta=ae=>{const oe=ae/1e3;eS(_.x,c.x,oe),eS(_.y,c.y,oe),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ok(this.relativeTarget,this.relativeTargetOrigin,S,oe),H&&$3(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Bt()),Pi(H,this.relativeTarget)),k&&(this.animationValues=y,z3(y,p,this.latestValues,oe,Q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ql(0)),this.currentAnimation=V3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&Yx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Bt();const _=$n(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+_;const S=$n(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+S}Pi(h,f),kl(h,y),Ec(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new K3),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&ey("z",c,p,this.animationValues);for(let y=0;y<Jg.length;y++)ey(`rotate${Jg[y]}`,c,p,this.animationValues),ey(`skew${Jg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ef(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ef(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Y3(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),c.transform=_;const{x:S,y:w}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Mc){if(y[C]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:j}=Mc[C],Q=_==="none"?y[C]:k(y[C],p);if(P){const H=P.length;for(let ae=0;ae<H;ae++)c[P[ae]]=Q}else j?this.options.visualElement.renderState.vars[C]=Q:c[C]=Q}this.options.layoutId&&(c.pointerEvents=p===this?ef(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Zb),this.root.sharedNodes.clear()}}}function Z3(t){t.updateLayout()}function W3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ji(_=>{const S=c?e.measuredBox[_]:e.layoutBox[_],w=$n(S);S.min=s[_].min,S.max=S.min+w}):Yx(l,e.layoutBox,s)&&ji(_=>{const S=c?e.measuredBox[_]:e.layoutBox[_],w=$n(s[_]);S.max=S.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+w)});const h=Ml();Ec(h,s,e.layoutBox);const f=Ml();c?Ec(f,t.applyTransform(a,!0),e.measuredBox):Ec(f,s,e.layoutBox);const p=!Hx(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:w}=_;if(S&&w){const C=Bt();Tc(C,e.layoutBox,S.layoutBox);const k=Bt();Tc(k,s,w.layoutBox),Gx(C,k)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function J3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ek(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tk(t){t.clearSnapshot()}function Zb(t){t.clearMeasurements()}function Wb(t){t.isLayoutDirty=!1}function nk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ik(t){t.resolveTargetDelta()}function sk(t){t.calcProjection()}function rk(t){t.resetSkewAndRotation()}function ak(t){t.removeLeadSnapshot()}function eS(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tS(t,e,n,s){t.min=Ct(e.min,n.min,s),t.max=Ct(e.max,n.max,s)}function ok(t,e,n,s){tS(t.x,e.x,n.x,s),tS(t.y,e.y,n.y,s)}function lk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uk={duration:.45,ease:[.4,0,.1,1]},nS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iS=nS("applewebkit/")&&!nS("chrome/")?Math.round:Ui;function sS(t){t.min=iS(t.min),t.max=iS(t.max)}function ck(t){sS(t.x),sS(t.y)}function Yx(t,e,n){return t==="position"||t==="preserve-aspect"&&!g3(Xb(e),Xb(n),.2)}function hk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dk=Kx({attachResizeListener:(t,e)=>Vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ty={current:void 0},Xx=Kx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ty.current){const t=new dk({});t.mount(window),t.setOptions({layoutScroll:!0}),ty.current=t}return ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fk={pan:{Feature:D3},drag:{Feature:N3,ProjectionNode:Xx,MeasureLayout:Bx}};function rS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Rt.postRender(()=>l(e,Wc(e)))}class mk extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=MD(e,(n,s)=>(rS(this.node,s,"Start"),a=>rS(this.node,a,"End"))))}unmount(){}}class pk extends ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xc(Vc(this.node.current,"focus",()=>this.onFocus()),Vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Rt.postRender(()=>l(e,Wc(e)))}class gk extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=LD(e,(n,s)=>(aS(this.node,s,"Start"),(a,{success:l})=>aS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hy=new WeakMap,ny=new WeakMap,yk=t=>{const e=Hy.get(t.target);e&&e(t)},vk=t=>{t.forEach(yk)};function _k({root:t,...e}){const n=t||document;ny.has(n)||ny.set(n,{});const s=ny.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(vk,{root:t,...e})),s[a]}function Ek(t,e,n){const s=_k(e);return Hy.set(t,n),s.observe(t),()=>{Hy.delete(t),s.unobserve(t)}}const Tk={some:0,all:1};class bk extends ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Tk[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=p?y:_;S&&S(f)};return Ek(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Sk(e,n))&&this.startObserver()}unmount(){}}function Sk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ak={inView:{Feature:bk},tap:{Feature:gk},focus:{Feature:pk},hover:{Feature:mk}},wk={layout:{ProjectionNode:Xx,MeasureLayout:Bx}},xk={...c3,...Ak,...fk,...wk},Rk=xO(xk,UO),Ck=""+new URL("atemi-startup-Ch2NV5O7.mp3",import.meta.url).href,Ik=1.5,Nk=.35,Dk=.12,Ok=1e3;function kk(){const[t,e]=D.useState(()=>Date.now()),n=D.useRef(null);D.useEffect(()=>{if(typeof Audio>"u")return;const a=new Audio(Ck);return n.current=a,()=>{a.pause(),n.current=null}},[]);const s=D.useCallback(()=>{const a=n.current;if(!a)return;a.pause(),a.currentTime=0,a.volume=Nk;const l=a.play();typeof(l==null?void 0:l.then)=="function"&&l.then(()=>{window.setTimeout(()=>{a.paused||(a.volume=Dk)},Ok)}).catch(()=>{})},[]);return D.useEffect(()=>{if(typeof document>"u")return;const a=new MutationObserver(()=>{e(Date.now()),s()});return a.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>a.disconnect()},[s]),E.jsx(YD,{children:E.jsx(Rk.div,{className:"role-glow",initial:{opacity:0,scale:1.05},animate:{opacity:.35,scale:1},exit:{opacity:0,scale:1},transition:{duration:Ik,ease:"easeInOut"}},t)})}function Mk(){return E.jsxs("div",{className:"atemi-bg","aria-hidden":"true",children:[E.jsx("div",{className:"atemi-layer atemi-gradient"}),E.jsx("div",{className:"atemi-layer atemi-lines"}),E.jsx("div",{className:"atemi-overlay"})]})}const Vk=()=>{};var oS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Pk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let S=(h&15)<<2|p>>6,w=p&63;f||(w=64,c||(S=64)),s.push(n[y],n[_],n[S],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new jk;const S=l<<2|h>>4;if(s.push(S),p!==64){const w=h<<4&240|p>>2;if(s.push(w),_!==64){const C=p<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lk=function(t){const e=Qx(t);return Zx.encodeByteArray(e,!0)},_f=function(t){return Lk(t).replace(/\./g,"")},Wx=function(t){try{return Zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=()=>Uk().__FIREBASE_DEFAULTS__,Bk=()=>{if(typeof process>"u"||typeof oS>"u")return;const t=oS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wx(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return Vk()||zk()||Bk()||Fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jx=t=>{var e,n;return(n=(e=nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e2=t=>{const e=Jx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},t2=()=>{var t;return(t=nm())===null||t===void 0?void 0:t.config},n2=t=>{var e;return(e=nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_f(JSON.stringify(n)),_f(JSON.stringify(c)),""].join(".")}const bc={};function Gk(){const t={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?t.emulator.push(e):t.prod.push(e);return t}function $k(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lS=!1;function cv(t,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||bc[t]===e||bc[t]||lS)return;bc[t]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=Gk().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function f(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{lS=!0,c()},S}function y(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=$k(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),j=n("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;h(H),y(P,k);const ae=p();f(Q,j),H.append(Q,C,P,ae),document.body.appendChild(H)}l?(C.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function Yk(){var t;const e=(t=nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wk(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jk(){return!Yk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eM(){try{return typeof indexedDB=="object"}catch{return!1}}function tM(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="FirebaseError";class Mn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nM,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iM(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Mn(a,h,s)}}function iM(t,e){return t.replace(sM,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const sM=/\{\$([^}]+)}/g;function rM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(uS(l)&&uS(c)){if(!wo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aM(t,e){const n=new oM(t,e);return n.subscribe.bind(n)}class oM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=iy),a.error===void 0&&(a.error=iy),a.complete===void 0&&(a.complete=iy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hM(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cM(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cM(t){return t===go?void 0:t}function hM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const fM={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},mM=Xe.INFO,pM={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},gM=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=pM[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=mM,this._logHandler=gM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const yM=(t,e)=>e.some(n=>t instanceof n);let cS,hS;function vM(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _M(){return hS||(hS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i2=new WeakMap,Gy=new WeakMap,s2=new WeakMap,sy=new WeakMap,dv=new WeakMap;function EM(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ma(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&i2.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function TM(t){if(Gy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gy.set(t,e)}let $y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bM(t){$y=t($y)}function SM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ry(this),e,...n);return s2.set(s,e.sort?e.sort():[e]),ma(s)}:_M().includes(t)?function(...e){return t.apply(ry(this),e),ma(i2.get(this))}:function(...e){return ma(t.apply(ry(this),e))}}function AM(t){return typeof t=="function"?SM(t):(t instanceof IDBTransaction&&TM(t),yM(t,vM())?new Proxy(t,$y):t)}function ma(t){if(t instanceof IDBRequest)return EM(t);if(sy.has(t))return sy.get(t);const e=AM(t);return e!==t&&(sy.set(t,e),dv.set(e,t)),e}const ry=t=>dv.get(t);function wM(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=ma(c);return s&&c.addEventListener("upgradeneeded",f=>{s(ma(c.result),f.oldVersion,f.newVersion,ma(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const xM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],ay=new Map;function dS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=RM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||xM.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return ay.set(e,l),l}bM(t=>({...t,get:(e,n,s)=>dS(e,n)||t.get(e,n,s),has:(e,n)=>!!dS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",fS="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new hv("@firebase/app"),NM="@firebase/app-compat",DM="@firebase/analytics-compat",OM="@firebase/analytics",kM="@firebase/app-check-compat",MM="@firebase/app-check",VM="@firebase/auth",PM="@firebase/auth-compat",jM="@firebase/database",LM="@firebase/data-connect",UM="@firebase/database-compat",zM="@firebase/functions",BM="@firebase/functions-compat",FM="@firebase/installations",qM="@firebase/installations-compat",HM="@firebase/messaging",GM="@firebase/messaging-compat",$M="@firebase/performance",KM="@firebase/performance-compat",YM="@firebase/remote-config",XM="@firebase/remote-config-compat",QM="@firebase/storage",ZM="@firebase/storage-compat",WM="@firebase/firestore",JM="@firebase/ai",e4="@firebase/firestore-compat",t4="firebase",n4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",i4={[Ky]:"fire-core",[NM]:"fire-core-compat",[OM]:"fire-analytics",[DM]:"fire-analytics-compat",[MM]:"fire-app-check",[kM]:"fire-app-check-compat",[VM]:"fire-auth",[PM]:"fire-auth-compat",[jM]:"fire-rtdb",[LM]:"fire-data-connect",[UM]:"fire-rtdb-compat",[zM]:"fire-fn",[BM]:"fire-fn-compat",[FM]:"fire-iid",[qM]:"fire-iid-compat",[HM]:"fire-fcm",[GM]:"fire-fcm-compat",[$M]:"fire-perf",[KM]:"fire-perf-compat",[YM]:"fire-rc",[XM]:"fire-rc-compat",[QM]:"fire-gcs",[ZM]:"fire-gcs-compat",[WM]:"fire-fst",[e4]:"fire-fst-compat",[JM]:"fire-vertex","fire-js":"fire-js",[t4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,s4=new Map,Xy=new Map;function mS(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(Xy.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,t);for(const n of Pc.values())mS(n,t);for(const n of s4.values())mS(n,t);return!0}function im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new Jc("app","Firebase",r4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=n4;function r2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Yy,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw pa.create("bad-app-name",{appName:String(a)});if(n||(n=t2()),!n)throw pa.create("no-options");const l=Pc.get(a);if(l){if(wo(n,l.options)&&wo(s,l.config))return l;throw pa.create("duplicate-app",{appName:a})}const c=new dM(a);for(const f of Xy.values())c.addComponent(f);const h=new a4(n,s,c);return Pc.set(a,h),h}function sm(t=Yy){const e=Pc.get(t);if(!e&&t===Yy&&t2())return r2();if(!e)throw pa.create("no-app",{appName:t});return e}function o4(){return Array.from(Pc.values())}function Es(t,e,n){var s;let a=(s=i4[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(h.join(" "));return}xo(new Sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="firebase-heartbeat-database",u4=1,jc="firebase-heartbeat-store";let oy=null;function a2(){return oy||(oy=wM(l4,u4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw pa.create("idb-open",{originalErrorMessage:t.message})})),oy}async function c4(t){try{const n=(await a2()).transaction(jc),s=await n.objectStore(jc).get(o2(t));return await n.done,s}catch(e){if(e instanceof Mn)hr.warn(e.message);else{const n=pa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function pS(t,e){try{const s=(await a2()).transaction(jc,"readwrite");await s.objectStore(jc).put(e,o2(t)),await s.done}catch(n){if(n instanceof Mn)hr.warn(n.message);else{const s=pa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(s.message)}}}function o2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=1024,d4=30;class f4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=gS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>d4){const c=g4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gS(),{heartbeatsToSend:s,unsentEntries:a}=m4(this._heartbeatsCache.heartbeats),l=_f(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return hr.warn(n),""}}}function gS(){return new Date().toISOString().substring(0,10)}function m4(t,e=h4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eM()?tM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function yS(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}function g4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){xo(new Sa("platform-logger",e=>new CM(e),"PRIVATE")),xo(new Sa("heartbeat",e=>new f4(e),"PRIVATE")),Es(Ky,fS,t),Es(Ky,fS,"esm2017"),Es("fire-js","")}y4("");function fv(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function l2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v4=l2,u2=new Jc("auth","Firebase",l2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new hv("@firebase/auth");function _4(t,...e){Ef.logLevel<=Xe.WARN&&Ef.warn(`Auth (${ru}): ${t}`,...e)}function nf(t,...e){Ef.logLevel<=Xe.ERROR&&Ef.error(`Auth (${ru}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,...e){throw mv(t,...e)}function Ts(t,...e){return mv(t,...e)}function c2(t,e,n){const s=Object.assign(Object.assign({},v4()),{[e]:n});return new Jc("auth","Firebase",s).create(e,{appName:t.name})}function lr(t){return c2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return u2.create(t,...e)}function Ce(t,e,...n){if(!t)throw mv(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nf(e),new Error(e)}function dr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function E4(){return vS()==="http:"||vS()==="https:"}function vS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E4()||Qk()||"connection"in navigator)?navigator.onLine:!0}function b4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Kk()||Zk()}get(){return T4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w4=new th(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,s,a={}){return d2(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=eh(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},l);return Xk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Oo(t.emulatorConfig.host)&&(p.credentials="include"),h2.fetch()(await f2(t,t.config.apiHost,n,h),p)})}async function d2(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},S4),e);try{const a=new R4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw qd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw qd(t,"user-disabled",c);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw c2(t,y,p);Wi(t,y)}}catch(a){if(a instanceof Mn)throw a;Wi(t,"network-request-failed",{message:String(a)})}}async function nh(t,e,n,s,a={}){const l=await Ns(t,e,n,s,a);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function f2(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?pv(t.config,a):`${t.config.apiScheme}://${a}`;return A4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ts(this.auth,"network-request-failed")),w4.get())})}}function qd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ts(t,e,s);return a.customData._tokenResponse=n,a}function _S(t){return t!==void 0&&t.enterprise!==void 0}class C4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I4(t,e){return Ns(t,"GET","/v2/recaptchaConfig",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function Tf(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m2(t,e=!1){const n=Tt(t),s=await n.getIdToken(e),a=gv(s);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Sc(ly(a.auth_time)),issuedAtTime:Sc(ly(a.iat)),expirationTime:Sc(ly(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ly(t){return Number(t)*1e3}function gv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Wx(n);return a?JSON.parse(a):(nf("Failed to decode base64 JWT payload"),null)}catch(a){return nf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ES(t){const e=gv(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mn&&D4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function D4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Gl(t,Tf(n,{idToken:s}));Ce(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?p2(l.providerUserInfo):[],h=M4(t.providerData,c),f=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Zy(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function k4(t){const e=Tt(t);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function p2(t){return t.map(e=>{var{providerId:n}=e,s=fv(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){const n=await d2(t,{},async()=>{const s=eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await f2(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return t.emulatorConfig&&Oo(t.emulatorConfig.host)&&(f.credentials="include"),h2.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P4(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ES(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=ES(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await V4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Ul;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qi{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=fv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m2(this,e)}reload(){return k4(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Gl(this,N4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,c,h,f,p,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(h=n.tenantId)!==null&&h!==void 0?h:void 0,P=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,j=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:ae,isAnonymous:oe,providerData:ce,stsTokenManager:I}=n;Ce(H&&I,e,"internal-error");const R=Ul.fromJSON(this.name,I);Ce(typeof H=="string",e,"internal-error"),ia(_,e.name),ia(S,e.name),Ce(typeof ae=="boolean",e,"internal-error"),Ce(typeof oe=="boolean",e,"internal-error"),ia(w,e.name),ia(C,e.name),ia(k,e.name),ia(P,e.name),ia(j,e.name),ia(Q,e.name);const N=new Qi({uid:H,auth:e,email:S,emailVerified:ae,displayName:_,isAnonymous:oe,photoURL:C,phoneNumber:w,tenantId:k,stsTokenManager:R,createdAt:j,lastLoginAt:Q});return ce&&Array.isArray(ce)&&(N.providerData=ce.map(M=>Object.assign({},M))),P&&(N._redirectEventId=P),N}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ul;a.updateFromServerResponse(n);const l=new Qi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await bf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?p2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Ul;h.updateFromIdToken(s);const f=new Qi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map;function ar(t){dr(t instanceof Function,"Expected a class definition");let e=TS.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g2.type="NONE";const bS=g2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tf(this.auth,{idToken:e}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,e):null}return Qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new zl(ar(bS),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ar(bS);const c=sf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const S=await Tf(e,{idToken:y}).catch(()=>{});if(!S)break;_=await Qi._fromGetAccountInfoResponse(e,S,y)}else _=Qi._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new zl(l,e,s):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new zl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b2(e))return"Blackberry";if(S2(e))return"Webos";if(v2(e))return"Safari";if((e.includes("chrome/")||_2(e))&&!e.includes("edge/"))return"Chrome";if(T2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function y2(t=Pn()){return/firefox\//i.test(t)}function v2(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _2(t=Pn()){return/crios\//i.test(t)}function E2(t=Pn()){return/iemobile/i.test(t)}function T2(t=Pn()){return/android/i.test(t)}function b2(t=Pn()){return/blackberry/i.test(t)}function S2(t=Pn()){return/webos/i.test(t)}function yv(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j4(t=Pn()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L4(){return Wk()&&document.documentMode===10}function A2(t=Pn()){return yv(t)||T2(t)||S2(t)||b2(t)||/windows phone/i.test(t)||E2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e=[]){let n;switch(t){case"Browser":n=SS(Pn());break;case"Worker":n=`${SS(Pn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",yr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=6;class F4{constructor(e){var n,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:B4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AS(this),this.idTokenSubscription=new AS(this),this.beforeStateQueue=new U4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tf(this,{idToken:e}),s=await Qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(lr(this));const n=e?Tt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z4(this),n=new F4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await P4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ma(t){return Tt(t)}class AS{constructor(e){this.auth=e,this.observer=null,this.addObserver=aM(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H4(t){rm=t}function x2(t){return rm.loadJS(t)}function G4(){return rm.recaptchaEnterpriseScript}function $4(){return rm.gapiScript}function K4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Y4{constructor(){this.enterprise=new X4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q4="recaptcha-enterprise",R2="NO_RECAPTCHA";class Z4{constructor(e){this.type=Q4,this.auth=Ma(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{I4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new C4(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;_S(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(R2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&_S(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=G4();f.length!==0&&(f+=h),x2(f).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function wS(t,e,n,s=!1,a=!1){const l=new Z4(t);let c;if(a)c=R2;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Sf(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wS(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wS(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=im(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(wo(l,e??{}))return a;Wi(a,"already-initialized")}return n.initialize({options:e})}function J4(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function eV(t,e,n){const s=Ma(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=C2(e),{host:c,port:h}=tV(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(wo(p,s.config.emulator)&&wo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Oo(c)?(uv(`${l}//${c}${f}`),cv("Auth",!0)):nV()}function C2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tV(t){const e=C2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:xS(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:xS(c)}}}function xS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function iV(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return nh(t,"POST","/v1/accounts:signInWithPassword",yr(t,e))}async function rV(t,e){return Ns(t,"POST","/v1/accounts:sendOobCode",yr(t,e))}async function aV(t,e){return rV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e){return nh(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}async function lV(t,e){return nh(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends vv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Lc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Lc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(e,n,"signInWithPassword",sV);case"emailLink":return oV(e,{email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sf(e,s,"signUpPassword",iV);case"emailLink":return lV(e,{idToken:n,email:this._email,oobCode:this._password});default:Wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return nh(t,"POST","/v1/accounts:signInWithIdp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="http://localhost";class Ro extends vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=fv(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ro(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Bl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bl(e,n)}buildRequest(){const e={requestUri:uV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hV(t){const e=cc(hc(t)).link,n=e?cc(hc(e)).deep_link_id:null,s=cc(hc(t)).deep_link_id;return(s?cc(hc(s)).link:null)||s||n||e||t}class _v{constructor(e){var n,s,a,l,c,h;const f=cc(hc(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(s=f.oobCode)!==null&&s!==void 0?s:null,_=cV((a=f.mode)!==null&&a!==void 0?a:null);Ce(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=hV(e);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_v.parseLink(n);return Ce(s,"argument-error"),Lc._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends I2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends ih{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ro._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return oa.credential(n,s)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends ih{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends ih{constructor(){super("twitter.com")}static credential(e,n){return Ro._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ua.credential(n,s)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return nh(t,"POST","/v1/accounts:signUp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Qi._fromIdTokenResponse(e,s,a),c=RS(s);return new Co({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=RS(s);return new Co({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function RS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Mn{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Af(e,n,s,a)}}function N2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(t,l,e,s):l})}async function fV(t,e,n=!1){const s=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e,n=!1){const{auth:s}=t;if(yi(s.app))return Promise.reject(lr(s));const a="reauthenticate";try{const l=await Gl(t,N2(s,a,e,t),n);Ce(l.idToken,s,"internal-error");const c=gv(l.idToken);Ce(c,s,"internal-error");const{sub:h}=c;return Ce(t.uid===h,s,"user-mismatch"),Co._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e,n=!1){if(yi(t.app))return Promise.reject(lr(t));const s="signIn",a=await N2(t,s,e),l=await Co._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function mV(t,e){return O2(Ma(t),e)}async function pV(t,e){return D2(Tt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t){const e=Ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gV(t,e,n){const s=Ma(t);await Sf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aV)}async function yV(t,e,n){if(yi(t.app))return Promise.reject(lr(t));const s=Ma(t),c=await Sf(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&k2(t),f}),h=await Co._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function vV(t,e,n){return yi(t.app)?Promise.reject(lr(t)):mV(Tt(t),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&k2(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return Ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Tt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Gl(s,_V(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){return Tt(t).setPersistence(e)}function bV(t,e,n,s){return Tt(t).onIdTokenChanged(e,n,s)}function SV(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function AV(t,e,n,s){return Tt(t).onAuthStateChanged(e,n,s)}function wV(t){return Tt(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=1e3,RV=10;class V2 extends M2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);L4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V2.type="LOCAL";const P2=V2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends M2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j2.type="SESSION";const L2=j2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new am(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),f=await CV(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=Ev("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(S.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function NV(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function DV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kV(){return U2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebaseLocalStorageDb",MV=1,xf="firebaseLocalStorage",B2="fbase_key";class sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function VV(){const t=indexedDB.deleteDatabase(z2);return new sh(t).toPromise()}function Wy(){const t=indexedDB.open(z2,MV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(xf,{keyPath:B2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(xf)?e(s):(s.close(),await VV(),e(await Wy()))})})}async function CS(t,e,n){const s=om(t,!0).put({[B2]:e,value:n});return new sh(s).toPromise()}async function PV(t,e){const n=om(t,!1).get(e),s=await new sh(n).toPromise();return s===void 0?null:s.value}function IS(t,e){const n=om(t,!0).delete(e);return new sh(n).toPromise()}const jV=800,LV=3;class F2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(kV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new IV(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wy();return await CS(e,wf,"1"),await IS(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>CS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=om(a,!1).getAll();return new sh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F2.type="LOCAL";const UV=F2;new th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t,e){return e?ar(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BV(t){return O2(t.auth,new Tv(t),t.bypassAuthState)}function FV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),D2(n,new Tv(t),t.bypassAuthState)}async function qV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),fV(n,new Tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BV;case"linkViaPopup":case"linkViaRedirect":return qV;case"reauthViaPopup":case"reauthViaRedirect":return FV;default:Wi(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new th(2e3,1e4);class Vl extends q2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HV.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="pendingRedirect",rf=new Map;class $V extends q2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const s=await KV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KV(t,e){const n=QV(e),s=XV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function YV(t,e){rf.set(t._key(),e)}function XV(t){return ar(t._redirectPersistence)}function QV(t){return sf(GV,t.config.apiKey,t.name)}async function ZV(t,e,n=!1){if(yi(t.app))return Promise.reject(lr(t));const s=Ma(t),a=zV(s,e),c=await new $V(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=600*1e3;class JV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!H2(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ts(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WV&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iP=/^https?/;async function sP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tP(t);for(const n of e)try{if(rP(n))return}catch{}Wi(t,"unauthorized-domain")}function rP(t){const e=Qy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!iP.test(n))return!1;if(nP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new th(3e4,6e4);function DS(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oP(t){return new Promise((e,n)=>{var s,a,l;function c(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),n(Ts(t,"network-request-failed"))},timeout:aP.get()})}if(!((a=(s=bs().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=bs().gapi)===null||l===void 0)&&l.load)c();else{const h=K4("iframefcb");return bs()[h]=()=>{gapi.load?c():n(Ts(t,"network-request-failed"))},x2(`${$4()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw af=null,e})}let af=null;function lP(t){return af=af||oP(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new th(5e3,15e3),cP="__/auth/iframe",hP="emulator/auth/iframe",dP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mP(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,hP):`https://${t.config.authDomain}/${cP}`,s={apiKey:e.apiKey,appName:t.name,v:ru},a=fP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${eh(s).slice(1)}`}async function pP(t){const e=await lP(t),n=bs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:mP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ts(t,"network-request-failed"),h=bs().setTimeout(()=>{l(c)},uP.get());function f(){bs().clearTimeout(h),a(s)}s.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yP=500,vP=600,_P="_blank",EP="http://localhost";class OS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TP(t,e,n,s=yP,a=vP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f=Object.assign(Object.assign({},gP),{width:s.toString(),height:a.toString(),top:l,left:c}),p=Pn().toLowerCase();n&&(h=_2(p)?_P:n),y2(p)&&(e=e||EP,f.scrollbars="yes");const y=Object.entries(f).reduce((S,[w,C])=>`${S}${w}=${C},`,"");if(j4(p)&&h!=="_self")return bP(e||"",h),new OS(null);const _=window.open(e||"",h,y);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new OS(_)}function bP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__/auth/handler",AP="emulator/auth/handler",wP=encodeURIComponent("fac");async function kS(t,e,n,s,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ru,eventId:a};if(e instanceof I2){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",rM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof ih){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${wP}=${encodeURIComponent(f)}`:"";return`${xP(t)}?${eh(h).slice(1)}${p}`}function xP({config:t}){return t.emulator?pv(t,AP):`https://${t.authDomain}/${SP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class RP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L2,this._completeRedirectFn=ZV,this._overrideRedirectResult=YV}async _openPopup(e,n,s,a){var l;dr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await kS(e,n,s,Qy(),a);return TP(e,c,Ev())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await kS(e,n,s,Qy(),a);return NV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(dr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pP(e),s=new JV(e);return n.register("authEvent",a=>(Ce(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uy,{type:uy},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[uy];c!==void 0&&n(!!c),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A2()||v2()||yv()}}const CP=RP;var MS="@firebase/auth",VS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DP(t){xo(new Sa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(t)},p=new q4(s,a,l,f);return J4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new Sa("auth-internal",e=>{const n=Ma(e.getProvider("auth").getImmediate());return(s=>new IP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(MS,VS,NP(t)),Es(MS,VS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=300,kP=n2("authIdTokenMaxAge")||OP;let PS=null;const MP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kP)return;const a=n==null?void 0:n.token;PS!==a&&(PS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VP(t=sm()){const e=im(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W4(t,{popupRedirectResolver:CP,persistence:[UV,P2,L2]}),s=n2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=MP(l.toString());SV(n,c,()=>c(n.currentUser)),bV(n,h=>c(h))}}const a=Jx("auth");return a&&eV(n,`http://${a}`),n}function PP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}H4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ts("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",PP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DP("Browser");var jP="firebase",LP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(jP,LP,"app");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,G2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.D=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(M,U,B){for(var O=Array(arguments.length-2),We=2;We<arguments.length;We++)O[We-2]=arguments[We];return R.prototype[U].apply(M,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,N){N||(N=0);var M=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)M[U]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(U=0;16>U;++U)M[U]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],U=I.g[2];var B=I.g[3],O=R+(B^N&(U^B))+M[0]+3614090360&4294967295;R=N+(O<<7&4294967295|O>>>25),O=B+(U^R&(N^U))+M[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(N^B&(R^N))+M[2]+606105819&4294967295,U=B+(O<<17&4294967295|O>>>15),O=N+(R^U&(B^R))+M[3]+3250441966&4294967295,N=U+(O<<22&4294967295|O>>>10),O=R+(B^N&(U^B))+M[4]+4118548399&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(U^R&(N^U))+M[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(N^B&(R^N))+M[6]+2821735955&4294967295,U=B+(O<<17&4294967295|O>>>15),O=N+(R^U&(B^R))+M[7]+4249261313&4294967295,N=U+(O<<22&4294967295|O>>>10),O=R+(B^N&(U^B))+M[8]+1770035416&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(U^R&(N^U))+M[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(N^B&(R^N))+M[10]+4294925233&4294967295,U=B+(O<<17&4294967295|O>>>15),O=N+(R^U&(B^R))+M[11]+2304563134&4294967295,N=U+(O<<22&4294967295|O>>>10),O=R+(B^N&(U^B))+M[12]+1804603682&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(U^R&(N^U))+M[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(N^B&(R^N))+M[14]+2792965006&4294967295,U=B+(O<<17&4294967295|O>>>15),O=N+(R^U&(B^R))+M[15]+1236535329&4294967295,N=U+(O<<22&4294967295|O>>>10),O=R+(U^B&(N^U))+M[1]+4129170786&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^U&(R^N))+M[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^N&(B^R))+M[11]+643717713&4294967295,U=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(U^B))+M[0]+3921069994&4294967295,N=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(N^U))+M[5]+3593408605&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^U&(R^N))+M[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^N&(B^R))+M[15]+3634488961&4294967295,U=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(U^B))+M[4]+3889429448&4294967295,N=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(N^U))+M[9]+568446438&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^U&(R^N))+M[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^N&(B^R))+M[3]+4107603335&4294967295,U=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(U^B))+M[8]+1163531501&4294967295,N=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(N^U))+M[13]+2850285829&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^U&(R^N))+M[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^N&(B^R))+M[7]+1735328473&4294967295,U=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(U^B))+M[12]+2368359562&4294967295,N=U+(O<<20&4294967295|O>>>12),O=R+(N^U^B)+M[5]+4294588738&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^U)+M[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^N)+M[11]+1839030562&4294967295,U=B+(O<<16&4294967295|O>>>16),O=N+(U^B^R)+M[14]+4259657740&4294967295,N=U+(O<<23&4294967295|O>>>9),O=R+(N^U^B)+M[1]+2763975236&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^U)+M[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^N)+M[7]+4139469664&4294967295,U=B+(O<<16&4294967295|O>>>16),O=N+(U^B^R)+M[10]+3200236656&4294967295,N=U+(O<<23&4294967295|O>>>9),O=R+(N^U^B)+M[13]+681279174&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^U)+M[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^N)+M[3]+3572445317&4294967295,U=B+(O<<16&4294967295|O>>>16),O=N+(U^B^R)+M[6]+76029189&4294967295,N=U+(O<<23&4294967295|O>>>9),O=R+(N^U^B)+M[9]+3654602809&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^U)+M[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^N)+M[15]+530742520&4294967295,U=B+(O<<16&4294967295|O>>>16),O=N+(U^B^R)+M[2]+3299628645&4294967295,N=U+(O<<23&4294967295|O>>>9),O=R+(U^(N|~B))+M[0]+4096336452&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~U))+M[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~N))+M[14]+2878612391&4294967295,U=B+(O<<15&4294967295|O>>>17),O=N+(B^(U|~R))+M[5]+4237533241&4294967295,N=U+(O<<21&4294967295|O>>>11),O=R+(U^(N|~B))+M[12]+1700485571&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~U))+M[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~N))+M[10]+4293915773&4294967295,U=B+(O<<15&4294967295|O>>>17),O=N+(B^(U|~R))+M[1]+2240044497&4294967295,N=U+(O<<21&4294967295|O>>>11),O=R+(U^(N|~B))+M[8]+1873313359&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~U))+M[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~N))+M[6]+2734768916&4294967295,U=B+(O<<15&4294967295|O>>>17),O=N+(B^(U|~R))+M[13]+1309151649&4294967295,N=U+(O<<21&4294967295|O>>>11),O=R+(U^(N|~B))+M[4]+4149444226&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~U))+M[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~N))+M[2]+718787259&4294967295,U=B+(O<<15&4294967295|O>>>17),O=N+(B^(U|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var N=R-this.blockSize,M=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=N;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(M[U++]=I.charCodeAt(B++),U==this.blockSize){a(this,M),U=0;break}}else for(;B<R;)if(M[U++]=I[B++],U==this.blockSize){a(this,M),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var N=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=N&255,N/=256;for(this.u(I),I=Array(16),R=N=0;4>R;++R)for(var M=0;32>M;M+=8)I[N++]=this.g[R]>>>M&255;return I};function l(I,R){var N=h;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function c(I,R){this.h=R;for(var N=[],M=!0,U=I.length-1;0<=U;U--){var B=I[U]|0;M&&B==R||(N[U]=B,M=!1)}this.g=N}var h={};function f(I){return-128<=I&&128>I?l(I,function(R){return new c([R|0],0>R?-1:0)}):new c([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return P(p(-I));for(var R=[],N=1,M=0;I>=N;M++)R[M]=I/N|0,N*=4294967296;return new c(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(y(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(R,8)),M=_,U=0;U<I.length;U+=8){var B=Math.min(8,I.length-U),O=parseInt(I.substring(U,U+B),R);8>B?(B=p(Math.pow(R,B)),M=M.j(B).add(p(O))):(M=M.j(N),M=M.add(p(O)))}return M}var _=f(0),S=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(k(this))return-P(this).m();for(var I=0,R=1,N=0;N<this.g.length;N++){var M=this.i(N);I+=(0<=M?M:4294967296+M)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(k(this))return"-"+P(this).toString(I);for(var R=p(Math.pow(I,6)),N=this,M="";;){var U=ae(N,R).g;N=j(N,U.j(R));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=U,C(N))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=j(this,I),k(I)?-1:C(I)?0:1};function P(I){for(var R=I.g.length,N=[],M=0;M<R;M++)N[M]=~I.g[M];return new c(N,~I.h).add(S)}t.abs=function(){return k(this)?P(this):this},t.add=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0,U=0;U<=R;U++){var B=M+(this.i(U)&65535)+(I.i(U)&65535),O=(B>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);M=O>>>16,B&=65535,O&=65535,N[U]=O<<16|B}return new c(N,N[N.length-1]&-2147483648?-1:0)};function j(I,R){return I.add(P(R))}t.j=function(I){if(C(this)||C(I))return _;if(k(this))return k(I)?P(this).j(P(I)):P(P(this).j(I));if(k(I))return P(this.j(P(I)));if(0>this.l(w)&&0>I.l(w))return p(this.m()*I.m());for(var R=this.g.length+I.g.length,N=[],M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<I.g.length;U++){var B=this.i(M)>>>16,O=this.i(M)&65535,We=I.i(U)>>>16,ct=I.i(U)&65535;N[2*M+2*U]+=O*ct,Q(N,2*M+2*U),N[2*M+2*U+1]+=B*ct,Q(N,2*M+2*U+1),N[2*M+2*U+1]+=O*We,Q(N,2*M+2*U+1),N[2*M+2*U+2]+=B*We,Q(N,2*M+2*U+2)}for(M=0;M<R;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=R;M<2*R;M++)N[M]=0;return new c(N,0)};function Q(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function H(I,R){this.g=I,this.h=R}function ae(I,R){if(C(R))throw Error("division by zero");if(C(I))return new H(_,_);if(k(I))return R=ae(P(I),R),new H(P(R.g),P(R.h));if(k(R))return R=ae(I,P(R)),new H(P(R.g),R.h);if(30<I.g.length){if(k(I)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var N=S,M=R;0>=M.l(I);)N=oe(N),M=oe(M);var U=ce(N,1),B=ce(M,1);for(M=ce(M,2),N=ce(N,2);!C(M);){var O=B.add(M);0>=O.l(I)&&(U=U.add(N),B=O),M=ce(M,1),N=ce(N,1)}return R=j(I,U.j(R)),new H(U,R)}for(U=_;0<=I.l(R);){for(N=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(N),O=B.j(R);k(O)||0<O.l(I);)N-=M,B=p(N),O=B.j(R);C(B)&&(B=S),U=U.add(B),I=j(I,O)}return new H(U,I)}t.A=function(I){return ae(this,I).h},t.and=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)&I.i(M);return new c(N,this.h&I.h)},t.or=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)|I.i(M);return new c(N,this.h|I.h)},t.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)^I.i(M);return new c(N,this.h^I.h)};function oe(I){for(var R=I.g.length+1,N=[],M=0;M<R;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(N,I.h)}function ce(I,R){var N=R>>5;R%=32;for(var M=I.g.length-N,U=[],B=0;B<M;B++)U[B]=0<R?I.i(B+N)>>>R|I.i(B+N+1)<<32-R:I.i(B+N);return new c(U,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,G2=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ga=c}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2,dc,K2,of,Jy,Y2,X2,Q2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(d,v){if(v)e:{var b=s;d=d.split(".");for(var x=0;x<d.length-1;x++){var q=d[x];if(!(q in b))break e;b=b[q]}d=d[d.length-1],x=b[d],v=v(x),v!=x&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var b=0,x=!1,q={next:function(){if(!x&&b<d.length){var X=b++;return{value:v(X,d[X]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,b){return d.call.apply(d.bind,arguments)}function _(d,v,b){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function S(d,v,b){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,S.apply(null,arguments)}function w(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function C(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(x,q,X){for(var ue=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ue[lt-2]=arguments[lt];return v.prototype[q].apply(x,ue)}}function k(d){const v=d.length;if(0<v){const b=Array(v);for(let x=0;x<v;x++)b[x]=d[x];return b}return[]}function P(d,v){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(f(x)){const q=d.length||0,X=x.length||0;d.length=q+X;for(let ue=0;ue<X;ue++)d[q+ue]=x[ue]}else d.push(x)}}class j{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function ae(d){return ae[" "](d),d}ae[" "]=function(){};var oe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ce(d,v,b){for(const x in d)v.call(b,d[x],x,d)}function I(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function R(d){const v={};for(const b in d)v[b]=d[b];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let b,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(b in x)d[b]=x[b];for(let X=0;X<N.length;X++)b=N[X],Object.prototype.hasOwnProperty.call(x,b)&&(d[b]=x[b])}}function U(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function B(d){h.setTimeout(()=>{throw d},0)}function O(){var d=we;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class We{constructor(){this.h=this.g=null}add(v,b){const x=ct.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var ct=new j(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,we=new We,Ie=()=>{const d=h.Promise.resolve(void 0);re=()=>{d.then(L)}};var L=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(b){B(b)}var v=ct;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}he=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function ge(d,v){if(se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(oe){e:{try{ae(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ge.aa.h.call(this)}}C(ge,se);var Oe={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),ht=0;function Je(d,v,b,x,q){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=q,this.key=++ht,this.da=this.fa=!1}function qt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Kn(d){this.src=d,this.g={},this.h=0}Kn.prototype.add=function(d,v,b,x,q){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ue=xn(d,v,x,q);return-1<ue?(v=d[ue],b||(v.fa=!1)):(v=new Je(v,this.src,X,!!x,q),v.fa=b,d.push(v)),v};function wn(d,v){var b=v.type;if(b in d.g){var x=d.g[b],q=Array.prototype.indexOf.call(x,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(x,q,1),X&&(qt(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function xn(d,v,b,x){for(var q=0;q<d.length;++q){var X=d[q];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==x)return q}return-1}var an="closure_lm_"+(1e6*Math.random()|0),Si={};function Ai(d,v,b,x,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Ai(d,v[X],b,x,q);return null}return b=Fi(b),d&&d[Me]?d.K(v,b,p(x)?!!x.capture:!1,q):Et(d,v,b,!1,x,q)}function Et(d,v,b,x,q,X){if(!v)throw Error("Invalid event type");var ue=p(q)?!!q.capture:!!q,lt=La(d);if(lt||(d[an]=lt=new Kn(d)),b=lt.add(v,b,x,ue,X),b.proxy)return b;if(x=pn(),b.proxy=x,x.src=d,x.listener=b,d.addEventListener)fe||(q=ue),q===void 0&&(q=!1),d.addEventListener(v.toString(),x,q);else if(d.attachEvent)d.attachEvent(ai(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function pn(){function d(b){return v.call(d.src,d.listener,b)}const v=ts;return d}function Bi(d,v,b,x,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Bi(d,v[X],b,x,q);else x=p(x)?!!x.capture:!!x,b=Fi(b),d&&d[Me]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],b=xn(X,b,x,q),-1<b&&(qt(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=La(d))&&(v=d.g[v.toString()],d=-1,v&&(d=xn(v,b,x,q)),(b=-1<d?v[d]:null)&&Yn(b))}function Yn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Me])wn(v.i,d);else{var b=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(b,x,d.capture):v.detachEvent?v.detachEvent(ai(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=La(v))?(wn(b,d),b.h==0&&(b.src=null,v[an]=null)):qt(d)}}}function ai(d){return d in Si?Si[d]:Si[d]="on"+d}function ts(d,v){if(d.da)d=!0;else{v=new ge(v,this);var b=d.listener,x=d.ha||d.src;d.fa&&Yn(d),d=b.call(x,v)}return d}function La(d){return d=d[an],d instanceof Kn?d:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(d){return typeof d=="function"?d:(d[tn]||(d[tn]=function(v){return d.handleEvent(v)}),d[tn])}function He(){W.call(this),this.i=new Kn(this),this.M=this,this.F=null}C(He,W),He.prototype[Me]=!0,He.prototype.removeEventListener=function(d,v,b,x){Bi(this,d,v,b,x)};function mt(d,v){var b,x=d.F;if(x)for(b=[];x;x=x.F)b.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new se(v,d);else if(v instanceof se)v.target=v.target||d;else{var q=v;v=new se(x,d),M(v,q)}if(q=!0,b)for(var X=b.length-1;0<=X;X--){var ue=v.g=b[X];q=jn(ue,x,!0,v)&&q}if(ue=v.g=d,q=jn(ue,x,!0,v)&&q,q=jn(ue,x,!1,v)&&q,b)for(X=0;X<b.length;X++)ue=v.g=b[X],q=jn(ue,x,!1,v)&&q}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],x=0;x<b.length;x++)qt(b[x]);delete d.g[v],d.h--}}this.F=null},He.prototype.K=function(d,v,b,x){return this.i.add(String(d),v,!1,b,x)},He.prototype.L=function(d,v,b,x){return this.i.add(String(d),v,!0,b,x)};function jn(d,v,b,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==b){var lt=ue.listener,Ht=ue.ha||ue.src;ue.fa&&wn(d.i,ue),q=lt.call(Ht,x)!==!1&&q}}return q&&!x.defaultPrevented}function Os(d,v,b){if(typeof d=="function")b&&(d=S(d,b));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function vr(d){d.g=Os(()=>{d.g=null,d.i&&(d.i=!1,vr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class cu extends W{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(d){W.call(this),this.h=d,this.g={}}C(ks,W);var ns=[];function on(d){ce(d.g,function(v,b){this.g.hasOwnProperty(b)&&Yn(v)},d),d.g={}}ks.prototype.N=function(){ks.aa.N.call(this),on(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=h.JSON.stringify,Pt=h.JSON.parse,_r=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Ua(){}Ua.prototype.h=null;function jo(d){return d.h||(d.h=d.i())}function Ms(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){se.call(this,"d")}C(is,se);function oi(){se.call(this,"c")}C(oi,se);var Xn={},ss=null;function Er(){return ss=ss||new He}Xn.La="serverreachability";function za(d){se.call(this,Xn.La,d)}C(za,se);function qi(d){const v=Er();mt(v,new za(v))}Xn.STAT_EVENT="statevent";function rs(d,v){se.call(this,Xn.STAT_EVENT,d),this.stat=v}C(rs,se);function nn(d){const v=Er();mt(v,new rs(v,d))}Xn.Ma="timingevent";function ve(d,v){se.call(this,Xn.Ma,d),this.size=v}C(ve,se);function De(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function Un(d,v,b,x,q,X){d.info(function(){if(d.g)if(X)for(var ue="",lt=X.split("&"),Ht=0;Ht<lt.length;Ht++){var Be=lt[Ht].split("=");if(1<Be.length){var un=Be[0];Be=Be[1];var cn=un.split("_");ue=2<=cn.length&&cn[1]=="type"?ue+(un+"="+Be+"&"):ue+(un+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+b+`
`+ue})}function Ba(d,v,b,x,q,X,ue){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+b+`
`+X+" "+ue})}function Vs(d,v,b,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+as(d,b)+(x?" "+x:"")})}function ph(d,v){d.info(function(){return"TIMEOUT: "+v})}jt.prototype.info=function(){};function as(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var x=b[d];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return Ln(b)}catch{return v}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},os;function Tr(){}C(Tr,Ua),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},os=new Tr;function ls(d,v,b,x){this.j=d,this.i=v,this.l=b,this.R=x||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gh}function gh(){this.i=null,this.g="",this.h=!1}var hu={},Ps={};function Fa(d,v,b){d.L=1,d.v=Ga(Dt(v)),d.m=b,d.P=!0,js(d,null)}function js(d,v){d.F=Date.now(),Hi(d),d.A=Dt(d.v);var b=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),zs(b.i,"t",x),d.C=0,b=d.j.J,d.h=new gh,d.g=Oh(d.j,b?v:null,!d.m),0<d.O&&(d.M=new cu(S(d.Y,d,d.g),d.O)),v=d.U,b=d.g,x=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(ns[0]=q.toString()),q=ns);for(var X=0;X<q.length;X++){var ue=Ai(b,q[X],x||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),qi(),Un(d.i,d.u,d.A,d.l,d.R,d.m)}ls.prototype.ca=function(d){d=d.target;const v=this.M;v&&Fn(d)==3?v.j():this.Y(d)},ls.prototype.Y=function(d){try{if(d==this.g)e:{const cn=Fn(this.g);var v=this.g.Ba();const Mr=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Ya(this.g)))){this.J||cn!=4||v==7||(v==8||0>=Mr?qi(3):qi(2)),Lo(this);var b=this.g.Z();this.X=b;t:if(Ls(this)){var x=Ya(this.g);d="";var q=x.length,X=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),br(this);var ue="";break t}this.h.i=new h.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(x[v],{stream:!(X&&v==q-1)});x.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Ba(this.i,this.u,this.A,this.l,this.R,cn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Ht=this.g;if((lt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(lt)){var Be=lt;break t}}Be=null}if(b=Be)Vs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,b);else{this.o=!1,this.s=3,nn(12),zn(this),br(this);break e}}if(this.P){b=!0;let Zn;for(;!this.J&&this.C<ue.length;)if(Zn=qa(this,ue),Zn==Ps){cn==4&&(this.s=4,nn(14),b=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==hu){this.s=4,nn(15),Vs(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Vs(this.i,this.l,Zn,null),us(this,Zn);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||ue.length!=0||this.h.h||(this.s=1,nn(16),b=!1),this.o=this.o&&b,!b)Vs(this.i,this.l,ue,"[Invalid Chunked Response]"),zn(this),br(this);else if(0<ue.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),bu(un),un.M=!0,nn(11))}}else Vs(this.i,this.l,ue,null),us(this,ue);cn==4&&zn(this),this.o&&!this.J&&(cn==4?Ih(this.j,this):(this.o=!1,Hi(this)))}else Sh(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),zn(this),br(this)}}}catch{}finally{}};function Ls(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qa(d,v){var b=d.C,x=v.indexOf(`
`,b);return x==-1?Ps:(b=Number(v.substring(b,x)),isNaN(b)?hu:(x+=1,x+b>v.length?Ps:(v=v.slice(x,x+b),d.C=x+b,v)))}ls.prototype.cancel=function(){this.J=!0,zn(this)};function Hi(d){d.S=Date.now()+d.I,Lt(d,d.I)}function Lt(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=De(S(d.ba,d),v)}function Lo(d){d.B&&(h.clearTimeout(d.B),d.B=null)}ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ph(this.i,this.A),this.L!=2&&(qi(),nn(17)),zn(this),this.s=2,br(this)):Lt(this,this.S-d)};function br(d){d.j.G==0||d.J||Ih(d.j,d)}function zn(d){Lo(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,on(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function us(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||Sr(b.h,d))){if(!d.K&&Sr(b.h,d)&&b.G==3){try{var x=b.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Or(b),Dr(b);else break e;Tu(b),nn(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=De(S(b.Za,b),6e3));if(1>=yh(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Fs(b,11)}else if((d.K||b.g==d)&&Or(b),!Q(v))for(q=b.Da.g.parse(v),v=0;v<q.length;v++){let Be=q[v];if(b.T=Be[0],Be=Be[1],b.G==2)if(Be[0]=="c"){b.K=Be[1],b.ia=Be[2];const un=Be[3];un!=null&&(b.la=un,b.j.info("VER="+b.la));const cn=Be[4];cn!=null&&(b.Aa=cn,b.j.info("SVER="+b.Aa));const Mr=Be[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(x=1.5*Mr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Zn=d.g;if(Zn){const Za=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var X=x.h;X.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ar(X,X.h),X.h=null))}if(x.D){const qs=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(x.ya=qs,it(x.I,x.D,qs))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var ue=d;if(x.qa=Dh(x,x.J?x.ia:null,x.W),ue.K){xi(x.h,ue);var lt=ue,Ht=x.L;Ht&&(lt.I=Ht),lt.B&&(Lo(lt),Hi(lt)),x.g=ue}else Rh(x);0<b.i.length&&$o(b)}else Be[0]!="stop"&&Be[0]!="close"||Fs(b,7);else b.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Fs(b,7):_u(b):Be[0]!="noop"&&b.l&&b.l.ta(Be),b.v=0)}}qi(4)}catch{}}var jm=class{constructor(d,v){this.g=d,this.map=v}};function du(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function yh(d){return d.h?1:d.g?d.g.size:0}function Sr(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ar(d,v){d.g?d.g.add(v):d.h=v}function xi(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}du.prototype.cancel=function(){if(this.i=Bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Bn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return k(d.i)}function vh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],b=d.length,x=0;x<b;x++)v.push(d[x]);return v}v=[],b=0;for(x in d)v[b++]=d[x];return v}function Lm(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const x in d)v[b++]=x;return v}}}function Uo(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Lm(d),x=vh(d),q=x.length,X=0;X<q;X++)v.call(void 0,x[X],b&&b[X],d)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var x=d[b].indexOf("="),q=null;if(0<=x){var X=d[b].substring(0,x);q=d[b].substring(x+1)}else X=d[b];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Us(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Us){this.h=d.h,wr(this,d.j),this.o=d.o,this.g=d.g,Ha(this,d.s),this.l=d.l;var v=d.i,b=new cs;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Bo(this,b),this.m=d.m}else d&&(v=String(d).match(mu))?(this.h=!1,wr(this,v[1]||"",!0),this.o=xr(v[2]||""),this.g=xr(v[3]||"",!0),Ha(this,v[4]),this.l=xr(v[5]||"",!0),Bo(this,v[6]||"",!0),this.m=xr(v[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}Us.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ri(v,pu,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ri(v,pu,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Ri(b,b.charAt(0)=="/"?gu:_h,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Ri(b,Bm)),d.join("")};function Dt(d){return new Us(d)}function wr(d,v,b){d.j=b?xr(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ha(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Bo(d,v,b){v instanceof cs?(d.i=v,Eh(d.i,d.h)):(b||(v=Ri(v,zm)),d.i=new cs(v,d.h))}function it(d,v,b){d.i.set(v,b)}function Ga(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xr(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ri(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Um),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Um(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var pu=/[#\/\?@]/g,_h=/[#\?:]/g,gu=/[#\?]/g,zm=/[#\?@]/g,Bm=/#/g;function cs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function ln(d){d.g||(d.g=new Map,d.h=0,d.i&&zo(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=cs.prototype,t.add=function(d,v){ln(this),this.i=null,d=li(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Fo(d,v){ln(d),v=li(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function qo(d,v){return ln(d),v=li(d,v),d.g.has(v)}t.forEach=function(d,v){ln(this),this.g.forEach(function(b,x){b.forEach(function(q){d.call(v,q,x,this)},this)},this)},t.na=function(){ln(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let x=0;x<v.length;x++){const q=d[x];for(let X=0;X<q.length;X++)b.push(v[x])}return b},t.V=function(d){ln(this);let v=[];if(typeof d=="string")qo(this,d)&&(v=v.concat(this.g.get(li(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},t.set=function(d,v){return ln(this),this.i=null,d=li(this,d),qo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function zs(d,v,b){Fo(d,v),0<b.length&&(d.i=null,d.g.set(li(d,v),k(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var x=v[b];const X=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var q=X;ue[x]!==""&&(q+="="+encodeURIComponent(String(ue[x]))),d.push(q)}}return this.i=d.join("&")};function li(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Eh(d,v){v&&!d.j&&(ln(d),d.i=null,d.g.forEach(function(b,x){var q=x.toLowerCase();x!=q&&(Fo(this,x),zs(this,q,b))},d)),d.j=v}function yu(d,v){const b=new jt;if(h.Image){const x=new Image;x.onload=w(Qn,b,"TestLoadImage: loaded",!0,v,x),x.onerror=w(Qn,b,"TestLoadImage: error",!1,v,x),x.onabort=w(Qn,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=w(Qn,b,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function Th(d,v){const b=new jt,x=new AbortController,q=setTimeout(()=>{x.abort(),Qn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(X=>{clearTimeout(q),X.ok?Qn(b,"TestPingServer: ok",!0,v):Qn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Qn(b,"TestPingServer: error",!1,v)})}function Qn(d,v,b,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(b)}catch{}}function Gi(){this.g=new _r}function vu(d,v,b){const x=b||"";try{Uo(d,function(q,X){let ue=q;p(q)&&(ue=Ln(q)),v.push(x+X+"="+encodeURIComponent(ue))})}catch(q){throw v.push(x+"type="+encodeURIComponent("_badmap")),q}}function hs(d){this.l=d.Ub||null,this.j=d.eb||!1}C(hs,Ua),hs.prototype.g=function(){return new ui(this.l,this.j)},hs.prototype.i=(function(d){return function(){return d}})({});function ui(d,v){He.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ui,He),t=ui.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Rr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ds(this):Rr(this),this.readyState==3&&Ho(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ds(this))},t.Qa=function(d){this.g&&(this.response=d,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rr(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function Rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $a(d){let v="";return ce(d,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function Cr(d,v,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=$a(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):it(d,v,b))}function bt(d){He.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(bt,He);var Rn=/^https?$/i,Bs=["POST","PUT"];t=bt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():os.g(),this.v=this.o?jo(this.o):jo(os),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Ka(this,X);return}if(d=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)b.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())b.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Bs,v,void 0))||x||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of b)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Go(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Ka(this,X)}};function Ka(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ir(d),Nr(d)}function Ir(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Nr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bh(this):this.bb())},t.bb=function(){bh(this)};function bh(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Fn(d)!=4||d.Z()!=2)){if(d.u&&Fn(d)==4)Os(d.Ea,0,d);else if(mt(d,"readystatechange"),Fn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var x;if(x=ue===0){var q=String(d.D).match(mu)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),x=!Rn.test(q?q.toLowerCase():"")}b=x}if(b)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var X=2<Fn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Ir(d)}}finally{Nr(d)}}}}function Nr(d,v){if(d.g){Go(d);const b=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||mt(d,"ready");try{b.onreadystatechange=x}catch{}}}function Go(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Fn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Pt(v)}};function Ya(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(d){const v={};d=(d.g&&2<=Fn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(Q(d[x]))continue;var b=U(d[x]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[q]||[];v[q]=X,X.push(b)}I(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function Ah(d){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,d),this.cb=Xa("retryDelaySeedMs",1e4,d),this.Wa=Xa("forwardChannelMaxRetries",2,d),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new du(d&&d.concurrentRequestLimit),this.Da=new Gi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ah.prototype,t.la=8,t.G=1,t.connect=function(d,v,b,x){nn(0),this.W=d,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Dh(this,null,this.W),$o(this)};function _u(d){if(wh(d),d.G==3){var v=d.U++,b=Dt(d.I);if(it(b,"SID",d.K),it(b,"RID",v),it(b,"TYPE","terminate"),Qa(d,b),v=new ls(d,d.j,v),v.L=2,v.v=Ga(Dt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.v,b=!0),b||(v.g=Oh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Hi(v)}Su(d)}function Dr(d){d.g&&(bu(d),d.g.cancel(),d.g=null)}function wh(d){Dr(d),d.u&&(h.clearTimeout(d.u),d.u=null),Or(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function $o(d){if(!fu(d.h)&&!d.s){d.s=!0;var v=d.Ga;re||Ie(),he||(re(),he=!0),we.add(v,d),d.B=0}}function Fm(d,v){return yh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=De(S(d.Ga,d,v),Nh(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new ls(this,this.j,d);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Eu(this,q,v),b=Dt(this.I),it(b,"RID",d),it(b,"CVER",22),this.D&&it(b,"X-HTTP-Session-Id",this.D),Qa(this,b),X&&(this.O?v="headers="+encodeURIComponent(String($a(X)))+"&"+v:this.m&&Cr(b,this.m,X)),Ar(this.h,q),this.Ua&&it(b,"TYPE","init"),this.P?(it(b,"$req",v),it(b,"SID","null"),q.T=!0,Fa(q,b,null)):Fa(q,b,v),this.G=2}}else this.G==3&&(d?xh(this,d):this.i.length==0||fu(this.h)||xh(this))};function xh(d,v){var b;v?b=v.l:b=d.U++;const x=Dt(d.I);it(x,"SID",d.K),it(x,"RID",b),it(x,"AID",d.T),Qa(d,x),d.m&&d.o&&Cr(x,d.m,d.o),b=new ls(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Eu(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ar(d.h,b),Fa(b,x,v)}function Qa(d,v){d.H&&ce(d.H,function(b,x){it(v,x,b)}),d.l&&Uo({},function(b,x){it(v,x,b)})}function Eu(d,v,b){b=Math.min(d.i.length,b);var x=d.l?S(d.l.Na,d.l,d):null;e:{var q=d.i;let X=-1;for(;;){const ue=["count="+b];X==-1?0<b?(X=q[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let lt=!0;for(let Ht=0;Ht<b;Ht++){let Be=q[Ht].g;const un=q[Ht].map;if(Be-=X,0>Be)X=Math.max(0,q[Ht].g-100),lt=!1;else try{vu(un,ue,"req"+Be+"_")}catch{x&&x(un)}}if(lt){x=ue.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,x}function Rh(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;re||Ie(),he||(re(),he=!0),we.add(v,d),d.v=0}}function Tu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=De(S(d.Fa,d),Nh(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=De(S(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),Dr(this),Ch(this))};function bu(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ch(d){d.g=new ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Dt(d.qa);it(v,"RID","rpc"),it(v,"SID",d.K),it(v,"AID",d.T),it(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(v,"TO",d.ja),it(v,"TYPE","xmlhttp"),Qa(d,v),d.m&&d.o&&Cr(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Ga(Dt(v)),b.m=null,b.P=!0,js(b,d)}t.Za=function(){this.C!=null&&(this.C=null,Dr(this),Tu(this),nn(19))};function Or(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Ih(d,v){var b=null;if(d.g==v){Or(d),bu(d),d.g=null;var x=2}else if(Sr(d.h,v))b=v.D,xi(d.h,v),x=1;else return;if(d.G!=0){if(v.o)if(x==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;x=Er(),mt(x,new ve(x,b)),$o(d)}else Rh(d);else if(q=v.s,q==3||q==0&&0<v.X||!(x==1&&Fm(d,v)||x==2&&Tu(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),q){case 1:Fs(d,5);break;case 4:Fs(d,10);break;case 3:Fs(d,6);break;default:Fs(d,2)}}}function Nh(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function Fs(d,v){if(d.j.info("Error code "+v),v==2){var b=S(d.fb,d),x=d.Xa;const q=!x;x=new Us(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||wr(x,"https"),Ga(x),q?yu(x.toString(),b):Th(x.toString(),b)}else nn(2);d.G=0,d.l&&d.l.sa(v),Su(d),wh(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Su(d){if(d.G=0,d.ka=[],d.l){const v=Bn(d.h);(v.length!=0||d.i.length!=0)&&(P(d.ka,v),P(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function Dh(d,v,b){var x=b instanceof Us?Dt(b):new Us(b);if(x.g!="")v&&(x.g=v+"."+x.g),Ha(x,x.s);else{var q=h.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new Us(null);x&&wr(X,x),v&&(X.g=v),q&&Ha(X,q),b&&(X.l=b),x=X}return b=d.D,v=d.ya,b&&v&&it(x,b,v),it(x,"VER",d.la),Qa(d,x),x}function Oh(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new bt(new hs({eb:b})):new bt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kh(){}t=kh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ko(){}Ko.prototype.g=function(d,v){return new qn(d,v)};function qn(d,v){He.call(this),this.g=new Ah(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!Q(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new kr(this)}C(qn,He),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){_u(this.g)},qn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Ln(d),d=b);v.i.push(new jm(v.Ya++,d)),v.G==3&&$o(v)},qn.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,qn.aa.N.call(this)};function Mh(d){is.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}C(Mh,is);function Vh(){oi.call(this),this.status=1}C(Vh,oi);function kr(d){this.g=d}C(kr,kh),kr.prototype.ua=function(){mt(this.g,"a")},kr.prototype.ta=function(d){mt(this.g,new Mh(d))},kr.prototype.sa=function(d){mt(this.g,new Vh)},kr.prototype.ra=function(){mt(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Q2=function(){return new Ko},X2=function(){return Er()},Y2=Xn,Jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,of=Nt,gn.COMPLETE="complete",K2=gn,Ms.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",He.prototype.listen=He.prototype.K,dc=Ms,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,$2=bt}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const LS="@firebase/firestore",US="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new hv("@firebase/firestore");function Sl(){return Io.logLevel}function pe(t,...e){if(Io.logLevel<=Xe.DEBUG){const n=e.map(bv);Io.debug(`Firestore (${au}): ${t}`,...n)}}function fr(t,...e){if(Io.logLevel<=Xe.ERROR){const n=e.map(bv);Io.error(`Firestore (${au}): ${t}`,...n)}}function Aa(t,...e){if(Io.logLevel<=Xe.WARN){const n=e.map(bv);Io.warn(`Firestore (${au}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Z2(t,s,n)}function Z2(t,e,n){let s=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function tt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Z2(e,a,s)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class zP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BP{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ss,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ss)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new W2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class FP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new FP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=GP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function e0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Fe(s,a);{const l=J2(),c=$P(l.encode(BS(t,n)),l.encode(BS(e,n)));return c!==0?c:Fe(s,a)}}n+=s>65535?2:1}return Fe(t.length,e.length)}function BS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function $P(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Fe(t[n],e[n]);return Fe(t.length,e.length)}function $l(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__name__";class ys{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ys.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const s=ys.isNumericId(e),a=ys.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ys.extractNumericId(e).compare(ys.extractNumericId(n)):e0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ga.fromString(e.substring(4,e.length-2))}}class vt extends ys{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const KP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ys{construct(e,n,s){return new Sn(e,n,s)}static isValidIdentifier(e){return KP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FS}static keyField(){return new Sn([FS])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(vt.fromString(e))}static fromName(e){return new be(vt.fromString(e).popFirst(5))}static empty(){return new be(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YP(t,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qS(t){if(!be.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HS(t){if(be.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function rh(t,e){if(!tR(t))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=-62135596800,$S=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$S);return new ze(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GS)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$S}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rh(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:en("string",ze._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ze(0,0))}static max(){return new Re(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function XP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new ze(n+1,0):new ze(n,s));return new wa(a,be.empty(),e)}function QP(t){return new wa(t.readTime,t.key,Uc)}class wa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wa(Re.min(),be.empty(),Uc)}static max(){return new wa(Re.max(),be.empty(),Uc)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==WP)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>s(f)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((y=>{c[p]=y,++h,h===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function e6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}um.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function ah(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function t6(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="";function n6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KS(e)),e=i6(t.get(n),e);return KS(e)}function i6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case nR:n+="";break;default:n+=l}}return n}function KS(t){return t+nR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??bn.RED,this.left=a??bn.EMPTY,this.right=l??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new bn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new rn(Sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sR("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const s6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=s6.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ra(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="server_timestamp",aR="__type__",oR="__previous_value__",lR="__local_write_time__";function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aR])===null||n===void 0?void 0:n.stringValue)===rR}function cm(t){const e=t.mapValue.fields[oR];return wv(e)?cm(e):e}function zc(t){const e=xa(t.mapValue.fields[lR].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,s,a,l,c,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Cf="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||Cf}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__type__",a6="__max__",$d={mapValue:{}},cR="__vector__",If="value";function Ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:l6(t)?9007199254740991:o6(t)?10:11:Ae(28295,{value:t})}function Cs(t,e){if(t===e)return!0;const n=Ca(t);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=xa(a.timestampValue),h=xa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ra(a.bytesValue).isEqual(Ra(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ft(a.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(a.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ft(a.integerValue)===Ft(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ft(a.doubleValue),h=Ft(l.doubleValue);return c===h?Rf(c)===Rf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(YS(c)!==YS(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Cs(c[f],h[f])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function Fc(t,e){return(t.values||[]).find((n=>Cs(n,e)))!==void 0}function Kl(t,e){if(t===e)return 0;const n=Ca(t),s=Ca(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Ft(l.integerValue||l.doubleValue),f=Ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return QS(t.timestampValue,e.timestampValue);case 4:return QS(zc(t),zc(e));case 5:return e0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Ra(l),f=Ra(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=Fe(h[p],f[p]);if(y!==0)return y}return Fe(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Fe(Ft(l.latitude),Ft(c.latitude));return h!==0?h:Fe(Ft(l.longitude),Ft(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ZS(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var h,f,p,y;const _=l.fields||{},S=c.fields||{},w=(h=_[If])===null||h===void 0?void 0:h.arrayValue,C=(f=S[If])===null||f===void 0?void 0:f.arrayValue,k=Fe(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:ZS(w,C)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$d.mapValue&&c===$d.mapValue)return 0;if(l===$d.mapValue)return 1;if(c===$d.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const S=e0(f[_],y[_]);if(S!==0)return S;const w=Kl(h[f[_]],p[y[_]]);if(w!==0)return w}return Fe(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{le:n})}}function QS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=xa(t),s=xa(e),a=Fe(n.seconds,s.seconds);return a!==0?a:Fe(n.nanos,s.nanos)}function ZS(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Kl(n[a],s[a]);if(l)return l}return Fe(n.length,s.length)}function Yl(t){return t0(t)}function t0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=xa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=t0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${t0(n.fields[c])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function lf(t){switch(Ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cm(t);return e?16+lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+lf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Va(s.fields,((l,c)=>{a+=l.length+lf(c)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function WS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n0(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function JS(t){return!!t&&"nullValue"in t}function eA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}function o6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uR])===null||n===void 0?void 0:n.stringValue)===cR}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Va(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ac(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Sn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=Ac(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Va(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Gn(Ac(this.value))}}function hR(t){const e=[];return Va(t.fields,((n,s)=>{const a=new Sn([n]);if(uf(s)){const l=hR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new fn(e,0,Re.min(),Re.min(),Re.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,a){return new fn(e,1,n,Re.min(),s,a,0)}static newNoDocument(e,n){return new fn(e,2,n,Re.min(),Re.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Re.min(),Re.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function tA(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=Kl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function nA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n="asc"){this.field=e,this.dir=n}}function u6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{}class Wt extends dR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h6(e,n,s):n==="array-contains"?new m6(e,s):n==="in"?new p6(e,s):n==="not-in"?new g6(e,s):n==="array-contains-any"?new y6(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new d6(e,s):new f6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends dR{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ji(e,n)}matches(e){return fR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function fR(t){return t.op==="and"}function mR(t){return c6(t)&&fR(t)}function c6(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function i0(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(mR(t))return t.filters.map((e=>i0(e))).join(",");{const e=t.filters.map((n=>i0(n))).join(",");return`${t.op}(${e})`}}function pR(t,e){return t instanceof Wt?(function(s,a){return a instanceof Wt&&s.op===a.op&&s.field.isEqual(a.field)&&Cs(s.value,a.value)})(t,e):t instanceof Ji?(function(s,a){return a instanceof Ji&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&pR(c,a.filters[h])),!0):!1})(t,e):void Ae(19439)}function gR(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`})(t):t instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(gR).join(" ,")+"}"})(t):"Filter"}class h6 extends Wt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class d6 extends Wt{constructor(e,n){super(e,"in",n),this.keys=yR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class f6 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=yR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>be.fromName(s.referenceValue)))}class m6 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&Fc(n.arrayValue,this.value)}}class p6 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class g6 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class y6 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Pe=null}}function iA(t,e=null,n=[],s=[],a=null,l=null,c=null){return new v6(t,e,n,s,a,l,c)}function Rv(t){const e=ke(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>i0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Yl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Yl(s))).join(",")),e.Pe=n}return e.Pe}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nA(t.startAt,e.startAt)&&nA(t.endAt,e.endAt)}function s0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _6(t,e,n,s,a,l,c,h){return new oh(t,e,n,s,a,l,c,h)}function hm(t){return new oh(t)}function sA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vR(t){return t.collectionGroup!==null}function wc(t){const e=ke(t);if(e.Te===null){e.Te=[];const n=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new rn(Sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Df(l,s))})),n.has(Sn.keyField().canonicalString())||e.Te.push(new Df(Sn.keyField(),s))}return e.Te}function As(t){const e=ke(t);return e.Ie||(e.Ie=E6(e,wc(t))),e.Ie}function E6(t,e){if(t.limitType==="F")return iA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Df(a.field,l)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return iA(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function r0(t,e){const n=t.filters.concat([e]);return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function a0(t,e,n){return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return Cv(As(t),As(e))&&t.limitType===e.limitType}function _R(t){return`${Rv(As(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>gR(a))).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Yl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Yl(a))).join(",")),`Target(${s})`})(As(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of wc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,f){const p=tA(c,h,f);return c.inclusive?p<=0:p<0})(s.startAt,wc(s),a)||s.endAt&&!(function(c,h,f){const p=tA(c,h,f);return c.inclusive?p>=0:p>0})(s.endAt,wc(s),a))})(t,e)}function T6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ER(t){return(e,n)=>{let s=!1;for(const a of wc(t)){const l=b6(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function b6(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Kl(f,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new It(be.comparator);function mr(){return S6}const TR=new It(be.comparator);function fc(...t){let e=TR;for(const n of t)e=e.insert(n.key,n);return e}function bR(t){let e=TR;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Eo(){return xc()}function SR(){return xc()}function xc(){return new Mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const A6=new It(be.comparator),w6=new rn(be.comparator);function Qe(...t){let e=w6;for(const n of t)e=e.add(n);return e}const x6=new rn(Fe);function R6(){return x6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function C6(t,e){return t6(e)?AR(e):Iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function I6(t,e,n){return t instanceof Of?(function(a,l){const c={fields:{[aR]:{stringValue:rR},[lR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wv(l)&&(l=cm(l)),l&&(c.fields[oR]=l),{mapValue:c}})(n,e):t instanceof qc?xR(t,e):t instanceof Hc?RR(t,e):(function(a,l){const c=wR(a,l),h=rA(c)+rA(a.Ee);return n0(c)&&n0(a.Ee)?AR(h):Iv(a.serializer,h)})(t,e)}function N6(t,e,n){return t instanceof qc?xR(t,e):t instanceof Hc?RR(t,e):n}function wR(t,e){return t instanceof kf?(function(s){return n0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Of extends mm{}class qc extends mm{constructor(e){super(),this.elements=e}}function xR(t,e){const n=CR(e);for(const s of t.elements)n.some((a=>Cs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Hc extends mm{constructor(e){super(),this.elements=e}}function RR(t,e){let n=CR(e);for(const s of t.elements)n=n.filter((a=>!Cs(a,s)));return{arrayValue:{values:n}}}class kf extends mm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function rA(t){return Ft(t.integerValue||t.doubleValue)}function CR(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D6(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof qc&&a instanceof qc||s instanceof Hc&&a instanceof Hc?$l(s.elements,a.elements,Cs):s instanceof kf&&a instanceof kf?Cs(s.Ee,a.Ee):s instanceof Of&&a instanceof Of})(t.transform,e.transform)}class O6{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function IR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gm(t.key,Dn.none()):new lh(t.key,t.data,Dn.none());{const n=t.data,s=Gn.empty();let a=new rn(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Pa(t.key,s,new _i(a.toArray()),Dn.none())}}function k6(t,e,n){t instanceof lh?(function(a,l,c){const h=a.value.clone(),f=oA(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Pa?(function(a,l,c){if(!cf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=oA(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(NR(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Rc(t,e,n,s){return t instanceof lh?(function(l,c,h,f){if(!cf(l.precondition,c))return h;const p=l.value.clone(),y=lA(l.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Pa?(function(l,c,h,f){if(!cf(l.precondition,c))return h;const p=lA(l.fieldTransforms,f,c),y=c.data;return y.setAll(NR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,h){return cf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function M6(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=wR(s.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,l))}return n||null}function aA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&$l(s,a,((l,c)=>D6(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lh extends pm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends pm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function oA(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,N6(c,h,n[a]))}return s}function lA(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,I6(l,c,e))}return s}class gm extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&k6(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=SR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=IR(c,h);f!==null&&s.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((n,s)=>aA(n,s)))&&$l(this.baseMutations,e.baseMutations,((n,s)=>aA(n,s)))}}class Nv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){tt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=(function(){return A6})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Nv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,et;function OR(t){switch(t){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function kR(t){if(t===void 0)return fr("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Xt.OK:return ee.OK;case Xt.CANCELLED:return ee.CANCELLED;case Xt.UNKNOWN:return ee.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ee.INTERNAL;case Xt.UNAVAILABLE:return ee.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ee.NOT_FOUND;case Xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Xt.ABORTED:return ee.ABORTED;case Xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Xt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:t})}}(et=Xt||(Xt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new ga([4294967295,4294967295],0);function uA(t){const e=J2().encode(t),n=new G2;return n.update(e),new Uint8Array(n.digest())}function cA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ga([n,s],0),new ga([a,l],0)]}class Dv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(s<0)throw new mc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ga.fromNumber(this.fe)}pe(e,n,s){let a=e.add(n.multiply(ga.fromNumber(s)));return a.compare(L6)===1&&(a=new ga([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=uA(e),[s,a]=cA(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(s,a,l);if(!this.ye(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dv(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.fe===0)return;const n=uA(e),[s,a]=cA(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(s,a,l);this.we(c)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ym(Re.min(),a,new It(Fe),mr(),Qe())}}class uh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new uh(s,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=a}}class MR{constructor(e,n){this.targetId=e,this.De=n}}class VR{constructor(e,n,s=An.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class hA{constructor(){this.ve=0,this.Ce=dA(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Qe(),n=Qe(),s=Qe();return this.Ce.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new uh(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=dA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class U6{constructor(e){this.We=e,this.Ge=new Map,this.ze=mr(),this.je=Kd(),this.Je=Kd(),this.He=new It(Fe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,a)=>{this.nt(a)&&n(a)}))}it(e){const n=e.targetId,s=e.De.count,a=this.st(n);if(a){const l=a.target;if(s0(l))if(s===0){const c=new be(l.path);this.Xe(n,c,fn.newNoDocument(c,Re.min()))}else tt(s===1,20013,{expectedCount:s});else{const c=this.ot(n);if(c!==s){const h=this._t(e),f=h?this.ut(h,e,c):1;if(f!==0){this.rt(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Ra(s).toUint8Array()}catch(f){if(f instanceof sR)return Aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Dv(c,a,l)}catch(f){return Aa(f instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Xe(n,l,null),a++)})),a}Pt(e){const n=new Map;this.Ge.forEach(((l,c)=>{const h=this.st(c);if(h){if(l.current&&s0(h.target)){const f=new be(h.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,fn.newNoDocument(f,e))}l.Ne&&(n.set(c,l.Le()),l.ke())}}));let s=Qe();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.st(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.ze.forEach(((l,c)=>c.setReadTime(e)));const a=new ym(e,n,this.He,this.ze,s);return this.ze=mr(),this.je=Kd(),this.Je=Kd(),this.He=new It(Fe),a}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new hA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rn(Fe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rn(Fe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hA),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Kd(){return new It(be.comparator)}function dA(){return new It(be.comparator)}const z6={asc:"ASCENDING",desc:"DESCENDING"},B6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F6={and:"AND",or:"OR"};class q6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o0(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H6(t,e){return Mf(t,e.toTimestamp())}function Ti(t){return tt(!!t,49232),Re.fromTimestamp((function(n){const s=xa(n);return new ze(s.seconds,s.nanos)})(t))}function Ov(t,e){return l0(t,e).canonicalString()}function l0(t,e){const n=(function(a){return new vt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jR(t){const e=vt.fromString(t);return tt(qR(e),10190,{key:e.toString()}),e}function Vf(t,e){return Ov(t.databaseId,e.path)}function Cc(t,e){const n=jR(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(UR(n))}function LR(t,e){return Ov(t.databaseId,e)}function G6(t){const e=jR(t);return e.length===4?vt.emptyPath():UR(e)}function u0(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UR(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fA(t,e,n){return{name:Vf(t,e),fields:n.value.mapValue.fields}}function $6(t,e){return"found"in e?(function(s,a){tt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Cc(s,a.found.name),c=Ti(a.found.updateTime),h=a.found.createTime?Ti(a.found.createTime):Re.min(),f=new Gn({mapValue:{fields:a.found.fields}});return fn.newFoundDocument(l,c,h,f)})(t,e):"missing"in e?(function(s,a){tt(!!a.missing,3894),tt(!!a.readTime,22933);const l=Cc(s,a.missing),c=Ti(a.readTime);return fn.newNoDocument(l,c)})(t,e):Ae(7234,{result:e})}function K6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(tt(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const y=p.code===void 0?ee.UNKNOWN:kR(p.code);return new de(y,p.message||"")})(c);n=new VR(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cc(t,s.document.name),l=Ti(s.document.updateTime),c=s.document.createTime?Ti(s.document.createTime):Re.min(),h=new Gn({mapValue:{fields:s.document.fields}}),f=fn.newFoundDocument(a,l,c,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new hf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cc(t,s.document),l=s.readTime?Ti(s.readTime):Re.min(),c=fn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new hf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cc(t,s.document),l=s.removedTargetIds||[];n=new hf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new j6(a,l),h=s.targetId;n=new MR(h,c)}}return n}function zR(t,e){let n;if(e instanceof lh)n={update:fA(t,e.key,e.value)};else if(e instanceof gm)n={delete:Vf(t,e.key)};else if(e instanceof Pa)n={update:fA(t,e.key,e.data),updateMask:n7(e.fieldMask)};else{if(!(e instanceof DR))return Ae(16599,{Rt:e.type});n={verify:Vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kf)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:H6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function Y6(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Ti(a.updateTime):Ti(l);return c.isEqual(Re.min())&&(c=Ti(l)),new O6(c,a.transformResults||[])})(n,e)))):[]}function X6(t,e){return{documents:[LR(t,e.path)]}}function Q6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LR(t,a);const l=(function(p){if(p.length!==0)return FR(Ji.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(S){return{field:wl(S.field),direction:J6(S.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=o0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:n,parent:a}}function Z6(t){let e=G6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){tt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const S=BR(_);return S instanceof Ji&&mR(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((S=>(function(C){return new Df(xl(C.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(S)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let S;return S=typeof _=="object"?_.value:_,ah(S)?null:S})(n.limit));let f=null;n.startAt&&(f=(function(_){const S=!!_.before,w=_.values||[];return new Nf(w,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const S=!_.before,w=_.values||[];return new Nf(w,S)})(n.endAt)),_6(e,a,c,l,h,"F",f,p)}function W6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xl(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xl(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xl(n.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xl(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(xl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((s=>BR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function J6(t){return z6[t]}function e7(t){return B6[t]}function t7(t){return F6[t]}function wl(t){return{fieldPath:t.canonicalString()}}function xl(t){return Sn.fromServerFormat(t.fieldPath)}function FR(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(eA(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(JS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eA(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(JS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:e7(n.op),value:n.value}}})(t):t instanceof Ji?(function(n){const s=n.getFilters().map((a=>FR(a)));return s.length===1?s[0]:{compositeFilter:{op:t7(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function n7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,s,a,l=Re.min(),c=Re.min(),h=An.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.gt=e}}function s7(t){const e=Z6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.Dn=new a7}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(wa.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class a7{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new rn(vt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new rn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HR=41943040;class ii{static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(HR,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Xl(0)}static ur(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="LruGarbageCollector",o7=1048576;function gA([t,e],[n,s]){const a=Fe(t,n);return a===0?Fe(e,s):a}class l7{constructor(e){this.Tr=e,this.buffer=new rn(gA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u7{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(pA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lu(n)?pe(pA,"Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.Rr(3e5)}))}}class c7{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(um.ue);const s=new l7(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(mA)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,a,l,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,h=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Sl()<=Xe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function h7(t,e){return new c7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.changes=new Mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Rc(s.mutation,a,_i.empty(),ze.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Qe()){const a=Eo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=fc();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Eo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Qe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=mr();const c=xc(),h=(function(){return xc()})();return n.forEach(((f,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Pa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Rc(y.mutation,p,y.mutation.getFieldMask(),ze.now())):c.set(p.key,_i.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>{var _;return h.set(p,new f7(y,(_=c.get(p))!==null&&_!==void 0?_:null))})),h)))}recalculateAndSaveOverlays(e,n){const s=xc();let a=new It(((c,h)=>c-h)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=s.get(f)||_i.empty();y=h.applyToLocalView(p,y),s.set(f,y);const _=(a.get(h.batchId)||Qe()).add(f);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=SR();y.forEach((S=>{if(!l.has(S)){const w=IR(n.get(S),s.get(S));w!==null&&_.set(S,w),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(Eo());let h=Uc,f=l;return c.next((p=>ie.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{f=f.insert(y,S)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Qe()))).next((y=>({batchId:h,changes:bR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=fc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=fc();return this.indexManager.getCollectionParents(e,l).next((h=>ie.forEach(h,(f=>{const p=(function(_,S){return new oh(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,fn.newInvalidDocument(y)))}));let h=fc();return c.forEach(((f,p)=>{const y=l.get(f);y!==void 0&&Rc(y.mutation,p,_i.empty(),ze.now()),fm(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ti(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:s7(a.bundledQuery),readTime:Ti(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.overlays=new It(be.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Eo();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.wt(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=Eo(),l=n.length+1,c=new be(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new It(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Eo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Eo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ie.resolve(h)}wt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new P6(n,s));let l=this.kr.get(n);l===void 0&&(l=Qe(),this.kr.set(n,l)),this.kr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.qr=new rn(dn.Qr),this.$r=new rn(dn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new dn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new be(new vt([])),s=new dn(n,e),a=new dn(n,e+1),l=[];return this.$r.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new be(new vt([])),s=new dn(n,e),a=new dn(n,e+1);let l=Qe();return this.$r.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new dn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return be.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rn(dn.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new V6(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Yr=this.Yr.add(new dn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Av:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new rn(Fe);return n.forEach((a=>{const l=new dn(a,0),c=new dn(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),ie.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new dn(new be(l),0);let h=new rn(Fe);return this.Yr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Hr)),!0)}),c),ie.resolve(this.ei(h))}ei(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ie.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new dn(n,0),a=this.Yr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.ni=e,this.docs=(function(){return new It(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=mr();const c=n.path,h=new be(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ZP(QP(y),s)<=0||(a.has(y.key)||fm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ri(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new E7(this)}getSize(e){return ie.resolve(this.size)}}class E7 extends d7{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.persistence=e,this.ii=new Mo((n=>Rv(n)),Cv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new kv,this.targetCount=0,this._i=Xl.ar()}forEachTarget(e,n){return this.ii.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ii.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.ai={},this.overlays={},this.ui=new um(0),this.ci=!1,this.ci=!0,this.li=new y7,this.referenceDelegate=e(this),this.hi=new T7(this),this.indexManager=new r7,this.remoteDocumentCache=(function(a){return new _7(a)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new i7(n),this.Ti=new p7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new v7(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new b7(this.ui.next());return this.referenceDelegate.Ii(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ie.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class b7 extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class Mv{constructor(e){this.persistence=e,this.Ai=new kv,this.Ri=null}static Vi(e){return new Mv(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.mi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,(s=>{const a=be.fromPath(s);return this.fi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pf{constructor(e,n){this.persistence=e,this.gi=new Mo((s=>n6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=h7(this,n)}static Vi(e,n){return new Pf(e,n)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return ie.forEach(this.gi,((s,a)=>this.Sr(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,(c=>this.Sr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lf(e.data.value)),n}Sr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=a}static Es(e,n){let s=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Vv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Jk()?8:e6(Pn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ps(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ys(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new S7;return this.ws(e,n,c).next((h=>{if(l.result=h,this.Rs)return this.Ss(e,n,c,h.size)}))})).next((()=>l.result))}Ss(e,n,s,a){return s.documentReadCount<this.Vs?(Sl()<=Xe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Sl()<=Xe.DEBUG&&pe("QueryEngine","Query:",Al(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Sl()<=Xe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ie.resolve())}ps(e,n){if(sA(n))return ie.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=a0(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Qe(...l);return this.gs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.bs(n,h);return this.Ds(n,p,c,f.readTime)?this.ps(e,a0(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ys(e,n,s,a){return sA(n)||a.isEqual(Re.min())?ie.resolve(null):this.gs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ds(n,c,s,a)?ie.resolve(null):(Sl()<=Xe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Al(n)),this.vs(e,c,n,XP(a,Uc)).next((h=>h)))}))}bs(e,n){let s=new rn(ER(e));return n.forEach(((a,l)=>{fm(e,l)&&(s=s.add(l))})),s}Ds(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,n,s){return Sl()<=Xe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Al(n)),this.gs.getDocumentsMatchingQuery(e,n,wa.min(),s)}vs(e,n,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LocalStore",w7=3e8;class x7{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new It(Fe),this.Ms=new Mo((l=>Rv(l)),Cv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m7(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function R7(t,e,n,s){return new x7(t,e,n,s)}async function $R(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let f=Qe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Bs:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function C7(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const _=p.batch,S=_.keys();let w=ie.resolve();return S.forEach((C=>{w=w.next((()=>y.getEntry(f,C))).next((k=>{const P=p.docVersions.get(C);tt(P!==null,48541),k.version.compareTo(P)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Qe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function KR(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function I7(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const h=[];e.targetChanges.forEach(((y,_)=>{const S=a.get(_);if(!S)return;h.push(n.hi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.hi.addMatchingKeys(l,y.addedDocuments,_))));let w=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(An.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),a=a.insert(_,w),(function(k,P,j){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=w7?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(S,w,y)&&h.push(n.hi.updateTargetData(l,w))}));let f=mr(),p=Qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(N7(l,c,e.documentUpdates).next((y=>{f=y.Ls,p=y.ks}))),!s.isEqual(Re.min())){const y=n.hi.getLastRemoteSnapshotVersion(l).next((_=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return ie.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Fs=a,l)))}function N7(t,e,n){let s=Qe(),a=Qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=mr();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):pe(Pv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Ls:c,ks:a}}))}function D7(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Av),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function O7(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.hi.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.hi.allocateTargetId(s).next((c=>(a=new ha(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function c0(t,e,n){const s=ke(t),a=s.Fs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!lu(c))throw c;pe(Pv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function yA(t,e,n){const s=ke(t);let a=Re.min(),l=Qe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,y){const _=ke(f),S=_.Ms.get(y);return S!==void 0?ie.resolve(_.Fs.get(S)):_.hi.getTargetData(p,y)})(s,c,As(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Re.min(),n?l:Qe()))).next((h=>(k7(s,T6(e),h),{documents:h,qs:l})))))}function k7(t,e,n){let s=t.xs.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.xs.set(e,s)}class vA{constructor(){this.activeTargetIds=R6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M7{constructor(){this.Fo=new vA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vA,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="ConnectivityMonitor";class EA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(_A,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(_A,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function h0(){return Yd===null?Yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="RestConnection",P7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j7{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===Cf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=h0(),h=this.Go(e,n.toUriEncodedString());pe(cy,`Sending RPC '${e}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,a,l);const{host:p}=new URL(h),y=Oo(p);return this.jo(e,h,f,s,y).then((_=>(pe(cy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Aa(cy,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",s),_}))}Jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Go(e,n){const s=P7[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class U7 extends j7{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,a,l){const c=h0();return new Promise(((h,f)=>{const p=new $2;p.setWithCredentials(!0),p.listenOnce(K2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case of.NO_ERROR:const _=p.getResponseJson();pe(In,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case of.TIMEOUT:pe(In,`RPC '${e}' ${c} timed out`),f(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const S=p.getStatus();if(pe(In,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const k=(function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(C.status);f(new de(k,C.message))}else f(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{pe(In,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);pe(In,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}P_(e,n,s){const a=h0(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q2(),h=X2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const y=l.join("");pe(In,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=c.createWebChannel(y,f);this.T_(_);let S=!1,w=!1;const C=new L7({Ho:P=>{w?pe(In,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(S||(pe(In,`Opening RPC '${e}' stream ${a} transport.`),_.open(),S=!0),pe(In,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Yo:()=>_.close()}),k=(P,j,Q)=>{P.listen(j,(H=>{try{Q(H)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return k(_,dc.EventType.OPEN,(()=>{w||(pe(In,`RPC '${e}' stream ${a} transport opened.`),C.s_())})),k(_,dc.EventType.CLOSE,(()=>{w||(w=!0,pe(In,`RPC '${e}' stream ${a} transport closed`),C.__(),this.I_(_))})),k(_,dc.EventType.ERROR,(P=>{w||(w=!0,Aa(In,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),C.__(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),k(_,dc.EventType.MESSAGE,(P=>{var j;if(!w){const Q=P.data[0];tt(!!Q,16349);const H=Q,ae=(H==null?void 0:H.error)||((j=H[0])===null||j===void 0?void 0:j.error);if(ae){pe(In,`RPC '${e}' stream ${a} received error:`,ae);const oe=ae.status;let ce=(function(N){const M=Xt[N];if(M!==void 0)return kR(M)})(oe),I=ae.message;ce===void 0&&(ce=ee.INTERNAL,I="Unknown error status: "+oe+" with message "+ae.message),w=!0,C.__(new de(ce,I)),_.close()}else pe(In,`RPC '${e}' stream ${a} received:`,Q),C.a_(Q)}})),k(h,Y2.STAT_EVENT,(P=>{P.stat===Jy.PROXY?pe(In,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Jy.NOPROXY&&pe(In,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return new q6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="PersistentStream";class YR{constructor(e,n,s,a,l,c,h,f){this.Fi=e,this.w_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jv(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.b_===n&&this.W_(s,a)}),(s=>{e((()=>{const a=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{s((()=>this.G_(a)))})),this.stream.onMessage((a=>{s((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return pe(TA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(pe(TA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z7 extends YR{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=K6(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Ti(c.readTime):Re.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=u0(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=s0(f)?{documents:X6(l,f)}:{query:Q6(l,f).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=PR(l,c.resumeToken);const p=o0(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){h.readTime=Mf(l,c.snapshotVersion.toTimestamp());const p=o0(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=W6(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=u0(this.serializer),n.removeTarget=e,this.k_(n)}}class B7 extends YR{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Y6(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=u0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zR(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{}class q7 extends F7{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,l0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ee.UNKNOWN,l.toString())}))}Jo(e,n,s,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Jo(e,l0(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class H7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fr(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class G7{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((c=>{s.enqueueAndForget((async()=>{Vo(this)&&(pe(No,"Restarting streams for network reachability change."),await(async function(f){const p=ke(f);p.Ia.add(4),await ch(p),p.Aa.set("Unknown"),p.Ia.delete(4),await _m(p)})(this))}))})),this.Aa=new H7(s,a)}}async function _m(t){if(Vo(t))for(const e of t.da)await e(!0)}async function ch(t){for(const e of t.da)await e(!1)}function XR(t,e){const n=ke(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Bv(n)?zv(n):uu(n).x_()&&Uv(n,e))}function Lv(t,e){const n=ke(t),s=uu(n);n.Ta.delete(e),s.x_()&&QR(n,e),n.Ta.size===0&&(s.x_()?s.B_():Vo(n)&&n.Aa.set("Unknown"))}function Uv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).H_(e)}function QR(t,e){t.Ra.$e(e),uu(t).Y_(e)}function zv(t){t.Ra=new U6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.Aa.aa()}function Bv(t){return Vo(t)&&!uu(t).M_()&&t.Ta.size>0}function Vo(t){return ke(t).Ia.size===0}function ZR(t){t.Ra=void 0}async function $7(t){t.Aa.set("Online")}async function K7(t){t.Ta.forEach(((e,n)=>{Uv(t,e)}))}async function Y7(t,e){ZR(t),Bv(t)?(t.Aa.la(e),zv(t)):t.Aa.set("Unknown")}async function X7(t,e,n){if(t.Aa.set("Online"),e instanceof VR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ta.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ta.delete(h),a.Ra.removeTarget(h))})(t,e)}catch(s){pe(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jf(t,s)}else if(e instanceof hf?t.Ra.Ye(e):e instanceof MR?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Re.min()))try{const s=await KR(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.Ra.Pt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const y=l.Ta.get(f);if(!y)return;l.Ta.set(f,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),QR(l,f);const _=new ha(y.target,f,p,y.sequenceNumber);Uv(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){pe(No,"Failed to raise snapshot:",s),await jf(t,s)}}async function jf(t,e,n){if(!lu(e))throw e;t.Ia.add(1),await ch(t),t.Aa.set("Offline"),n||(n=()=>KR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(No,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await _m(t)}))}function WR(t,e){return e().catch((n=>jf(t,n,e)))}async function Em(t){const e=ke(t),n=Ia(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Av;for(;Q7(e);)try{const a=await D7(e.localStore,s);if(a===null){e.Pa.length===0&&n.B_();break}s=a.batchId,Z7(e,a)}catch(a){await jf(e,a)}JR(e)&&eC(e)}function Q7(t){return Vo(t)&&t.Pa.length<10}function Z7(t,e){t.Pa.push(e);const n=Ia(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function JR(t){return Vo(t)&&!Ia(t).M_()&&t.Pa.length>0}function eC(t){Ia(t).start()}async function W7(t){Ia(t).na()}async function J7(t){const e=Ia(t);for(const n of t.Pa)e.X_(n.mutations)}async function ej(t,e,n){const s=t.Pa.shift(),a=Nv.from(s,e,n);await WR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Em(t)}async function tj(t,e){e&&Ia(t).Z_&&await(async function(s,a){if((function(c){return OR(c)&&c!==ee.ABORTED})(a.code)){const l=s.Pa.shift();Ia(s).N_(),await WR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Em(s)}})(t,e),JR(t)&&eC(t)}async function bA(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(No,"RemoteStore received new credentials");const s=Vo(n);n.Ia.add(3),await ch(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await _m(n)}async function nj(t,e){const n=ke(t);e?(n.Ia.delete(2),await _m(n)):e||(n.Ia.add(2),await ch(n),n.Aa.set("Unknown"))}function uu(t){return t.Va||(t.Va=(function(n,s,a){const l=ke(n);return l.ia(),new z7(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:$7.bind(null,t),e_:K7.bind(null,t),n_:Y7.bind(null,t),J_:X7.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),Bv(t)?zv(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZR(t))}))),t.Va}function Ia(t){return t.ma||(t.ma=(function(n,s,a){const l=ke(n);return l.ia(),new B7(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:W7.bind(null,t),n_:tj.bind(null,t),ea:J7.bind(null,t),ta:ej.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Em(t)):(await t.ma.stop(),t.Pa.length>0&&(pe(No,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new Fv(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(t,e){if(fr("AsyncQueue",`${e}: ${t}`),lu(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=fc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.fa=new It(be.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ql{constructor(e,n,s,a,l,c,h,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Ql(e,n,Fl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class sj{constructor(){this.queries=AA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const a=ke(n),l=a.queries;a.queries=AA(),l.forEach(((c,h)=>{for(const f of h.wa)f.onError(s)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function AA(){return new Mo((t=>_R(t)),dm)}async function Hv(t,e){const n=ke(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.ba()&&(s=2):(l=new ij,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await n.onListen(a,!0);break;case 1:l.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=qv(c,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.wa.push(e),e.va(n.onlineState),l.ya&&e.Ca(l.ya)&&$v(n)}async function Gv(t,e){const n=ke(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rj(t,e){const n=ke(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.wa)h.Ca(a)&&(s=!0);c.ya=a}}s&&$v(n)}function aj(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const l of a.wa)l.onError(n);s.queries.delete(e)}function $v(t){t.Da.forEach((e=>{e.next()}))}var d0,wA;(wA=d0||(d0={})).Fa="default",wA.Cache="cache";class Kv{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ql(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class oj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Qe(),this.mutatedKeys=Qe(),this.Xa=ER(e),this.eu=new Fl(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new SA,a=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const S=a.get(y),w=fm(this.query,_)?_:null,C=!!S&&this.mutatedKeys.has(S.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;S&&w?S.data.isEqual(w.data)?C!==k&&(s.track({type:3,doc:w}),P=!0):this.iu(S,w)||(s.track({type:2,doc:w}),P=!0,(f&&this.Xa(w,f)>0||p&&this.Xa(w,p)<0)&&(h=!0)):!S&&w?(s.track({type:0,doc:w}),P=!0):S&&!w&&(s.track({type:1,doc:S}),P=!0,(f||p)&&(h=!0)),P&&(w?(c=c.add(w),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{eu:c,ru:s,Ds:h,mutatedKeys:l}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((y,_)=>(function(w,C){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:P})}};return k(w)-k(C)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(s),a=a!=null&&a;const h=n&&!a?this.ou():[],f=this.Za.size===0&&this.current&&!a?1:0,p=f!==this.Ya;return this.Ya=f,c.length!==0||p?{snapshot:new Ql(this.query,e.eu,l,c,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new SA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Qe(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new nC(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new tC(s))})),n}uu(e){this.Ha=e.qs,this.Za=Qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ql.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Yv="SyncEngine";class lj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class uj{constructor(e){this.key=e,this.lu=!1}}class cj{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Mo((h=>_R(h)),dm),this.Tu=new Map,this.Iu=new Set,this.du=new It(be.comparator),this.Eu=new Map,this.Au=new kv,this.Ru={},this.Vu=new Map,this.mu=Xl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function hj(t,e,n=!0){const s=lC(t);let a;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await iC(s,e,n,!0),a}async function dj(t,e){const n=lC(t);await iC(n,e,!0,!1)}async function iC(t,e,n,s){const a=await O7(t.localStore,As(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await fj(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&XR(t.remoteStore,a),h}async function fj(t,e,n,s,a){t.gu=(_,S,w)=>(async function(k,P,j,Q){let H=P.view.nu(j);H.Ds&&(H=await yA(k.localStore,P.query,!1).then((({documents:I})=>P.view.nu(I,H))));const ae=Q&&Q.targetChanges.get(P.targetId),oe=Q&&Q.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(H,k.isPrimaryClient,ae,oe);return RA(k,P.targetId,ce._u),ce.snapshot})(t,_,S,w);const l=await yA(t.localStore,e,!0),c=new oj(e,l.qs),h=c.nu(l.documents),f=uh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,f);RA(t,n,p._u);const y=new lj(e,n,c);return t.Pu.set(e,y),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),p.snapshot}async function mj(t,e,n){const s=ke(t),a=s.Pu.get(e),l=s.Tu.get(a.targetId);if(l.length>1)return s.Tu.set(a.targetId,l.filter((c=>!dm(c,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await c0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Lv(s.remoteStore,a.targetId),f0(s,a.targetId)})).catch(ou)):(f0(s,a.targetId),await c0(s.localStore,a.targetId,!0))}async function pj(t,e){const n=ke(t),s=n.Pu.get(e),a=n.Tu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lv(n.remoteStore,s.targetId))}async function gj(t,e,n){const s=Sj(t);try{const a=await(function(c,h){const f=ke(c),p=ze.now(),y=h.reduce(((w,C)=>w.add(C.key)),Qe());let _,S;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=mr(),k=Qe();return f.Os.getEntries(w,y).next((P=>{C=P,C.forEach(((j,Q)=>{Q.isValidDocument()||(k=k.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,C))).next((P=>{_=P;const j=[];for(const Q of h){const H=M6(Q,_.get(Q.key).overlayedDocument);H!=null&&j.push(new Pa(Q.key,H,hR(H.value.mapValue),Dn.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,j,h)})).next((P=>{S=P;const j=P.applyToLocalDocumentSet(_,k);return f.documentOverlayCache.saveOverlays(w,P.batchId,j)}))})).then((()=>({batchId:S.batchId,changes:bR(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let p=c.Ru[c.currentUser.toKey()];p||(p=new It(Fe)),p=p.insert(h,f),c.Ru[c.currentUser.toKey()]=p})(s,a.batchId,n),await hh(s,a.changes),await Em(s.remoteStore)}catch(a){const l=qv(a,"Failed to persist write");n.reject(l)}}async function sC(t,e){const n=ke(t);try{const s=await I7(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Eu.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?tt(c.lu,14607):a.removedDocuments.size>0&&(tt(c.lu,42227),c.lu=!1))})),await hh(n,s,e)}catch(s){await ou(s)}}function xA(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Pu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=ke(c);f.onlineState=h;let p=!1;f.queries.forEach(((y,_)=>{for(const S of _.wa)S.va(h)&&(p=!0)})),p&&$v(f)})(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yj(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),l=a&&a.key;if(l){let c=new It(be.comparator);c=c.insert(l,fn.newNoDocument(l,Re.min()));const h=Qe().add(l),f=new ym(Re.min(),new Map,new It(Fe),c,h);await sC(s,f),s.du=s.du.remove(l),s.Eu.delete(e),Xv(s)}else await c0(s.localStore,e,!1).then((()=>f0(s,e,n))).catch(ou)}async function vj(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await C7(n.localStore,e);aC(n,s,null),rC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hh(n,a)}catch(a){await ou(a)}}async function _j(t,e,n){const s=ke(t);try{const a=await(function(c,h){const f=ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>(tt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);aC(s,e,n),rC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hh(s,a)}catch(a){await ou(a)}}function rC(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function aC(t,e,n){const s=ke(t);let a=s.Ru[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Tu.get(e))t.Pu.delete(s),n&&t.hu.pu(s,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((s=>{t.Au.containsKey(s)||oC(t,s)}))}function oC(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Lv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Xv(t))}function RA(t,e,n){for(const s of n)s instanceof tC?(t.Au.addReference(s.key,e),Ej(t,s)):s instanceof nC?(pe(Yv,"Document no longer in limbo: "+s.key),t.Au.removeReference(s.key,e),t.Au.containsKey(s.key)||oC(t,s.key)):Ae(19791,{yu:s})}function Ej(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Iu.has(s)||(pe(Yv,"New document in limbo: "+n),t.Iu.add(s),Xv(t))}function Xv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new be(vt.fromString(e)),s=t.mu.next();t.Eu.set(s,new uj(n)),t.du=t.du.insert(n,s),XR(t.remoteStore,new ha(As(hm(n.path)),s,"TargetPurposeLimboResolution",um.ue))}}async function hh(t,e,n){const s=ke(t),a=[],l=[],c=[];s.Pu.isEmpty()||(s.Pu.forEach(((h,f)=>{c.push(s.gu(f,e,n).then((p=>{var y;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Vv.Es(f.targetId,p);l.push(_)}})))})),await Promise.all(c),s.hu.J_(a),await(async function(f,p){const y=ke(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(p,(S=>ie.forEach(S.Is,(w=>y.persistence.referenceDelegate.addReference(_,S.targetId,w))).next((()=>ie.forEach(S.ds,(w=>y.persistence.referenceDelegate.removeReference(_,S.targetId,w)))))))))}catch(_){if(!lu(_))throw _;pe(Pv,"Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const w=y.Fs.get(S),C=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(C);y.Fs=y.Fs.insert(S,k)}}})(s.localStore,l))}async function Tj(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(Yv,"User change. New user:",e.toKey());const s=await $R(n.localStore,e);n.currentUser=e,(function(l,c){l.Vu.forEach((h=>{h.forEach((f=>{f.reject(new de(ee.CANCELLED,c))}))})),l.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hh(n,s.Bs)}}function bj(t,e){const n=ke(t),s=n.Eu.get(e);if(s&&s.lu)return Qe().add(s.key);{let a=Qe();const l=n.Tu.get(e);if(!l)return a;for(const c of l){const h=n.Pu.get(c);a=a.unionWith(h.view.tu)}return a}}function lC(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yj.bind(null,e),e.hu.J_=rj.bind(null,e.eventManager),e.hu.pu=aj.bind(null,e.eventManager),e}function Sj(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_j.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return R7(this.persistence,new A7,e.initialUser,this.serializer)}Du(e){return new GR(Mv.Vi,this.serializer)}bu(e){return new M7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class Aj extends Lf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){tt(this.persistence.referenceDelegate instanceof Pf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new u7(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new GR((s=>Pf.Vi(s,n)),this.serializer)}}class m0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tj.bind(null,this.syncEngine),await nj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sj})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),s=(function(l){return new U7(l)})(e.databaseInfo);return(function(l,c,h,f){return new q7(l,c,h,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new G7(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>xA(this.syncEngine,n,0)),(function(){return EA.C()?new EA:new V7})())}createSyncEngine(e,n){return(function(a,l,c,h,f,p,y){const _=new cj(a,l,c,h,f,p);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=ke(a);pe(No,"RemoteStore shutting down."),l.Ia.add(5),await ch(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m0.provider={build:()=>new m0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(a,l){const c=ke(a),h={documents:l.map((_=>Vf(c.serializer,_)))},f=await c.Jo("BatchGetDocuments",c.serializer.databaseId,vt.emptyPath(),h,l.length),p=new Map;f.forEach((_=>{const S=$6(c.serializer,_);p.set(S.key.toString(),S)}));const y=[];return l.forEach((_=>{const S=p.get(_.toString());tt(!!S,55234,{key:_}),y.push(S)})),y})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const a=be.fromPath(s);this.mutations.push(new DR(a,this.precondition(a)))})),await(async function(s,a){const l=ke(s),c={writes:a.map((h=>zR(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,vt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ae(50498,{Wu:e.constructor.name});n=Re.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new de(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Re.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Re.min()))throw new de(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,s,a,l){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=a,this.deferred=l,this.Gu=s.maxAttempts,this.F_=new jv(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new wj(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Hu(a)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!ah(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!OR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class Rj{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(Na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(Na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function dy(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await $R(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>{Aa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Aa("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),t._offlineComponents=e}async function CA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Cj(t);pe(Na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>bA(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>bA(e.remoteStore,a))),t._onlineComponents=e}async function Cj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Na,"Using user provided OfflineComponentProvider");try{await dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await dy(t,new Lf)}}else pe(Na,"Using default OfflineComponentProvider"),await dy(t,new Aj(void 0));return t._offlineComponents}async function Zv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Na,"Using user provided OnlineComponentProvider"),await CA(t,t._uninitializedComponentsProvider._online)):(pe(Na,"Using default OnlineComponentProvider"),await CA(t,new m0))),t._onlineComponents}function Ij(t){return Zv(t).then((e=>e.syncEngine))}function Nj(t){return Zv(t).then((e=>e.datastore))}async function Uf(t){const e=await Zv(t),n=e.eventManager;return n.onListen=hj.bind(null,e.syncEngine),n.onUnlisten=mj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pj.bind(null,e.syncEngine),n}function Dj(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const y=new Qv({next:S=>{y.Ou(),c.enqueueAndForget((()=>Gv(l,_)));const w=S.docs.has(h);!w&&S.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&f&&f.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new Kv(hm(h.path),y,{includeMetadataChanges:!0,ka:!0});return Hv(l,_)})(await Uf(t),t.asyncQueue,e,n,s))),s.promise}function Oj(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const y=new Qv({next:S=>{y.Ou(),c.enqueueAndForget((()=>Gv(l,_))),S.fromCache&&f.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new Kv(h,y,{includeMetadataChanges:!0,ka:!0});return Hv(l,_)})(await Uf(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firestore.googleapis.com",NA=!0;class DA{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=NA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o7)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uC((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UP;switch(s.type){case"firstParty":return new qP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=IA.get(n);s&&(pe("ComponentProvider","Removing Datastore"),IA.delete(n),s.terminate())})(this),Promise.resolve()}}function kj(t,e,n,s={}){var a;t=Ei(t,Tm);const l=Oo(e),c=t._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l&&(uv(`https://${f}`),cv("Firestore",!0)),c.host!==cC&&c.host!==f&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:f,ssl:l,emulatorOptions:s});if(!wo(p,h)&&(t._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=Nn.MOCK_USER;else{y=Hk(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Nn(S)}t._authCredentials=new zP(new W2(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(rh(n,Vt._jsonSchema))return new Vt(e,s||null,new be(vt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:en("string",Vt._jsonSchemaVersion),referencePath:en("string")};class ya extends Po{constructor(e,n,s){super(e,n,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new be(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function bm(t,e,...n){if(t=Tt(t),eR("collection","path",e),t instanceof Tm){const s=vt.fromString(e,...n);return HS(s),new ya(t,null,s)}{if(!(t instanceof Vt||t instanceof ya))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return HS(s),new ya(t.firestore,null,s)}}function es(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=Sv.newId()),eR("doc","path",e),t instanceof Tm){const s=vt.fromString(e,...n);return qS(s),new Vt(t,null,new be(s))}{if(!(t instanceof Vt||t instanceof ya))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return qS(s),new Vt(t.firestore,t instanceof ya?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="AsyncQueue";class kA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jv(this,"async_queue_retry"),this.oc=()=>{const s=hy();s&&pe(OA,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ss;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!lu(e))throw e;pe(OA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,fr("INTERNAL UNHANDLED ERROR: ",MA(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=Fv.createAndSchedule(this,e,n,s,(l=>this.lc(l)));return this.ec.push(a),a}ac(){this.tc&&Ae(47125,{hc:MA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function MA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class pr extends Tm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new kA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kA(e),this._firestoreClient=void 0,await e}}}function Mj(t,e){const n=typeof t=="object"?t:sm(),s=typeof t=="string"?t:Cf,a=im(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=e2("firestore");l&&kj(a,...l)}return a}function dh(t){if(t._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vj(t),t._firestoreClient}function Vj(t){var e,n,s;const a=t._freezeSettings(),l=(function(h,f,p,y){return new r6(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,uC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Rj(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(An.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rh(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:en("string",vi._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(rh(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:en("string",ws._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rh(e,xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xs(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:en("string",xs._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/^__.*__$/;class jj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new lh(e,this.data,n,this.fieldTransforms)}}class hC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:t})}}class Jv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return zf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dC(this.Ec)&&Pj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Lj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vm(e)}Dc(e,n,s,a=!1){return new Jv({Ec:e,methodName:n,bc:s,path:Sn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new Lj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e_(t,e,n,s,a,l={}){const c=t.Dc(l.merge||l.mergeFields?2:0,e,n,a);t_("Data must be an object, but it was:",c,s);const h=fC(s,c);let f,p;if(l.merge)f=new _i(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=p0(e,_,n);if(!c.contains(S))throw new de(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);pC(y,S)||y.push(S)}f=new _i(y),p=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=c.fieldTransforms;return new jj(new Gn(h),f,p)}class wm extends Wv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function Uj(t,e,n,s){const a=t.Dc(1,e,n);t_("Data must be an object, but it was:",a,s);const l=[],c=Gn.empty();Va(s,((f,p)=>{const y=n_(e,f,n);p=Tt(p);const _=a.gc(y);if(p instanceof wm)l.push(y);else{const S=fh(p,_);S!=null&&(l.push(y),c.set(y,S))}}));const h=new _i(l);return new hC(c,h,a.fieldTransforms)}function zj(t,e,n,s,a,l){const c=t.Dc(1,e,n),h=[p0(e,s,n)],f=[a];if(l.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)h.push(p0(e,l[S])),f.push(l[S+1]);const p=[],y=Gn.empty();for(let S=h.length-1;S>=0;--S)if(!pC(p,h[S])){const w=h[S];let C=f[S];C=Tt(C);const k=c.gc(w);if(C instanceof wm)p.push(w);else{const P=fh(C,k);P!=null&&(p.push(w),y.set(w,P))}}const _=new _i(p);return new hC(y,_,c.fieldTransforms)}function Bj(t,e,n,s=!1){return fh(n,t.Dc(s?4:3,e))}function fh(t,e){if(mC(t=Tt(t)))return t_("Unsupported field value:",e,t),fC(t,e);if(t instanceof Wv)return(function(s,a){if(!dC(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let f=fh(h,a.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ze.fromDate(s);return{timestampValue:Mf(a.serializer,l)}}if(s instanceof ze){const l=new ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mf(a.serializer,l)}}if(s instanceof ws)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:PR(a.serializer,s._byteString)};if(s instanceof Vt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ov(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof xs)return(function(c,h){return{mapValue:{fields:{[uR]:{stringValue:cR},[If]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.wc("VectorValues must only contain numeric values.");return Iv(h.serializer,p)}))}}}}}})(s,a);throw a.wc(`Unsupported field value: ${lm(s)}`)})(t,e)}function fC(t,e){const n={};return iR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(t,((s,a)=>{const l=fh(a,e.Vc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function mC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof ws||t instanceof vi||t instanceof Vt||t instanceof Wv||t instanceof xs)}function t_(t,e,n){if(!mC(n)||!tR(n)){const s=lm(n);throw s==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+s)}}function p0(t,e,n){if((e=Tt(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return n_(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fj=new RegExp("[~\\*/\\[\\]]");function n_(t,e,n){if(e.search(Fj)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${s}`),c&&(f+=` in document ${a}`),f+=")"),new de(ee.INVALID_ARGUMENT,h+t+f)}function pC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qj extends Bf{data(){return super.data()}}function i_(t,e){return typeof e=="string"?n_(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class Hj extends s_{}function r_(t,e,...n){let s=[];e instanceof s_&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((f=>f instanceof o_)).length,h=l.filter((f=>f instanceof xm)).length;if(c>1||c>0&&h>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class xm extends Hj{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xm(e,n,s)}_apply(e){const n=this._parse(e);return yC(e._query,n),new Po(e.firestore,e.converter,r0(e._query,n))}_parse(e){const n=Am(e.firestore);return(function(l,c,h,f,p,y,_){let S;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){jA(_,y);const C=[];for(const k of _)C.push(PA(f,l,k));S={arrayValue:{values:C}}}else S=PA(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||jA(_,y),S=Bj(h,c,_,y==="in"||y==="not-in");return Wt.create(p,y,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function a_(t,e,n){const s=e,a=i_("where",t);return xm._create(a,s,n)}class o_ extends s_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o_(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)yC(c,f),c=r0(c,f)})(e._query,n),new Po(e.firestore,e.converter,r0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PA(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vR(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(vt.fromString(n));if(!be.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WS(t,new be(s))}if(n instanceof Vt)return WS(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(n)}.`)}function jA(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yC(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vC{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Va(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var n,s,a;const l=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[If].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((c=>Ft(c.doubleValue)));return new xs(l)}convertGeoPoint(e){return new ws(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=xa(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);tt(qR(s),9688,{name:e});const a=new Bc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||fr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Gj extends vC{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends Bf{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(i_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:en("string",va._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class df extends va{data(e={}){return super.data(e)}}class Ao{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new df(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new df(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new df(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:$j(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $j(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){t=Ei(t,Vt);const e=Ei(t.firestore,pr);return Dj(dh(e),t._key).then((n=>TC(e,t,n)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:en("string",Ao._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class Rm extends vC{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function u_(t){t=Ei(t,Po);const e=Ei(t.firestore,pr),n=dh(e),s=new Rm(e);return gC(t._query),Oj(n,t._query).then((a=>new Ao(e,s,t,a)))}function Kj(t,e,n){t=Ei(t,Vt);const s=Ei(t.firestore,pr),a=l_(t.converter,e,n);return c_(s,[e_(Am(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Dn.none())])}function Yj(t){return c_(Ei(t.firestore,pr),[new gm(t._key,Dn.none())])}function Xj(t,e){const n=Ei(t.firestore,pr),s=es(t),a=l_(t.converter,e);return c_(n,[e_(Am(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then((()=>s))}function EC(t,...e){var n,s,a;t=Tt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||VA(e[c])||(l=e[c++]);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(VA(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(s=_.error)===null||s===void 0?void 0:s.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let f,p,y;if(t instanceof Vt)p=Ei(t.firestore,pr),y=hm(t._key.path),f={next:_=>{e[c]&&e[c](TC(p,t,_))},error:e[c+1],complete:e[c+2]};else{const _=Ei(t,Po);p=Ei(_.firestore,pr),y=_._query;const S=new Rm(p);f={next:w=>{e[c]&&e[c](new Ao(p,S,_,w))},error:e[c+1],complete:e[c+2]},gC(t._query)}return(function(S,w,C,k){const P=new Qv(k),j=new Kv(w,P,C);return S.asyncQueue.enqueueAndForget((async()=>Hv(await Uf(S),j))),()=>{P.Ou(),S.asyncQueue.enqueueAndForget((async()=>Gv(await Uf(S),j)))}})(dh(p),y,h,f)}function c_(t,e){return(function(s,a){const l=new Ss;return s.asyncQueue.enqueueAndForget((async()=>gj(await Ij(s),a,l))),l.promise})(dh(t),e)}function TC(t,e,n){const s=n.docs.get(e._key),a=new Rm(t);return new va(t,a,e._key,s,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={maxAttempts:5};function pc(t,e){if((t=Tt(t)).firestore!==e)throw new de(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Am(e)}get(e){const n=pc(e,this._firestore),s=new Gj(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return Ae(24041);const l=a[0];if(l.isFoundDocument())return new Bf(this._firestore,s,l.key,l,n.converter);if(l.isNoDocument())return new Bf(this._firestore,s,n._key,null,n.converter);throw Ae(18433,{doc:l})}))}set(e,n,s){const a=pc(e,this._firestore),l=l_(a.converter,n,s),c=e_(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(e,n,s,...a){const l=pc(e,this._firestore);let c;return c=typeof(n=Tt(n))=="string"||n instanceof Sm?zj(this._dataReader,"Transaction.update",l._key,n,s,a):Uj(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this}delete(e){const n=pc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj extends Zj{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=pc(e,this._firestore),s=new Rm(this._firestore);return super.get(e).then((a=>new va(this._firestore,s,n._key,a._document,new Pl(!1,!1),n.converter)))}}function bC(t,e,n){t=Ei(t,pr);const s=Object.assign(Object.assign({},Qj),n);return(function(l){if(l.maxAttempts<1)throw new de(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(l,c,h){const f=new Ss;return l.asyncQueue.enqueueAndForget((async()=>{const p=await Nj(l);new xj(l.asyncQueue,p,h,c,f).zu()})),f.promise})(dh(t),(a=>e(new Wj(t,a))),s)}(function(e,n=!0){(function(a){au=a})(ru),xo(new Sa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new pr(new BP(s.getProvider("auth-internal")),new HP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(p.options.projectId,y)})(c,a),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Es(LS,US,e),Es(LS,US,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="type.googleapis.com/google.protobuf.Int64Value",e9="type.googleapis.com/google.protobuf.UInt64Value";function SC(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Ff(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ff(e));if(typeof t=="function"||typeof t=="object")return SC(t,e=>Ff(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Zl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Jj:case e9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Zl(e)):typeof t=="function"||typeof t=="object"?SC(t,e=>Zl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ri extends Mn{constructor(e,n,s){super(`${h_}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,ri.prototype)}}function t9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qf(t,e){let n=t9(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!LA[c])return new ri("internal","internal");n=LA[c],s=c}const h=l.message;typeof h=="string"&&(s=h),a=l.details,a!==void 0&&(a=Zl(a))}}catch{}return n==="ok"?null:new ri(n,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,yi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a==null||a.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="us-central1",i9=/^data: (.*?)(?:\n|$)/;function s9(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new ri("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class r9{constructor(e,n,s,a,l=g0,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new n9(e,n,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=g0}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function a9(t,e,n){const s=Oo(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(uv(t.emulatorOrigin),cv("Functions",!0))}function o9(t,e,n){const s=a=>u9(t,e,a,{});return s.stream=(a,l)=>h9(t,e,a,l),s}async function l9(t,e,n,s){n["Content-Type"]="application/json";let a;try{a=await s(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function AC(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function u9(t,e,n,s){const a=t._url(e);return c9(t,a,n,s)}async function c9(t,e,n,s){n=Ff(n);const a={data:n},l=await AC(t,s),c=s.timeout||7e4,h=s9(c),f=await Promise.race([l9(e,a,l,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new ri("cancelled","Firebase Functions instance was deleted.");const p=qf(f.status,f.json);if(p)throw p;if(!f.json)throw new ri("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new ri("internal","Response is missing data field.");return{data:Zl(y)}}function h9(t,e,n,s){const a=t._url(e);return d9(t,a,n,s||{})}async function d9(t,e,n,s){var a;n=Ff(n);const l={data:n},c=await AC(t,s);c["Content-Type"]="application/json",c.Accept="text/event-stream";let h;try{h=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:c,signal:s==null?void 0:s.signal})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const k=new ri("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const C=qf(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let f,p;const y=new Promise((w,C)=>{f=w,p=C});(a=s==null?void 0:s.signal)===null||a===void 0||a.addEventListener("abort",()=>{const w=new ri("cancelled","Request was cancelled.");p(w)});const _=h.body.getReader(),S=f9(_,f,p,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const w=S.getReader();return{async next(){const{value:C,done:k}=await w.read();return{value:C,done:k}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:y}}function f9(t,e,n,s){const a=(c,h)=>{const f=c.match(i9);if(!f)return;const p=f[1];try{const y=JSON.parse(p);if("result"in y){e(Zl(y.result));return}if("message"in y){h.enqueue(Zl(y.message));return}if("error"in y){const _=qf(0,y);h.error(_),n(_);return}}catch(y){if(y instanceof ri){h.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(c){let h="";return f();async function f(){if(s!=null&&s.aborted){const p=new ri("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){h.trim()&&a(h.trim(),c),c.close();return}if(s!=null&&s.aborted){const S=new ri("cancelled","Request was cancelled");c.error(S),n(S),await t.cancel();return}h+=l.decode(p,{stream:!0});const _=h.split(`
`);h=_.pop()||"";for(const S of _)S.trim()&&a(S.trim(),c);return f()}catch(p){const y=p instanceof ri?p:qf(0,null);c.error(y),n(y)}}},cancel(){return t.cancel()}})}const UA="@firebase/functions",zA="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="auth-internal",p9="app-check-internal",g9="messaging-internal";function y9(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(m9),c=n.getProvider(g9),h=n.getProvider(p9);return new r9(a,l,c,h,s)};xo(new Sa(h_,e,"PUBLIC").setMultipleInstances(!0)),Es(UA,zA,t),Es(UA,zA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t=sm(),e=g0){const s=im(Tt(t),h_).getImmediate({identifier:e}),a=e2("functions");return a&&_9(s,...a),s}function _9(t,e,n){a9(Tt(t),e,n)}function E9(t,e,n){return o9(Tt(t),e)}y9();const T9={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDPunF6Pj8gEm7QNl-5-gXDzsLiaoNO5kM",VITE_FIREBASE_APP_ID:"1:599375908983:web:b28b69a3770c0947063672",VITE_FIREBASE_AUTH_DOMAIN:"atemimx.firebaseapp.com",VITE_FIREBASE_CONFIG:'{"apiKey":"AIzaSyDPunF6Pj8gEm7QNl-5-gXDzsLiaoNO5kM","authDomain":"atemimx.firebaseapp.com","projectId":"atemimx","storageBucket":"atemimx.firebasestorage.app","messagingSenderId":"599375908983","appId":"1:599375908983:web:b28b69a3770c0947063672"}',VITE_FIREBASE_FUNCTIONS_REGION:"us-central1",VITE_FIREBASE_MESSAGING_SENDER_ID:"599375908983",VITE_FIREBASE_PROJECT_ID:"atemimx",VITE_FIREBASE_STORAGE_BUCKET:"atemimx.firebasestorage.app",VITE_GEMINI_API_KEY:""},bl=t=>{const e=T9[t];if(!e)throw new Error(`Missing required environment variable: ${t}`);return e},b9={apiKey:bl("VITE_FIREBASE_API_KEY"),authDomain:bl("VITE_FIREBASE_AUTH_DOMAIN"),projectId:bl("VITE_FIREBASE_PROJECT_ID"),storageBucket:bl("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:bl("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:bl("VITE_FIREBASE_APP_ID")},d_=o4().length?sm():r2(b9),Zi=VP(d_),Vn=Mj(d_),S9="us-central1",A9=v9(d_,S9),w9="rol-";function lc(t){if(typeof document>"u")return;const e=document.body;e.className="",e.classList.add(`${w9}${t}`)}const wC=D.createContext(void 0),x9={admin:"direccion",direccion:"direccion",director:"direccion",docentes:"docentes",docente:"docentes",teacher:"docentes",profesor:"docentes",profesora:"docentes",prefecto:"prefectura",prefecta:"prefectura",prefect:"prefectura",prefectura:"prefectura",orientacion:"orientacion",orientadora:"orientacion",orientador:"orientacion",guidance:"orientacion",trabajo_social:"tsocial",socialwork:"tsocial",tsocial:"tsocial",social:"tsocial",medical:"enfermeria",medico:"enfermeria",medica:"enfermeria",enfermeria:"enfermeria"},R9=t=>{if(typeof t!="string")return"none";const e=t.trim().toLowerCase();return x9[e]??"none"};function C9(){const[t,e]=D.useState(Zi.currentUser),[n,s]=D.useState(()=>Zi.currentUser===null),[a,l]=D.useState(!1),[c,h]=D.useState(null),[f,p]=D.useState("none"),[y,_]=D.useState(null);return D.useEffect(()=>{lc("none")},[]),D.useEffect(()=>{let S=!0;const w=AV(Zi,async C=>{if(S){if(e(C),!C){h(null),p("none"),lc("none"),_(null),s(!1),l(!1);return}s(!1),l(!0);try{const k=await m2(C,!0),P=typeof k.claims.role=="string"?k.claims.role:null,j=R9(P);h(P),p(j),lc(j),_(null)}catch(k){console.error("[Auth] No fue posible recuperar los claims del usuario",k),h(null),p("none"),lc("none"),_("No pudimos recuperar tus permisos. Intenta volver a iniciar sesin.")}finally{l(!1)}}});return()=>{S=!1,w(),lc("none")}},[]),D.useMemo(()=>({user:t,loading:n,claimsLoading:a,role:c,visualRole:f,claimsError:y}),[t,n,a,c,f,y])}const I9=({children:t})=>{const e=C9();return E.jsx(wC.Provider,{value:e,children:t})},N9=()=>{const t=D.useContext(wC);if(!t)throw new Error("useAuthContext debe usarse dentro de un AuthProvider");return t},xC=()=>{const{user:t,loading:e,claimsLoading:n,role:s,visualRole:a,claimsError:l}=N9();return D.useMemo(()=>({user:t,loading:e||n,authLoading:e,claimsLoading:n,role:s,visualRole:a,claimsError:l}),[t,e,n,s,a,l])};var at;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),c={};for(const h of l)c[h]=a[h];return t.objectValues(c)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},t.find=(a,l)=>{for(const c of a)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=s,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(at||(at={}));var BA;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(BA||(BA={}));const _e=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=t=>{switch(typeof t){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return Number.isNaN(t)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(t)?_e.array:t===null?_e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_e.promise:typeof Map<"u"&&t instanceof Map?_e.map:typeof Set<"u"&&t instanceof Set?_e.set:typeof Date<"u"&&t instanceof Date?_e.date:_e.object;default:return _e.unknown}},le=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Is extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},s={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)s._errors.push(n(c));else{let h=s,f=0;for(;f<c.path.length;){const p=c.path[f];f===c.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(n(c))):h[p]=h[p]||{_errors:[]},h=h[p],f++}}};return a(this),s}static assert(e){if(!(e instanceof Is))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];n[l]=n[l]||[],n[l].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Is.create=t=>new Is(t);const y0=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===_e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,at.assertNever(t)}return{message:n}};let D9=y0;function O9(){return D9}const k9=t=>{const{data:e,path:n,errorMaps:s,issueData:a}=t,l=[...n,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let h="";const f=s.filter(p=>!!p).slice().reverse();for(const p of f)h=p(c,{data:e,defaultError:h}).message;return{...a,path:l,message:h}};function me(t,e){const n=O9(),s=k9({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===y0?void 0:y0].filter(a=>!!a)});t.common.issues.push(s)}class bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const a of n){if(a.status==="aborted")return Pe;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const a of n){const l=await a.key,c=await a.value;s.push({key:l,value:c})}return bi.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const a of n){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return Pe;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(s[l.value]=c.value)}return{status:e.value,value:s}}}const Pe=Object.freeze({status:"aborted"}),gc=t=>({status:"dirty",value:t}),zi=t=>({status:"valid",value:t}),FA=t=>t.status==="aborted",qA=t=>t.status==="dirty",Wl=t=>t.status==="valid",Hf=t=>typeof Promise<"u"&&t instanceof Promise;var Te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));class Da{constructor(e,n,s,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const HA=(t,e)=>{if(Wl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Is(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:a}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,h)=>{const{message:f}=t;return c.code==="invalid_enum_value"?{message:f??h.defaultError}:typeof h.data>"u"?{message:f??s??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:f??n??h.defaultError}},description:a}}class nt{get description(){return this._def.description}_getType(e){return ra(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bi,ctx:{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Hf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},a=this._parseSync({data:e,path:s.path,parent:s});return HA(s,a)}"~validate"(e){var s,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return Wl(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(s=l==null?void 0:l.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>Wl(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},a=this._parse({data:e,path:s.path,parent:s}),l=await(Hf(a)?a:Promise.resolve(a));return HA(s,l)}refine(e,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const c=e(a),h=()=>l.addIssue({code:le.custom,...s(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(e){return new eu({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return _a.create(this,this._def)}nullable(){return tu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rs.create(this)}promise(){return Yf.create(this,this._def)}or(e){return $f.create([this,e],this._def)}and(e){return Kf.create(this,e,this._def)}transform(e){return new eu({...qe(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new E0({...qe(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new nL({typeName:je.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new T0({...qe(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return f_.create(this,e)}readonly(){return b0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const M9=/^c[^\s-]{8,}$/i,V9=/^[0-9a-z]+$/,P9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,j9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L9=/^[a-z0-9_-]{21}$/i,U9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fy;const q9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X9=new RegExp(`^${RC}$`);function CC(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Q9(t){return new RegExp(`^${CC(t)}$`)}function Z9(t){let e=`${RC}T${CC(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function W9(t,e){return!!((e==="v4"||!e)&&q9.test(t)||(e==="v6"||!e)&&G9.test(t))}function J9(t,e){if(!U9.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function eL(t,e){return!!((e==="v4"||!e)&&H9.test(t)||(e==="v6"||!e)&&$9.test(t))}class da extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const l=this._getOrReturnCtx(e);return me(l,{code:le.invalid_type,expected:_e.string,received:l.parsedType}),Pe}const s=new bi;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),me(a,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),me(a,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,h=e.data.length<l.value;(c||h)&&(a=this._getOrReturnCtx(e,a),c?me(a,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):h&&me(a,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if(l.kind==="email")B9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"email",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="emoji")fy||(fy=new RegExp(F9,"u")),fy.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"emoji",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="uuid")j9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"uuid",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="nanoid")L9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"nanoid",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="cuid")M9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"cuid",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="cuid2")V9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"cuid2",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="ulid")P9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"ulid",code:le.invalid_string,message:l.message}),s.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),me(a,{validation:"url",code:le.invalid_string,message:l.message}),s.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"regex",code:le.invalid_string,message:l.message}),s.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):l.kind==="datetime"?Z9(l).test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:"datetime",message:l.message}),s.dirty()):l.kind==="date"?X9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:"date",message:l.message}),s.dirty()):l.kind==="time"?Q9(l).test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{code:le.invalid_string,validation:"time",message:l.message}),s.dirty()):l.kind==="duration"?z9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"duration",code:le.invalid_string,message:l.message}),s.dirty()):l.kind==="ip"?W9(e.data,l.version)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"ip",code:le.invalid_string,message:l.message}),s.dirty()):l.kind==="jwt"?J9(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"jwt",code:le.invalid_string,message:l.message}),s.dirty()):l.kind==="cidr"?eL(e.data,l.version)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"cidr",code:le.invalid_string,message:l.message}),s.dirty()):l.kind==="base64"?K9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"base64",code:le.invalid_string,message:l.message}),s.dirty()):l.kind==="base64url"?Y9.test(e.data)||(a=this._getOrReturnCtx(e,a),me(a,{validation:"base64url",code:le.invalid_string,message:l.message}),s.dirty()):at.assertNever(l);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(a=>e.test(a),{validation:n,code:le.invalid_string,...Te.errToObj(s)})}_addCheck(e){return new da({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Te.errToObj(n)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new da({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new da({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new da({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}da.create=t=>new da({checks:[],typeName:je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});function tL(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=n>s?n:s,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}class Gc extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const l=this._getOrReturnCtx(e);return me(l,{code:le.invalid_type,expected:_e.number,received:l.parsedType}),Pe}let s;const a=new bi;for(const l of this._def.checks)l.kind==="int"?at.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?tL(e.data,l.value)!==0&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.not_finite,message:l.message}),a.dirty()):at.assertNever(l);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,s,a){return new Gc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Te.toString(a)}]})}_addCheck(e){return new Gc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Gc.create=t=>new Gc({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class $c extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_e.bigint)return this._getInvalidInput(e);let s;const a=new bi;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):at.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return me(n,{code:le.invalid_type,expected:_e.bigint,received:n.parsedType}),Pe}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,s,a){return new $c({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Te.toString(a)}]})}_addCheck(e){return new $c({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$c.create=t=>new $c({checks:[],typeName:je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});class v0 extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.boolean,received:s.parsedType}),Pe}return zi(e.data)}}v0.create=t=>new v0({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class Gf extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const l=this._getOrReturnCtx(e);return me(l,{code:le.invalid_type,expected:_e.date,received:l.parsedType}),Pe}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return me(l,{code:le.invalid_date}),Pe}const s=new bi;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),me(a,{code:le.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),s.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),me(a,{code:le.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),s.dirty()):at.assertNever(l);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Gf.create=t=>new Gf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...qe(t)});class GA extends nt{_parse(e){if(this._getType(e)!==_e.symbol){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.symbol,received:s.parsedType}),Pe}return zi(e.data)}}GA.create=t=>new GA({typeName:je.ZodSymbol,...qe(t)});class $A extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.undefined,received:s.parsedType}),Pe}return zi(e.data)}}$A.create=t=>new $A({typeName:je.ZodUndefined,...qe(t)});class KA extends nt{_parse(e){if(this._getType(e)!==_e.null){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.null,received:s.parsedType}),Pe}return zi(e.data)}}KA.create=t=>new KA({typeName:je.ZodNull,...qe(t)});class Kc extends nt{constructor(){super(...arguments),this._any=!0}_parse(e){return zi(e.data)}}Kc.create=t=>new Kc({typeName:je.ZodAny,...qe(t)});class YA extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zi(e.data)}}YA.create=t=>new YA({typeName:je.ZodUnknown,...qe(t)});class Oa extends nt{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:le.invalid_type,expected:_e.never,received:n.parsedType}),Pe}}Oa.create=t=>new Oa({typeName:je.ZodNever,...qe(t)});class XA extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.void,received:s.parsedType}),Pe}return zi(e.data)}}XA.create=t=>new XA({typeName:je.ZodVoid,...qe(t)});class Rs extends nt{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),a=this._def;if(n.parsedType!==_e.array)return me(n,{code:le.invalid_type,expected:_e.array,received:n.parsedType}),Pe;if(a.exactLength!==null){const c=n.data.length>a.exactLength.value,h=n.data.length<a.exactLength.value;(c||h)&&(me(n,{code:c?le.too_big:le.too_small,minimum:h?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(me(n,{code:le.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(me(n,{code:le.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>a.type._parseAsync(new Da(n,c,n.path,h)))).then(c=>bi.mergeArray(s,c));const l=[...n.data].map((c,h)=>a.type._parseSync(new Da(n,c,n.path,h)));return bi.mergeArray(s,l)}get element(){return this._def.type}min(e,n){return new Rs({...this._def,minLength:{value:e,message:Te.toString(n)}})}max(e,n){return new Rs({...this._def,maxLength:{value:e,message:Te.toString(n)}})}length(e,n){return new Rs({...this._def,exactLength:{value:e,message:Te.toString(n)}})}nonempty(e){return this.min(1,e)}}Rs.create=(t,e)=>new Rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...qe(e)});function Rl(t){if(t instanceof Zt){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=_a.create(Rl(s))}return new Zt({...t._def,shape:()=>e})}else return t instanceof Rs?new Rs({...t._def,type:Rl(t.element)}):t instanceof _a?_a.create(Rl(t.unwrap())):t instanceof tu?tu.create(Rl(t.unwrap())):t instanceof Do?Do.create(t.items.map(e=>Rl(e))):t}class Zt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=at.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==_e.object){const p=this._getOrReturnCtx(e);return me(p,{code:le.invalid_type,expected:_e.object,received:p.parsedType}),Pe}const{status:s,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const p in a.data)c.includes(p)||h.push(p);const f=[];for(const p of c){const y=l[p],_=a.data[p];f.push({key:{status:"valid",value:p},value:y._parse(new Da(a,_,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof Oa){const p=this._def.unknownKeys;if(p==="passthrough")for(const y of h)f.push({key:{status:"valid",value:y},value:{status:"valid",value:a.data[y]}});else if(p==="strict")h.length>0&&(me(a,{code:le.unrecognized_keys,keys:h}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const y of h){const _=a.data[y];f.push({key:{status:"valid",value:y},value:p._parse(new Da(a,_,a.path,y)),alwaysSet:y in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const y of f){const _=await y.key,S=await y.value;p.push({key:_,value:S,alwaysSet:y.alwaysSet})}return p}).then(p=>bi.mergeObjectSync(s,p)):bi.mergeObjectSync(s,f)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new Zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var l,c;const a=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:Te.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Zt({...this._def,unknownKeys:"strip"})}passthrough(){return new Zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Zt({...this._def,catchall:e})}pick(e){const n={};for(const s of at.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new Zt({...this._def,shape:()=>n})}omit(e){const n={};for(const s of at.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new Zt({...this._def,shape:()=>n})}deepPartial(){return Rl(this)}partial(e){const n={};for(const s of at.objectKeys(this.shape)){const a=this.shape[s];e&&!e[s]?n[s]=a:n[s]=a.optional()}return new Zt({...this._def,shape:()=>n})}required(e){const n={};for(const s of at.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let l=this.shape[s];for(;l instanceof _a;)l=l._def.innerType;n[s]=l}return new Zt({...this._def,shape:()=>n})}keyof(){return IC(at.objectKeys(this.shape))}}Zt.create=(t,e)=>new Zt({shape:()=>t,unknownKeys:"strip",catchall:Oa.create(),typeName:je.ZodObject,...qe(e)});Zt.strictCreate=(t,e)=>new Zt({shape:()=>t,unknownKeys:"strict",catchall:Oa.create(),typeName:je.ZodObject,...qe(e)});Zt.lazycreate=(t,e)=>new Zt({shape:t,unknownKeys:"strip",catchall:Oa.create(),typeName:je.ZodObject,...qe(e)});class $f extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function a(l){for(const h of l)if(h.result.status==="valid")return h.result;for(const h of l)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=l.map(h=>new Is(h.ctx.common.issues));return me(n,{code:le.invalid_union,unionErrors:c}),Pe}if(n.common.async)return Promise.all(s.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const f of s){const p={...n,common:{...n.common,issues:[]},parent:null},y=f._parseSync({data:n.data,path:n.path,parent:p});if(y.status==="valid")return y;y.status==="dirty"&&!l&&(l={result:y,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const h=c.map(f=>new Is(f));return me(n,{code:le.invalid_union,unionErrors:h}),Pe}}get options(){return this._def.options}}$f.create=(t,e)=>new $f({options:t,typeName:je.ZodUnion,...qe(e)});function _0(t,e){const n=ra(t),s=ra(e);if(t===e)return{valid:!0,data:t};if(n===_e.object&&s===_e.object){const a=at.objectKeys(e),l=at.objectKeys(t).filter(h=>a.indexOf(h)!==-1),c={...t,...e};for(const h of l){const f=_0(t[h],e[h]);if(!f.valid)return{valid:!1};c[h]=f.data}return{valid:!0,data:c}}else if(n===_e.array&&s===_e.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const c=t[l],h=e[l],f=_0(c,h);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return n===_e.date&&s===_e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Kf extends nt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),a=(l,c)=>{if(FA(l)||FA(c))return Pe;const h=_0(l.value,c.value);return h.valid?((qA(l)||qA(c))&&n.dirty(),{status:n.value,value:h.data}):(me(s,{code:le.invalid_intersection_types}),Pe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Kf.create=(t,e,n)=>new Kf({left:t,right:e,typeName:je.ZodIntersection,...qe(n)});class Do extends nt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.array)return me(s,{code:le.invalid_type,expected:_e.array,received:s.parsedType}),Pe;if(s.data.length<this._def.items.length)return me(s,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&s.data.length>this._def.items.length&&(me(s,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...s.data].map((c,h)=>{const f=this._def.items[h]||this._def.rest;return f?f._parse(new Da(s,c,s.path,h)):null}).filter(c=>!!c);return s.common.async?Promise.all(l).then(c=>bi.mergeArray(n,c)):bi.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new Do({...this._def,rest:e})}}Do.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Do({items:t,typeName:je.ZodTuple,rest:null,...qe(e)})};class QA extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.map)return me(s,{code:le.invalid_type,expected:_e.map,received:s.parsedType}),Pe;const a=this._def.keyType,l=this._def.valueType,c=[...s.data.entries()].map(([h,f],p)=>({key:a._parse(new Da(s,h,s.path,[p,"key"])),value:l._parse(new Da(s,f,s.path,[p,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const f of c){const p=await f.key,y=await f.value;if(p.status==="aborted"||y.status==="aborted")return Pe;(p.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(p.value,y.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const f of c){const p=f.key,y=f.value;if(p.status==="aborted"||y.status==="aborted")return Pe;(p.status==="dirty"||y.status==="dirty")&&n.dirty(),h.set(p.value,y.value)}return{status:n.value,value:h}}}}QA.create=(t,e,n)=>new QA({valueType:e,keyType:t,typeName:je.ZodMap,...qe(n)});class Yc extends nt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.set)return me(s,{code:le.invalid_type,expected:_e.set,received:s.parsedType}),Pe;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(me(s,{code:le.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(me(s,{code:le.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function c(f){const p=new Set;for(const y of f){if(y.status==="aborted")return Pe;y.status==="dirty"&&n.dirty(),p.add(y.value)}return{status:n.value,value:p}}const h=[...s.data.values()].map((f,p)=>l._parse(new Da(s,f,s.path,p)));return s.common.async?Promise.all(h).then(f=>c(f)):c(h)}min(e,n){return new Yc({...this._def,minSize:{value:e,message:Te.toString(n)}})}max(e,n){return new Yc({...this._def,maxSize:{value:e,message:Te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Yc.create=(t,e)=>new Yc({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...qe(e)});class ZA extends nt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ZA.create=(t,e)=>new ZA({getter:t,typeName:je.ZodLazy,...qe(e)});class WA extends nt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}WA.create=(t,e)=>new WA({value:t,typeName:je.ZodLiteral,...qe(e)});function IC(t,e){return new Jl({values:t,typeName:je.ZodEnum,...qe(e)})}class Jl extends nt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return me(n,{expected:at.joinValues(s),received:n.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return me(n,{received:n.data,code:le.invalid_enum_value,options:s}),Pe}return zi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Jl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Jl.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Jl.create=IC;class JA extends nt{_parse(e){const n=at.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==_e.string&&s.parsedType!==_e.number){const a=at.objectValues(n);return me(s,{expected:at.joinValues(a),received:s.parsedType,code:le.invalid_type}),Pe}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=at.objectValues(n);return me(s,{received:s.data,code:le.invalid_enum_value,options:a}),Pe}return zi(e.data)}get enum(){return this._def.values}}JA.create=(t,e)=>new JA({values:t,typeName:je.ZodNativeEnum,...qe(e)});class Yf extends nt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.promise&&n.common.async===!1)return me(n,{code:le.invalid_type,expected:_e.promise,received:n.parsedType}),Pe;const s=n.parsedType===_e.promise?n.data:Promise.resolve(n.data);return zi(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yf.create=(t,e)=>new Yf({type:t,typeName:je.ZodPromise,...qe(e)});class eu extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{me(s,c),c.fatal?n.abort():n.dirty()},get path(){return s.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(s.data,l);if(s.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return Pe;const f=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return f.status==="aborted"?Pe:f.status==="dirty"||n.value==="dirty"?gc(f.value):f});{if(n.value==="aborted")return Pe;const h=this._def.schema._parseSync({data:c,path:s.path,parent:s});return h.status==="aborted"?Pe:h.status==="dirty"||n.value==="dirty"?gc(h.value):h}}if(a.type==="refinement"){const c=h=>{const f=a.refinement(h,l);if(s.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?Pe:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(a.type==="transform")if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Wl(c))return Pe;const h=a.transform(c.value,l);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>Wl(c)?Promise.resolve(a.transform(c.value,l)).then(h=>({status:n.value,value:h})):Pe);at.assertNever(a)}}eu.create=(t,e,n)=>new eu({schema:t,typeName:je.ZodEffects,effect:e,...qe(n)});eu.createWithPreprocess=(t,e,n)=>new eu({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...qe(n)});class _a extends nt{_parse(e){return this._getType(e)===_e.undefined?zi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_a.create=(t,e)=>new _a({innerType:t,typeName:je.ZodOptional,...qe(e)});class tu extends nt{_parse(e){return this._getType(e)===_e.null?zi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:je.ZodNullable,...qe(e)});class E0 extends nt{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===_e.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}E0.create=(t,e)=>new E0({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class T0 extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Hf(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Is(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Is(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}T0.create=(t,e)=>new T0({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class ew extends nt{_parse(e){if(this._getType(e)!==_e.nan){const s=this._getOrReturnCtx(e);return me(s,{code:le.invalid_type,expected:_e.nan,received:s.parsedType}),Pe}return{status:"valid",value:e.data}}}ew.create=t=>new ew({typeName:je.ZodNaN,...qe(t)});class nL extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class f_ extends nt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Pe:l.status==="dirty"?(n.dirty(),gc(l.value)):this._def.out._parseAsync({data:l.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,n){return new f_({in:e,out:n,typeName:je.ZodPipeline})}}class b0 extends nt{_parse(e){const n=this._def.innerType._parse(e),s=a=>(Wl(a)&&(a.value=Object.freeze(a.value)),a);return Hf(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}b0.create=(t,e)=>new b0({innerType:t,typeName:je.ZodReadonly,...qe(e)});function tw(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function iL(t,e={},n){return t?Kc.create().superRefine((s,a)=>{const l=t(s);if(l instanceof Promise)return l.then(c=>{if(!c){const h=tw(e,s),f=h.fatal??n??!0;a.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=tw(e,s),h=c.fatal??n??!0;a.addIssue({code:"custom",...c,fatal:h})}}):Kc.create()}var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const S0=(t,e={message:`Input not instance of ${t.name}`})=>iL(n=>n instanceof t,e),mn=da.create,NC=v0.create;Kc.create;Oa.create;Rs.create;const Cm=Zt.create;$f.create;Kf.create;Do.create;Jl.create;Yf.create;_a.create;tu.create;const DC=(t,e)=>{if(e instanceof Mn){console.error(`[Auth] ${t} (code: ${e.code})`);return}console.error(`[Auth] ${t}:`,e)},sL=TV(Zi,P2).catch(t=>{throw DC("Failed to set persistence",t),t}),rL=t=>{if(t instanceof Mn)switch(t.code){case"auth/email-already-in-use":return"El correo electronico ya esta registrado.";case"auth/invalid-email":return"El formato del correo electronico no es valido.";case"auth/weak-password":return"La contrasena debe cumplir con los requisitos minimos de seguridad.";case"auth/user-not-found":case"auth/invalid-credential":return"Las credenciales ingresadas son incorrectas.";case"auth/wrong-password":return"La contrasena es incorrecta.";case"auth/too-many-requests":return"Se detectaron multiples intentos fallidos. Intenta mas tarde.";case"auth/network-request-failed":return"No se pudo establecer conexion con el servicio de autenticacion.";case"auth/configuration-not-found":return"La configuracion de autenticacion no esta disponible. Verifica las credenciales de Firebase.";case"auth/internal-error":return"El servicio de autenticacion respondio con un error interno. Intenta nuevamente.";default:return"Ocurrio un error al procesar la solicitud de autenticacion."}return"Error inesperado de autenticacion."},Im=async t=>{try{return await sL,await t(Zi)}catch(e){throw DC("Operation failed",e),new Error(rL(e))}},aL=async(t,e)=>Im(async n=>(await yV(n,t,e)).user),oL=async(t,e)=>Im(async n=>(await vV(n,t,e)).user),OC=async()=>{await Im(async t=>{await wV(t)})},lL=async t=>{await Im(async e=>{await gV(e,t)})},mh="users",kC="docentes",Xf="plantilla_docente",uL={admin:"admin",direccion:"admin",director:"admin",clerk:"clerk",secretaria:"clerk",secretary:"clerk",teacher:"teacher",docente:"teacher",profesor:"teacher",profesora:"teacher",prefect:"prefect",prefecto:"prefect",prefectura:"prefect",medical:"medical",medico:"medical",doctora:"medical",socialwork:"socialWork",trabajo_social:"socialWork",social:"socialWork",guidance:"guidance",orientacion:"guidance",orientadora:"guidance"},MC=t=>{const e=t.trim().toLowerCase();return uL[e]??"teacher"},nw={clerk:"Secretaria",teacher:"Docente",prefect:"Prefectura",medical:"Servicio Medico",socialWork:"Trabajo Social",guidance:"Orientacion",admin:"Direccion"},cL=Cm({email:mn().email(),nombreCompleto:mn().min(3).max(140).optional(),nombreNormalizado:mn().min(3).max(140).optional(),rol:mn().min(3).max(40),autorizado:NC(),fechaRegistro:S0(ze).optional(),autorizadoPor:mn().nullable().optional(),plantillaDocenteId:mn().optional()}),hL=Cm({nombre:mn().min(3).max(120),plantel:mn().min(2).max(80),extension:mn().min(1).max(10).optional(),createdAt:S0(ze).optional(),updatedAt:S0(ze).optional()}),dL=Cm({nombre_completo:mn().min(3).max(140),registrado:NC(),uid_asociado:mn().nullable(),rol:mn().min(3).max(40),rol_canonico:mn().min(3).max(40).optional()}),VC=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z\s]/g," ").trim().replace(/\s+/g," ").toUpperCase(),fL=t=>t.replace(/\s+/g,"_"),PC=t=>{const e=t.trim().replace(/\s+/g," ");return e?e.toLowerCase().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):""},Nm=t=>{if(!t.exists())return null;const e=cL.safeParse(t.data());if(!e.success)return console.error("[SASE-310] Perfil de usuario invalido:",e.error),null;const n=e.data,s=MC(n.rol),a=n.nombreCompleto??PC(t.get("nombre")??""),l=n.nombreNormalizado??VC(a||n.email);return{id:t.id,...n,rol:s,nombreCompleto:a||n.email,nombreNormalizado:l,fechaRegistro:n.fechaRegistro??ze.now(),autorizadoPor:n.autorizadoPor??null}},mL=t=>{if(!t.exists())return null;const e=hL.safeParse(t.data());if(!e.success)return console.error("[SASE-310] Datos docentes invalidos:",e.error),null;const n=e.data;return{id:t.id,...n,createdAt:n.createdAt??ze.now(),updatedAt:n.updatedAt??ze.now()}},A0=t=>{if(!t.exists())return null;const e=dL.safeParse(t.data());if(!e.success)return console.error("[SASE-310] Entrada de plantilla invalida:",e.error),null;const n=e.data,s=MC(n.rol_canonico??n.rol),{rol_canonico:a=void 0,...l}=n;return{id:t.id,...l,rol:s}},Dm=(t,e)=>{throw e instanceof Mn?console.error(`[SASE-310] ${t} (code: ${e.code})`):console.error(`[SASE-310] ${t}:`,e),new Error("No se pudo completar la operacion solicitada. Intenta mas tarde.")},pL=async t=>{const e=fL(t),n=es(Vn,Xf,e);try{const s=await _C(n),a=A0(s);if(a)return a}catch(s){if(s instanceof Mn&&s.code!=="permission-denied"||!(s instanceof Mn))throw s}try{const s=bm(Vn,Xf),a=r_(s,a_("nombre_completo","==",t)),c=(await u_(a)).docs[0];return c?A0(c):null}catch(s){throw s instanceof Mn&&s.code==="permission-denied"?new Error("No fue posible validar la plantilla de docentes. Contacta al administrador."):s}},gL=async t=>{var e;try{await t.delete()}catch(n){console.error(`[SASE-310] No se pudo revertir el usuario ${t.uid}:`,n)}finally{((e=Zi.currentUser)==null?void 0:e.uid)===t.uid&&await Zi.signOut().catch(()=>{})}},yL=async t=>{const e=PC(t.nombreCompleto),n=VC(t.nombreCompleto),s=t.email.trim().toLowerCase();if(!e||!n)throw new Error("Ingresa tu nombre completo tal como aparece en la plantilla autorizada.");let a=null;try{a=await aL(s,t.password),await EV(a,{displayName:e}).catch(()=>{});const l=await pL(n);if(!l)throw new Error("No fue posible validar la plantilla autorizada. Contacta al administrador.");if(l.registrado&&(!l.uid_asociado||l.uid_asociado!==a.uid))throw new Error("Este docente ya cuenta con un registro activo.");const c=ze.now(),h=l.rol,f={email:s,nombreCompleto:e,nombreNormalizado:n,rol:h,autorizado:!0,fechaRegistro:c,autorizadoPor:null,plantillaDocenteId:l.id},p=es(Vn,Xf,l.id),y=es(Vn,mh,a.uid);await bC(Vn,async S=>{const w=await S.get(p),C=A0(w);if(!C)throw new Error("La plantilla de docentes no se encuentra disponible.");if(C.registrado&&(!C.uid_asociado||C.uid_asociado!==a.uid))throw new Error("Este docente ya se autorizo previamente.");S.set(y,f,{merge:!0}),S.update(p,{registrado:!0,uid_asociado:a.uid,correo_registrado:s,actualizado_en:c,rol_canonico:h})});const _={id:a.uid,...f};return{user:a,profile:_}}catch(l){throw a&&await gL(a),l instanceof Error?l:new Error("No fue posible completar el registro con la whitelist.")}},vL=async(t,e)=>{const n=await _L(t);if(n)return n;throw new Error("Tu cuenta no esta autorizada en SASE-310. Contacta al administrador.")},_L=async t=>{const e=es(Vn,mh,t);try{const n=await _C(e);return Nm(n)}catch(n){return Dm("Recuperacion de perfil fallida",n)}},EL=(t,e,n)=>{const s=es(Vn,mh,t);return EC(s,a=>{e(Nm(a))},a=>{console.error("[SASE-310] Observador de perfil fallido:",a),n==null||n(a)})},TL=async()=>{try{const t=bm(Vn,mh),e=r_(t,a_("autorizado","==",!1));return(await u_(e)).docs.map(s=>Nm(s)).filter(s=>s!==null).sort((s,a)=>a.fechaRegistro.toMillis()-s.fechaRegistro.toMillis())}catch(t){return Dm("Listado de usuarios pendientes fallido",t)}},bL=async(t,e)=>{var l,c;const n=es(Vn,mh,t),s=((l=Zi.currentUser)==null?void 0:l.email)??((c=Zi.currentUser)==null?void 0:c.uid)??null,a=ze.now();try{await bC(Vn,async h=>{const f=await h.get(n),p=Nm(f);if(!p)throw new Error("No se encontr el perfil del usuario a aprobar.");if(h.update(n,{autorizado:!0,rol:e,autorizadoPor:s,fechaAutorizacion:a}),p.plantillaDocenteId){const y=es(Vn,Xf,p.plantillaDocenteId);h.update(y,{registrado:!0,uid_asociado:t,autorizado_en:a,autorizado_por:s})}})}catch(h){Dm("Aprobacion de usuario fallida",h)}},SL=(t,e,n)=>{const s=es(Vn,kC,t);return EC(s,a=>{e(mL(a))},a=>{console.error("[SASE-310] Observador de datos docentes fallido:",a),n==null||n(a)})},iw=async(t,e)=>{const n=es(Vn,kC,t);try{const s={...e,createdAt:e.createdAt??ze.now(),updatedAt:ze.now()};await Kj(n,s,{merge:!0})}catch(s){Dm("Registro de datos docentes fallido",s)}},AL=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(null),c=D.useCallback(async()=>{s(!0),l(null);try{const f=await TL();e(f)}catch(f){console.error("[Auth2.0] No fue posible cargar los usuarios pendientes:",f),l(f instanceof Error?f.message:"No se pudieron obtener los usuarios pendientes.")}finally{s(!1)}},[]);D.useEffect(()=>{c()},[c]);const h=D.useCallback(async(f,p)=>{try{await bL(f,p),await c()}catch(y){throw console.error("[Auth2.0] No fue posible aprobar al usuario:",y),l(y instanceof Error?y.message:"Ocurrio un error al aprobar al usuario."),y}},[c]);return{pending:t,loading:n,error:a,approve:h,refresh:c}},m_=[{value:"teacher",label:"Docente"},{value:"guidance",label:"Orientacion"},{value:"prefect",label:"Prefectura"},{value:"medical",label:"Servicio Medico"},{value:"socialWork",label:"Trabajo Social"},{value:"clerk",label:"Secretaria"}],wL=t=>{if(t==="admin")return"Direccion";const e=m_.find(n=>n.value===t);return(e==null?void 0:e.label)??t},xL=t=>t.rol==="admin"?"teacher":m_.some(e=>e.value===t.rol)?t.rol:"teacher",RL=({onRefreshRequested:t})=>{const{pending:e,loading:n,error:s,approve:a,refresh:l}=AL(),[c,h]=D.useState({}),[f,p]=D.useState(null),[y,_]=D.useState(null),S=(j,Q)=>{h(H=>({...H,[j]:Q}))},w=j=>c[j.id]??xL(j),C=async j=>{const Q=w(j);p(j.id),_(null);try{await a(j.id,Q),_(`Usuario ${j.email} aprobado como ${wL(Q)}.`),h(H=>{const ae={...H};return delete ae[j.id],ae}),t==null||t()}catch(H){console.error("[AdminPanel] Error al aprobar usuario:",H)}finally{p(null)}},k=async()=>{_(null),await l()},P=D.useMemo(()=>e.slice().sort((j,Q)=>j.fechaRegistro&&Q.fechaRegistro?Q.fechaRegistro.toMillis()-j.fechaRegistro.toMillis():j.email.localeCompare(Q.email)),[e]);return E.jsxs("section",{className:"space-y-6",children:[E.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-display text-white",children:"Panel de aprobacin"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Autoriza cuentas docentes y asigna el rol operativo correspondiente."})]}),E.jsx("button",{type:"button",className:"btn btn-secondary sm:w-auto w-full",onClick:k,disabled:n,children:n?"Actualizando...":"Actualizar lista"})]}),s?E.jsx("p",{className:"text-sm text-red-400",children:s}):null,y?E.jsx("p",{className:"text-sm text-emerald-400",children:y}):null,E.jsxs("div",{className:"card",children:[n?E.jsx("p",{className:"text-sm text-gray-400",children:"Cargando usuarios pendientes..."}):null,!n&&P.length===0?E.jsx("p",{className:"text-sm text-gray-400",children:"No hay usuarios pendientes por autorizar."}):null,E.jsx("ul",{className:"space-y-4",children:P.map(j=>{const Q=w(j);return E.jsx("li",{className:"bg-black/30 border border-gray-800 rounded-lg p-4",children:E.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-base font-semibold text-white",children:j.nombreCompleto}),E.jsx("p",{className:"text-sm text-gray-400",children:j.email}),j.fechaRegistro?E.jsxs("p",{className:"text-xs text-gray-500",children:["Registrado: ",j.fechaRegistro.toDate().toLocaleString()]}):null]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:[E.jsxs("label",{className:"text-sm text-gray-300",children:["Rol asignado",E.jsx("select",{className:"input-field mt-1 w-full",value:Q,onChange:H=>S(j.id,H.target.value),disabled:f===j.id,children:m_.map(H=>E.jsx("option",{value:H.value,children:H.label},H.value))})]}),E.jsx("button",{type:"button",className:"btn btn-primary sm:w-auto w-full",onClick:()=>void C(j),disabled:f===j.id,children:f===j.id?"Aprobando...":"Aprobar"})]})]})},j.id)})})]})]})},CL="/branding/superio al panel.png",jl={key:"general",label:"AtemiMX  SASE-310",image:CL,caption:"Arquitectura S-SDLC"},IL={teacher:{key:"teacher",label:"Atem  Docentes",image:"/branding/docentes.png"},admin:{key:"admin",label:"Atem  Direccin",image:"/branding/direccion.png"},guidance:{key:"guidance",label:"Atem  Orientacin",image:"/branding/orientacion.png"},socialWork:{key:"socialWork",label:"Atem  Trabajo Social",image:"/branding/t social.png"},prefect:{key:"prefect",label:"Atem  Prefectura",image:"/branding/prefectura.png"},medical:{key:"medical",label:"Atem  Enfermera",image:"/branding/enfermeria.png"},clerk:{key:"clerk",label:"Atem  Secretara",image:"/branding/direccion.png"}},NL=t=>t?IL[t]??jl:jl;/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),sw=t=>{const e=OL(t);return e.charAt(0).toUpperCase()+e.slice(1)},jC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),kL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},f)=>D.createElement("svg",{ref:f,...ML,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:jC("lucide",a),...!l&&!kL(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>D.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(VL,{ref:l,iconNode:e,className:jC(`lucide-${DL(sw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=sw(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]],jL=wt("alarm-clock-check",PL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],UL=wt("bell-ring",LL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],LC=wt("calendar-clock",zL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],FL=wt("chevrons-left",BL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],HL=wt("chevrons-right",qL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UC=wt("circle-alert",GL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KL=wt("circle-check",$L);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XL=wt("circle-question-mark",YL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZL=wt("circle-user-round",QL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],JL=wt("cloud-upload",WL);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],tU=wt("fingerprint",eU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],iU=wt("grid-2x2",nU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rU=wt("grid-3x3",sU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oU=wt("layers",aU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],uU=wt("layout-dashboard",lU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],hU=wt("life-buoy",cU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zC=wt("lock",dU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mU=wt("log-out",fU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gU=wt("menu",pU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M15 2v20",key:"dcj49h"}],["path",{d:"M15 7h5",key:"1xj5lc"}],["path",{d:"M15 12h5",key:"w5shd9"}],["path",{d:"M15 17h5",key:"1qaofu"}]],vU=wt("notebook-tabs",yU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]],EU=wt("notebook",_U);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bU=wt("settings",TU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BC=wt("shield-check",SU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],wU=wt("users-round",AU);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FC=wt("x",xU),RU="El sistema transforma tu nombre a mayusculas para que coincida con la plantilla autorizada.",my={status:"idle"},py=t=>t==="valid"?"input-field input-field--success":t==="error"?"input-field input-field--error":"input-field",gy=t=>t==="valid"?E.jsx(KL,{size:18,className:"input-status__icon input-status__icon--valid","aria-hidden":!0}):t==="error"?E.jsx(UC,{size:18,className:"input-status__icon input-status__icon--error","aria-hidden":!0}):null,rw=(t,e)=>t.status==="error"&&t.message?E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"field-feedback field-feedback--error",children:t.message}),e?E.jsx("p",{className:"field-feedback field-feedback--muted",children:e}):null]}):t.status==="valid"&&t.message?E.jsx("p",{className:"field-feedback field-feedback--success",children:t.message}):e?E.jsx("p",{className:"field-feedback field-feedback--muted",children:e}):null,CU=({values:t,submitting:e=!1,serverError:n=null,passwordHint:s,validation:a,canSubmit:l=!0,onChange:c,onSubmit:h,onCancel:f})=>{const p=(a==null?void 0:a.nombreCompleto)??my,y=(a==null?void 0:a.email)??my,_=(a==null?void 0:a.password)??my;return E.jsxs("form",{className:"space-y-4",onSubmit:h,children:[E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"register-full-name",children:"Nombre completo"}),E.jsxs("div",{className:"input-status",children:[E.jsx("input",{id:"register-full-name",type:"text",className:py(p.status),placeholder:"Ej. HUGO SANCHEZ RESENDIZ",autoComplete:"name",value:t.nombreCompleto,onChange:S=>c("nombreCompleto",S.target.value.toUpperCase()),disabled:e,required:!0}),gy(p.status)]}),rw(p,RU)]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"register-email",children:"Correo institucional"}),E.jsxs("div",{className:"input-status",children:[E.jsx("input",{id:"register-email",type:"email",className:py(y.status),placeholder:"usuario@institucion.mx",autoComplete:"email",value:t.email,onChange:S=>c("email",S.target.value),disabled:e,required:!0}),gy(y.status)]}),rw(y,"Usa un correo permitido por la institucion (termina en @institucion.mx o @aefcm.gob.mx).")]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"register-password",children:"Contrasena"}),E.jsxs("div",{className:"input-status",children:[E.jsx("input",{id:"register-password",type:"password",className:py(_.status),placeholder:"Debe cumplir los requisitos minimos",autoComplete:"new-password",value:t.password,onChange:S=>c("password",S.target.value),disabled:e,required:!0}),gy(_.status)]}),_.status==="valid"&&_.message?E.jsx("p",{className:"field-feedback field-feedback--success",children:_.message}):E.jsxs(E.Fragment,{children:[_.status==="error"&&_.message?E.jsx("p",{className:"field-feedback field-feedback--error",children:_.message}):null,s?E.jsx("p",{className:"field-feedback field-feedback--muted whitespace-pre-line",children:s}):null]})]}),n?E.jsx("p",{className:"text-sm text-red-400",children:n}):null,E.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[f?E.jsx("button",{type:"button",className:"btn btn-secondary sm:w-auto w-full",onClick:f,disabled:e,children:"Cancelar"}):null,E.jsx("button",{type:"submit",className:"btn btn-primary sm:w-auto w-full",disabled:e||!l,children:e?"Registrando...":"Registrarme"})]})]})},IU=E9(A9,"logSensitiveAccess"),NU=async t=>{try{if(!t.resource||t.resource.trim().length===0)throw new Error("Especifica el recurso que deseas consultar.");return(await IU({resource:t.resource,reason:t.reason??null})).data}catch(e){throw console.error("[SASE-310] No se pudo registrar el acceso sensible:",e),new Error("No fue posible validar la reautenticacion.")}},DU=({isOpen:t,email:e,resource:n,reason:s,onClose:a,onReauthenticated:l})=>{const[c,h]=D.useState(""),[f,p]=D.useState(!1),[y,_]=D.useState(null);if(D.useEffect(()=>{t||(h(""),_(null))},[t]),!t)return null;const S=async w=>{if(w.preventDefault(),_(null),!Zi.currentUser){_("No hay una sesion activa para validar.");return}p(!0);try{const C=ko.credential(e,c);await pV(Zi.currentUser,C),await NU({resource:n,reason:s}),l(),a()}catch(C){console.error("[SASE-310] Reautenticacion fallida:",C),_(C instanceof Error?C.message:"No fue posible validar la reautenticacion.")}finally{p(!1)}};return E.jsx("div",{className:"reauth-modal__backdrop",role:"dialog","aria-modal":"true",children:E.jsxs("div",{className:"reauth-modal card",children:[E.jsxs("header",{className:"reauth-modal__header",children:[E.jsx("h2",{className:"text-lg font-display text-white",children:"Confirmar identidad"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Este dato requiere una validacion adicional. Ingresa tu contrasea institucional para continuar."})]}),E.jsxs("form",{className:"space-y-4",onSubmit:S,children:[E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"reauth-email",children:"Correo"}),E.jsx("input",{id:"reauth-email",type:"email",className:"input-field w-full",value:e,disabled:!0,readOnly:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"reauth-password",children:"Contrasea"}),E.jsx("input",{id:"reauth-password",type:"password",className:"input-field w-full",value:c,onChange:w=>h(w.target.value),autoComplete:"current-password",required:!0,minLength:10,disabled:f})]}),y?E.jsx("p",{className:"text-sm text-red-400",children:y}):null,E.jsxs("div",{className:"reauth-modal__actions",children:[E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,disabled:f,children:"Cancelar"}),E.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f||c.length===0,children:f?"Validando...":"Confirmar acceso"})]})]})]})})},OU={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDPunF6Pj8gEm7QNl-5-gXDzsLiaoNO5kM",VITE_FIREBASE_APP_ID:"1:599375908983:web:b28b69a3770c0947063672",VITE_FIREBASE_AUTH_DOMAIN:"atemimx.firebaseapp.com",VITE_FIREBASE_CONFIG:'{"apiKey":"AIzaSyDPunF6Pj8gEm7QNl-5-gXDzsLiaoNO5kM","authDomain":"atemimx.firebaseapp.com","projectId":"atemimx","storageBucket":"atemimx.firebasestorage.app","messagingSenderId":"599375908983","appId":"1:599375908983:web:b28b69a3770c0947063672"}',VITE_FIREBASE_FUNCTIONS_REGION:"us-central1",VITE_FIREBASE_MESSAGING_SENDER_ID:"599375908983",VITE_FIREBASE_PROJECT_ID:"atemimx",VITE_FIREBASE_STORAGE_BUCKET:"atemimx.firebasestorage.app",VITE_GEMINI_API_KEY:""},kU=1,aw="VITE_ENCRYPTION_MASTER_KEY",MU=new TextEncoder,VU=new TextDecoder,qC=()=>{const t=typeof window<"u"?window.crypto:typeof globalThis<"u"?globalThis==null?void 0:globalThis.crypto:void 0;if(!t)throw new Error("La API de cifrado del navegador no est disponible.");return t},Qf=()=>{const t=qC();if(!t.subtle)throw new Error("El motor de cifrado no est disponible en este entorno.");return t.subtle},HC=()=>{if(typeof globalThis>"u")return null;const t=globalThis.Buffer;return t&&typeof t.from=="function"?t:null},w0=t=>{const e=t.replace(/[^A-Za-z0-9+/=]/g,"");if(typeof window<"u"&&typeof window.atob=="function"){const a=window.atob(e),l=new Uint8Array(a.length);for(let c=0;c<a.length;c+=1)l[c]=a.charCodeAt(c);return l}const n=HC();if(!n)throw new Error("El entorno actual no soporta decodificacin Base64.");const s=n.from(e,"base64");return new Uint8Array(s.buffer,s.byteOffset,s.byteLength)},ow=t=>{const e=t instanceof Uint8Array?t:new Uint8Array(t);if(typeof window<"u"&&typeof window.btoa=="function"){let s="";return e.forEach(a=>{s+=String.fromCharCode(a)}),window.btoa(s)}const n=HC();if(!n)throw new Error("El entorno actual no soporta codificacin Base64.");return n.from(e).toString("base64")},PU=(()=>{let t=null;return e=>{if(e)return Qf().importKey("raw",e,"AES-GCM",!1,["encrypt","decrypt"]);if(!t){const n=OU[aw];if(!n)throw new Error(`Falta la variable de entorno ${aw} para habilitar el cifrado.`);const s=w0(n.trim());t=Qf().importKey("raw",s,"AES-GCM",!1,["encrypt","decrypt"])}return t}})(),GC=t=>PU(),jU=()=>{const t=new Uint8Array(12);return qC().getRandomValues(t),t},LU=async(t,e)=>{const n=await GC(),s=jU(),a=MU.encode(t),l=await Qf().encrypt({name:"AES-GCM",iv:s},n,a);return{version:kU,iv:ow(s),ciphertext:ow(l)}},UU=async(t,e)=>{if(!(t!=null&&t.iv)||!(t!=null&&t.ciphertext))throw new Error("El payload cifrado es invlido.");const n=await GC(),s=w0(t.iv),a=w0(t.ciphertext),l=await Qf().decrypt({name:"AES-GCM",iv:s},n,a);return VU.decode(l)},zU=async(t,e)=>LU(JSON.stringify(t)),BU=async(t,e)=>{const n=await UU(t);return JSON.parse(n)},FU=t=>!Number.isNaN(Date.parse(t)),$C=Cm({title:mn({required_error:"El titulo es obligatorio."}).trim().min(3,{message:"El titulo debe tener al menos 3 caracteres."}).max(120,{message:"El titulo debe tener maximo 120 caracteres."}),description:mn({required_error:"La descripcion es obligatoria."}).trim().min(10,{message:"La descripcion debe tener al menos 10 caracteres."}).max(2e3,{message:"La descripcion debe tener maximo 2000 caracteres."}),date:mn({required_error:"La fecha es obligatoria."}).trim().refine(FU,{message:"La fecha debe tener un formato valido (YYYY-MM-DD)."}),category:mn({required_error:"La categoria es obligatoria."}).trim().min(3,{message:"La categoria debe tener al menos 3 caracteres."}).max(50,{message:"La categoria debe tener maximo 50 caracteres."}),uid:mn({required_error:"El identificador de usuario es obligatorio."}).trim().min(1,{message:"El identificador de usuario es obligatorio."})}),p_="reports";$C.omit({uid:!0}).partial();const qU=t=>{const e=t.errors[0];return`Datos de reporte invalidos: ${(e==null?void 0:e.message)??"verifica la informacion ingresada."}`},HU=t=>{try{return $C.parse(t)}catch(e){throw e instanceof Is?new Error(qU(e)):e}},GU=t=>ze.fromDate(new Date(t)),yy=t=>{const e=t==null?void 0:t.trim();return e&&e.length>0?e:null},$U=(t,e)=>{var n;return{title:t.title,description:t.description,category:t.category,dateISO:t.date,ownerName:yy(e==null?void 0:e.name)??null,ownerEmail:yy((n=e==null?void 0:e.email)==null?void 0:n.toLowerCase())??null,ownerRole:yy(e==null?void 0:e.role)??null}},KU=async t=>t.payload&&typeof t.payload=="object"?BU(t.payload):{title:typeof t.title=="string"?t.title:"",description:typeof t.description=="string"?t.description:"",category:typeof t.category=="string"?t.category:"",dateISO:typeof t.date=="string"?t.date:t.date instanceof ze?t.date.toDate().toISOString():"",ownerName:typeof t.ownerName=="string"?t.ownerName:null,ownerEmail:typeof t.ownerEmail=="string"?t.ownerEmail:null,ownerRole:typeof t.ownerRole=="string"?t.ownerRole:null},YU=async(t,e)=>{const n=HU(t),s=ze.now(),a=$U(n,e),l=await zU(a),c=bm(Vn,p_),h={uid:n.uid,date:GU(n.date),createdAt:s,updatedAt:s,payload:l,encryptionVersion:l.version};try{return{id:(await Xj(c,h)).id,uid:h.uid,title:a.title,description:a.description,category:a.category,date:h.date,createdAt:h.createdAt,updatedAt:h.updatedAt,ownerName:a.ownerName,ownerEmail:a.ownerEmail,ownerRole:a.ownerRole}}catch(f){throw console.error("[Firestore] Failed to create report:",f),new Error("No se pudo crear el reporte en Firestore.")}},XU=async t=>{const e=t.data(),n=await KU(e);return{id:t.id,uid:typeof e.uid=="string"?e.uid:"",title:n.title,description:n.description,category:n.category,date:e.date??ze.now(),createdAt:e.createdAt??ze.now(),updatedAt:e.updatedAt??ze.now(),ownerName:n.ownerName,ownerEmail:n.ownerEmail,ownerRole:n.ownerRole}},QU=async t=>{try{const e=bm(Vn,p_),n=r_(e,a_("uid","==",t)),s=await u_(n);return(await Promise.all(s.docs.map(XU))).sort((l,c)=>c.updatedAt.toMillis()-l.updatedAt.toMillis())}catch(e){throw console.error("[Firestore] Failed to fetch reports for user:",e),new Error("No se pudieron obtener los reportes del usuario.")}},ZU=async t=>{try{const e=es(Vn,p_,t);await Yj(e)}catch(e){throw console.error(`[Firestore] Failed to delete report (${t}):`,e),new Error("No se pudo eliminar el reporte.")}},lw=/@(institucion\.mx|aefcm\.gob\.mx)$/i,WU="Usa un correo institucional autorizado (termina en @institucion.mx o @aefcm.gob.mx).",JU=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{10,}$/,e8=["- Minimo 10 caracteres.","- Incluye al menos una letra mayuscula.","- Incluye al menos una letra minuscula.","- Incluye al menos un numero."].join(`
`),Xd="SECUNDARIA 310 PRESIDENTES DE MEXICO",t8=["Seguimiento","Incidencia","Planeacion","Otro"],uw="teacher",vy=t=>nw[t??uw]??nw[uw],Qd={email:"",password:""},_y={nombreCompleto:"",email:"",password:""},cw={title:"",description:"",category:"",date:""},n8=({onNavigateHome:t})=>{const{user:e,loading:n}=xC(),[s,a]=D.useState("chooser"),[l,c]=D.useState(Qd),[h,f]=D.useState(_y),[p,y]=D.useState(!1),[_,S]=D.useState(!1),[w,C]=D.useState(null),[k,P]=D.useState(null),[j,Q]=D.useState(null),[H,ae]=D.useState(!1),[oe,ce]=D.useState(null),[I,R]=D.useState(null),[N,M]=D.useState(!1),[U,B]=D.useState(null),[O,We]=D.useState(!1),[ct,Z]=D.useState(!1),[re,he]=D.useState(!1),[we,Ie]=D.useState([]),[L,W]=D.useState(!1),[se,fe]=D.useState(null),[ge,Oe]=D.useState(cw),[Me,ht]=D.useState(!1),[Je,qt]=D.useState(null),[Kn,wn]=D.useState(null),xn=l.email.trim().toLowerCase(),an=h.email.trim().toLowerCase(),Si=(j==null?void 0:j.email)??(e==null?void 0:e.email)??"",Ai=Si.length>0,Et=D.useMemo(()=>e?`docentes/${e.uid}`:"docentes/unknown",[e==null?void 0:e.uid]),pn=D.useMemo(()=>j!=null&&j.rol?NL(j.rol):jl,[j==null?void 0:j.rol]),Bi=D.useMemo(()=>an?lw.test(an):!0,[an]),Yn=D.useMemo(()=>{const ve=h.nombreCompleto.trim();return ve?ve.length<6?{status:"error",message:"Incluye tu nombre y al menos un apellido."}:ve.split(/\s+/).length<2?{status:"error",message:"Agrega tus apellidos para validar el registro."}:/^[A-Z\s'.-]+$/i.test(ve)?{status:"valid",message:"Nombre listo para validar contra la plantilla autorizada."}:{status:"error",message:"Usa solo letras y espacios en tu nombre."}:{status:"idle",message:"Captura tu nombre completo tal como aparece en la plantilla."}},[h.nombreCompleto]),ai=D.useMemo(()=>h.email.trim()?Bi?{status:"valid",message:"Correo institucional verificado."}:{status:"error",message:"El correo no pertenece a la institucin. Usa una cuenta autorizada."}:{status:"idle",message:WU},[h.email,Bi]),ts=D.useMemo(()=>{const ve=h.password.trim();return ve?JU.test(ve)?{status:"valid",message:"Contrasena segura y lista para usar."}:{status:"error",message:"Incluye 10 caracteres, mayuscula, minuscula y numero."}:{status:"idle",message:"Crea una contrasena segura para tu cuenta."}},[h.password]),La=D.useMemo(()=>({nombreCompleto:Yn,email:ai,password:ts}),[Yn,ai,ts]),tn=D.useMemo(()=>Yn.status==="valid"&&ai.status==="valid"&&ts.status==="valid",[Yn.status,ai.status,ts.status]),Fi=(j==null?void 0:j.autorizado)===!0,He=p||_||Me||O,mt=(ve=pn,De="md")=>E.jsx("figure",{className:`card-brand card-brand--${De}`,children:E.jsx("img",{src:ve.image,alt:ve.label})}),jn=()=>{C(null),P(null)},Os=ve=>{a(ve),jn(),c(Qd),f(_y),S(!1)},vr=ve=>De=>{jn(),c(jt=>({...jt,[ve]:De.target.value}))},cu=(ve,De)=>{jn();const jt=ve==="nombreCompleto"?De.toUpperCase():De;f(Un=>({...Un,[ve]:jt}))},ks=async ve=>{ve.preventDefault(),jn(),y(!0);try{if(!xn||!l.password){C("Completa tu correo y contrasena.");return}const De=await oL(xn,l.password);await vL(De.uid,De.email??xn),c(Qd),a("chooser")}catch(De){console.error("[SASE-310] Login failed:",De),C(De instanceof Error?De.message:"No fue posible iniciar sesion.")}finally{y(!1)}},ns=async()=>{if(C(null),P(null),!xn){C("Escribe tu correo institucional para recuperar tu contrasena.");return}if(!lw.test(xn)){C("Usa un correo institucional autorizado antes de solicitar el restablecimiento.");return}S(!0);try{await lL(xn),P("Te enviamos instrucciones para restablecer tu contrasena. Revisa tu bandeja de entrada.")}catch(ve){console.error("[SASE-310] Password reset failed:",ve),C(ve instanceof Error?ve.message:"No pudimos enviar el correo de restablecimiento.")}finally{S(!1)}},on=async ve=>{if(ve.preventDefault(),jn(),Yn.status!=="valid"){C(Yn.message??"Revisa tu nombre completo.");return}if(ai.status!=="valid"){C(ai.message??"Usa un correo institucional valido.");return}if(ts.status!=="valid"){C(ts.message??"Completa una contrasena segura.");return}const De=h.nombreCompleto.trim().toUpperCase(),jt=h.password.trim();y(!0);try{const{user:Un,profile:Ba}=await yL({nombreCompleto:De,email:an,password:jt});await iw(Un.uid,{nombre:De,plantel:Xd}),f(_y),P("Registro recibido. Vinculamos tu perfil automaticamente, espera unos segundos."),Q(Ba),a("chooser")}catch(Un){console.error("[SASE-310] Register failed:",Un),C(Un instanceof Error?Un.message:"No fue posible completar el registro.")}finally{y(!1)}},Ln=async()=>{y(!0);try{await OC(),a("chooser"),c(Qd),t==null||t()}catch(ve){console.error("[SASE-310] Logout failed:",ve),C("No fue posible cerrar sesion. Intenta nuevamente.")}finally{y(!1)}},Pt=D.useCallback(async()=>{if(!e||!Fi){Ie([]);return}W(!0),fe(null);try{const ve=await QU(e.uid);Ie(ve)}catch(ve){console.error("[SASE-310] Failed to fetch reports:",ve),fe("No fue posible cargar los reportes.")}finally{W(!1)}},[e,Fi]);D.useEffect(()=>{Pt()},[Pt]),D.useEffect(()=>{if(!e){Q(null),ae(!1),ce(null);return}ae(!0),ce(null);const ve=EL(e.uid,De=>{Q(De),ae(!1)},De=>{console.error("[SASE-310] observeUserProfile error:",De),ce("No fue posible cargar tu perfil docente."),ae(!1)});return()=>{ve()}},[e]),D.useEffect(()=>{if(!j||Fi)return;const ve=window.setTimeout(()=>{t==null||t(),a("chooser")},4e3);return()=>window.clearTimeout(ve)},[j,Fi,t]),D.useEffect(()=>{if(!e){R(null),M(!1),B(null);return}M(!0),B(null);const ve=SL(e.uid,De=>{R(De),M(!1)},De=>{console.error("[SASE-310] observeTeacherProfile error:",De),B("No fue posible cargar tus datos docentes."),M(!1)});return()=>{ve()}},[e]),D.useEffect(()=>{var De,jt;if(!e||!j||I||N||O)return;const ve=((De=j.nombreCompleto)==null?void 0:De.trim().toUpperCase())??((jt=j.email)==null?void 0:jt.toUpperCase())??"DOCENTE";We(!0),B(null),iw(e.uid,{nombre:ve,plantel:Xd}).catch(Un=>{console.error("[SASE-310] Auto save teacher profile failed:",Un),B("No pudimos vincular tus datos docentes automaticamente.")}).finally(()=>{We(!1)})},[e,j,I,N,O]);const _r=ve=>De=>{qt(null),wn(null),Oe(jt=>({...jt,[ve]:De.target.value}))},Ua=async ve=>{if(ve.preventDefault(),!e){qt("Debes iniciar sesion para crear un reporte.");return}if(!Fi){qt("Tu cuenta aun no ha sido autorizada.");return}ht(!0),qt(null),wn(null);try{const De={title:ge.title.trim(),description:ge.description.trim(),category:ge.category.trim(),date:ge.date.trim(),uid:e.uid},jt={name:(j==null?void 0:j.nombreCompleto)??(I==null?void 0:I.nombre)??null,email:e.email??null,role:(j==null?void 0:j.rol)??null};await YU(De,jt),Oe({...cw,category:De.category}),wn("Reporte creado correctamente."),await Pt()}catch(De){console.error("[SASE-310] Create report failed:",De),qt(De instanceof Error?De.message:"No fue posible crear el reporte.")}finally{ht(!1)}},jo=async ve=>{ht(!0),qt(null),wn(null);try{await ZU(ve),wn("Reporte eliminado."),await Pt()}catch(De){console.error("[SASE-310] Delete report failed:",De),qt("No fue posible eliminar el reporte.")}finally{ht(!1)}},Ms=()=>E.jsxs("section",{className:"card space-y-4",children:[mt(jl),E.jsxs("header",{children:[E.jsx("h2",{className:"text-xl font-display text-white",children:"SASE-310 Piloto"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Elige como deseas continuar."})]}),E.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-4",children:[E.jsx("button",{type:"button",className:"btn btn-primary w-full",onClick:()=>Os("login"),disabled:He,children:"Ingresar con correo y contrasena"}),E.jsx("button",{type:"button",className:"btn btn-secondary w-full",onClick:()=>Os("register"),disabled:He,children:"Registrate"})]})]}),wi=()=>E.jsxs("section",{className:"card space-y-4",children:[mt(jl),E.jsxs("header",{className:"space-y-2",children:[E.jsx("h2",{className:"text-xl font-display text-white",children:"Ingresar"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Usa tu correo institucional u oficial. Si no tienes cuenta, vuelve y elige la opcion de registro."})]}),E.jsxs("form",{onSubmit:ks,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"login-email",children:"Correo"}),E.jsx("input",{id:"login-email",type:"email",className:"input-field w-full",placeholder:"ej. docente@aefcm.gob.mx",value:l.email,onChange:vr("email"),disabled:He,required:!0,autoComplete:"email"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"login-password",children:"Contrasena"}),E.jsx("input",{id:"login-password",type:"password",className:"input-field w-full",placeholder:"Tu contrasena",value:l.password,onChange:vr("password"),disabled:He,required:!0,autoComplete:"current-password"})]}),w?E.jsx("p",{className:"text-sm text-red-400",children:w}):null,k?E.jsx("p",{className:"text-sm text-emerald-400",children:k}):null,E.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[E.jsx("button",{type:"button",className:"btn btn-secondary md:w-auto w-full",onClick:()=>Os("chooser"),children:"Volver"}),E.jsx("button",{type:"submit",className:"btn btn-primary md:w-auto w-full",disabled:He||!l.email||!l.password,children:p?"Ingresando...":"Ingresar"})]}),E.jsx("button",{type:"button",className:"link-button md:self-end",onClick:ns,disabled:_||He,children:_?"Enviando instrucciones...":"Olvidaste tu contrasena?"})]})]}),is=()=>E.jsxs("section",{className:"card space-y-5",children:[mt(jl),E.jsxs("header",{className:"space-y-2",children:[E.jsx("h2",{className:"text-xl font-display text-white",children:"Registro con lista blanca"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Validamos tu nombre contra la plantilla autorizada. Si coincide y no se ha usado, tu cuenta queda activa de inmediato."})]}),E.jsx(CU,{values:h,submitting:p,serverError:w,passwordHint:e8,validation:La,canSubmit:tn,onChange:cu,onSubmit:on,onCancel:()=>Os("chooser")}),k?E.jsx("p",{className:"text-sm text-emerald-400",children:k}):null,E.jsxs("p",{className:"text-xs text-gray-500",children:["La lista blanca se gestiona desde Firestore. Cada docente cuenta con un unico acceso asignado y se vincula automaticamente al plantel ",Xd,"."]})]}),oi=()=>E.jsx("section",{className:"space-y-6",children:E.jsxs("div",{className:"card",children:[mt(pn,"sm"),E.jsx("p",{className:"text-sm text-gray-400",children:"Validando permisos docentes..."})]})}),Xn=()=>E.jsxs("section",{className:"space-y-6",children:[E.jsxs("div",{className:"card",children:[mt(pn,"sm"),E.jsx("h3",{className:"text-lg font-display mb-2",children:"No fue posible cargar tu perfil docente"}),E.jsx("p",{className:"text-sm text-red-400",children:oe}),E.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Intenta cerrar sesion y volver a ingresar."})]}),E.jsxs("div",{className:"card flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[E.jsx("p",{className:"text-sm text-gray-400",children:"Puedes volver al menu principal si lo prefieres."}),E.jsx("button",{type:"button",className:"btn btn-secondary md:w-auto w-full",onClick:Ln,disabled:He,children:"Cerrar sesion"})]})]}),ss=()=>E.jsx("section",{className:"space-y-6",children:E.jsxs("div",{className:"card space-y-3",children:[mt(pn,"sm"),E.jsx("h3",{className:"text-lg font-display text-white",children:"Registrando datos docentes..."}),E.jsxs("p",{className:"text-sm text-gray-400",children:["Estamos vinculando tu perfil con el plantel ",Xd,". Este paso ocurre automaticamente la primera vez que ingresas."]}),O?E.jsx("p",{className:"text-sm text-gray-400",children:"Guardando informacion..."}):null,U?E.jsx("p",{className:"text-sm text-red-400",children:U}):E.jsx("p",{className:"text-xs text-gray-500",children:"Puedes permanecer en esta pantalla; en segundos te mostraremos el modulo cuando la sincronizacion finalice."})]})}),Er=()=>E.jsxs("section",{className:"card space-y-4",children:[mt(pn),E.jsx("h3",{className:"text-lg font-display text-white",children:"Preregistro recibido"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Tu cuenta esta en validacion. Te avisaremos al correo cuando puedas ingresar al modulo."}),E.jsxs("div",{className:"rounded-md border border-gray-800 bg-black/20 p-3 text-xs text-gray-300 space-y-1",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold text-white",children:"Correo:"})," ",(e==null?void 0:e.email)??"Sin correo"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold text-white",children:"Rol asignado:"})," ",vy(j==null?void 0:j.rol)]})]}),E.jsx("p",{className:"text-xs text-gray-500",children:"Te enviaremos un aviso cuando la cuenta este autorizada. Esta ventana se cerrara automaticamente."})]}),za=()=>E.jsxs("section",{className:"card space-y-4",children:[E.jsx("div",{className:"flex justify-center md:justify-end",children:mt(pn,"sm")}),E.jsxs("header",{className:"space-y-2",children:[E.jsx("h3",{className:"text-lg font-display text-white",children:"Datos protegidos"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Confirma tu contrasena institucional para consultar los datos asociados a tu perfil docente."})]}),ct?E.jsxs("dl",{className:"space-y-2 text-sm text-gray-300",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("dt",{className:"font-semibold text-white",children:"Plantel asignado"}),E.jsx("dd",{children:(I==null?void 0:I.plantel)??"Sin registro"})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("dt",{className:"font-semibold text-white",children:"Nombre oficial"}),E.jsx("dd",{children:(j==null?void 0:j.nombreCompleto)??(I==null?void 0:I.nombre)??"Sin registro"})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("dt",{className:"font-semibold text-white",children:"Correo institucional"}),E.jsx("dd",{children:(j==null?void 0:j.email)??e.email??"Sin correo"})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("dt",{className:"font-semibold text-white",children:"Rol operativo"}),E.jsx("dd",{children:vy(j==null?void 0:j.rol)})]})]}):E.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[E.jsxs("div",{className:"flex-1 text-sm text-gray-400",children:["La informacion sensible permanece oculta hasta validar tu identidad.",Ai?null:E.jsx("p",{className:"mt-2 text-xs text-yellow-400",children:"No detectamos un correo institucional vinculado. Solicita asistencia al administrador."})]}),E.jsx("button",{type:"button",className:"btn btn-secondary sm:w-auto w-full",onClick:()=>he(!0),disabled:He||!Ai,children:"Desbloquear datos sensibles"})]})]}),qi=()=>E.jsxs("header",{className:"card flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[E.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[mt(pn,"sm"),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-display text-[var(--accent-1)]",children:"SASE-310 Reportes"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Gestiona reportes vinculados a tu cuenta docente."})]})]}),E.jsxs("div",{className:"flex flex-col items-start gap-2 md:items-end",children:[E.jsxs("div",{className:"text-sm text-gray-300",children:[E.jsx("span",{className:"font-semibold text-white",children:(e==null?void 0:e.email)??"Sin correo"}),E.jsxs("span",{className:"block text-xs text-gray-500",children:["Rol: ",vy(j==null?void 0:j.rol)]})]}),E.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Ln,disabled:He,children:p?"Cerrando sesion...":"Cerrar sesion"}),E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{t==null||t()},disabled:He,children:"Volver al menu"})]})]})]}),rs=()=>E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"text-lg font-display mb-4",children:"Crear nuevo reporte"}),E.jsxs("form",{onSubmit:Ua,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"report-title",children:"Titulo"}),E.jsx("input",{id:"report-title",type:"text",className:"input-field w-full",placeholder:"Ej. Seguimiento de clase",value:ge.title,onChange:_r("title"),disabled:He,required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"report-description",children:"Descripcion"}),E.jsx("textarea",{id:"report-description",className:"input-field w-full h-32",placeholder:"Describe la situacion o seguimiento",value:ge.description,onChange:_r("description"),disabled:He,required:!0})]}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"report-category",children:"Categoria"}),E.jsxs("select",{id:"report-category",className:"input-field w-full",value:ge.category,onChange:_r("category"),disabled:He,required:!0,children:[E.jsx("option",{value:"",children:"Selecciona una categoria"}),t8.map(ve=>E.jsx("option",{value:ve,children:ve},ve))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block mb-1 text-sm text-gray-300",htmlFor:"report-date",children:"Fecha"}),E.jsx("input",{id:"report-date",type:"date",className:"input-field w-full",value:ge.date,onChange:_r("date"),disabled:He,required:!0})]})]}),Je?E.jsx("p",{className:"text-sm text-red-400",children:Je}):null,Kn?E.jsx("p",{className:"text-sm text-emerald-400",children:Kn}):null,E.jsx("button",{type:"submit",className:"btn btn-primary",disabled:He,children:Me?"Guardando...":"Guardar reporte"})]})]}),nn=()=>E.jsxs("div",{className:"card",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-lg font-display",children:"Historial de reportes"}),E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>void Pt(),disabled:He,children:"Recargar"})]}),L?E.jsx("p",{className:"text-sm text-gray-400",children:"Cargando reportes..."}):null,se?E.jsx("p",{className:"text-sm text-red-400",children:se}):null,!L&&we.length===0&&!se?E.jsx("p",{className:"text-sm text-gray-400",children:"Aun no has registrado reportes."}):null,E.jsx("ul",{className:"space-y-3",children:we.map(ve=>E.jsxs("li",{className:"bg-black/30 border border-gray-800 rounded-lg p-3",children:[E.jsxs("header",{className:"flex items-start justify-between gap-3",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"text-base font-semibold text-white",children:ve.title}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Creado: ",ve.createdAt.toDate().toLocaleString()," | Ultima actualizacion:"," ",ve.updatedAt.toDate().toLocaleString()]}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Categoria: ",ve.category," | Fecha de aplicacion: ",ve.date.toDate().toLocaleDateString()]})]}),E.jsx("button",{type:"button",className:"btn btn-secondary text-xs px-2 py-1",onClick:()=>void jo(ve.id),disabled:He,children:"Eliminar"})]}),E.jsx("p",{className:"text-sm text-gray-200 mt-2 whitespace-pre-wrap",children:ve.description})]},ve.id))})]});return e?H||N?oi():oe?Xn():I?Fi?E.jsxs(E.Fragment,{children:[E.jsxs("section",{className:"space-y-6",children:[qi(),za(),rs(),nn()]}),E.jsx(DU,{isOpen:re&&Ai,onClose:()=>he(!1),onReauthenticated:()=>Z(!0),email:Si,resource:Et,reason:"Consulta de datos sensibles del perfil docente"})]}):Er():ss():s==="login"?wi():s==="register"?is():Ms()};class i8 extends On.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:void 0})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("[UI] Unhandled rendering error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:E.jsxs("div",{className:"error-fallback",children:[E.jsx("h2",{children:"Ocurri un problema."}),E.jsx("p",{children:((e=this.state.error)==null?void 0:e.message)??"La interfaz no pudo renderizarse correctamente."}),E.jsx("button",{type:"button",onClick:this.handleReset,children:"Reintentar"})]}):this.props.children}}const s8=({open:t,onClose:e,user:n,onOpenSase:s,onShowSecurity:a,variant:l="modal"})=>{const[c,h]=D.useState("grid"),f=l==="floating",p=D.useMemo(()=>[{id:"reports",label:"Reportes",description:"Bitcora integral",icon:BC,accent:"jade"},{id:"planner",label:"Planeador",description:"Rutas y evidencias",icon:oU},{id:"calendar",label:"Horario",description:"Semana docente",icon:LC},{id:"notes",label:"Notas",description:"Seguimiento rpido",icon:vU},{id:"backup",label:"Backup & Sync",description:"Google Drive",icon:JL,accent:"gold"},{id:"alerts",label:"Avisos",description:"Recordatorios",icon:UL},{id:"security",label:"Seguridad",description:"PIN / Biomtrico",icon:zC,action:a},{id:"support",label:"Soporte Ateni",description:"Tutoriales",icon:hU},{id:"sessions",label:"Sesiones",description:"Historial",icon:jL,disabled:!0},{id:"sase",label:"Mdulo SASE-310",description:"Entrar ahora",icon:ZL,accent:"magenta",action:s}],[s,a]);return t?E.jsxs("div",{className:`global-menu ${f?"global-menu--floating":""}`,role:"dialog","aria-modal":!f,"aria-label":"Men general AtemiMX",children:[f?null:E.jsx("div",{className:"global-menu__backdrop",onClick:e,"aria-hidden":"true"}),E.jsxs("div",{className:"global-menu__panel",children:[E.jsxs("header",{className:"global-menu__header",children:[E.jsxs("div",{className:"global-menu__heading",children:[E.jsx("p",{children:"AtemiMX"}),E.jsx("h2",{children:"Men general"})]}),E.jsxs("div",{className:"global-menu__header-actions",children:[E.jsx("button",{type:"button",className:`global-menu__toggle ${c==="grid"?"is-active":""}`,"aria-label":"Vista en cuadrcula",onClick:()=>h("grid"),children:E.jsx(rU,{size:18,"aria-hidden":!0})}),E.jsx("button",{type:"button",className:`global-menu__toggle ${c==="list"?"is-active":""}`,"aria-label":"Vista en lista",onClick:()=>h("list"),children:E.jsx(iU,{size:18,"aria-hidden":!0})}),E.jsx("button",{type:"button",className:"global-menu__close",onClick:e,"aria-label":"Cerrar men",children:E.jsx(FC,{size:18,"aria-hidden":!0})})]})]}),E.jsx("div",{className:`global-menu__content global-menu__content--${c}`,children:p.map(y=>{const _=y.icon;return E.jsxs("button",{type:"button",className:`global-menu__item global-menu__item--${y.accent??"default"}`,onClick:()=>y.action?y.action():null,disabled:y.disabled,children:[E.jsx("span",{className:"global-menu__icon",children:E.jsx(_,{size:24,"aria-hidden":!0})}),E.jsxs("span",{className:"global-menu__label",children:[E.jsx("strong",{children:y.label}),E.jsx("small",{children:y.description})]})]},y.id)})}),E.jsxs("footer",{className:"global-menu__footer",children:[E.jsxs("div",{className:"global-menu__status",children:[E.jsx("span",{}),E.jsx("p",{children:n?`Sesin activa  ${n.email??n.displayName??"Docente"}`:"Inicia sesin para acceder a SASE-310"})]}),E.jsx("button",{type:"button",className:"global-menu__cta",onClick:s,children:"Entrar al mdulo SASE-310"})]})]})]}):null},r8=({text:t,speed:e=40,className:n,onComplete:s})=>{const[a,l]=D.useState(""),[c,h]=D.useState(!1);return D.useEffect(()=>{l(""),h(!1);let f=0;const p=setInterval(()=>{f<t.length?(l(y=>y+t.charAt(f)),f++):(clearInterval(p),h(!0),s&&s())},e);return()=>clearInterval(p)},[t,e,s]),E.jsxs("div",{className:n,children:[a,!c&&E.jsx("span",{className:"blinking-cursor",children:"|"})]})},a8=({onStart:t})=>E.jsxs("section",{className:"idea-intro","aria-label":"Introduccin AtemiMX",children:[E.jsx("div",{className:"idea-intro__glow","aria-hidden":"true"}),E.jsxs("div",{className:"idea-intro__content",children:[E.jsx("p",{className:"idea-intro__eyebrow",children:"Idea en prototipo"}),E.jsx(r8,{className:"idea-intro__title",text:"AtemiMX",speed:120}),E.jsx("p",{className:"idea-intro__subtitle",children:"Arquitectura S-SDLC para bienestar escolar."}),E.jsx("p",{className:"idea-intro__description",children:"Imagina la experiencia completa: entrevista inicial, feria de bases, ngel Guardin y el mdulo SASE-310, todo orquestado desde un solo espacio."}),E.jsx("button",{type:"button",className:"idea-intro__cta",onClick:t,children:"Empezar"})]})]}),o8=({open:t,pinEnabled:e,onRequestSetup:n,onDisable:s,onClose:a})=>t?E.jsxs("div",{className:"pin-preferences",role:"dialog","aria-modal":"true","aria-label":"Configuracin de PIN AtemiMX",children:[E.jsx("div",{className:"pin-preferences__backdrop",onClick:a,"aria-hidden":"true"}),E.jsxs("div",{className:"pin-preferences__panel",children:[E.jsxs("header",{children:[E.jsx("p",{children:"AtemiMX"}),E.jsx("h3",{children:"Seguridad y autenticacin"}),E.jsx("p",{className:"pin-preferences__hint",children:"Define cmo quieres volver a entrar a la app cuando regreses desde este dispositivo."})]}),E.jsxs("section",{children:[E.jsx("p",{className:`pin-preferences__status ${e?"is-active":""}`,children:e?"PIN activo para reingreso.":"El PIN an no est configurado."}),E.jsxs("div",{className:"pin-preferences__actions",children:[E.jsx("button",{type:"button",className:"pin-preferences__primary",onClick:n,children:e?"Cambiar PIN":"Configurar PIN"}),e?E.jsx("button",{type:"button",className:"pin-preferences__ghost",onClick:s,children:"Desactivar PIN"}):null]})]}),E.jsx("footer",{children:E.jsx("button",{type:"button",className:"pin-preferences__ghost",onClick:a,children:"Cerrar"})})]})]}):null,l8=({activeView:t,hasSession:e,logoutPending:n=!1,onSelectHome:s,onResetView:a,onSelectSase:l,onSelectAdmin:c,onOpenHelp:h,onOpenSettings:f,onLogout:p,canAccessAdmin:y=!1,onOpenLauncher:_,onToggleCollapse:S,isCollapsed:w})=>E.jsxs("aside",{className:`sidebar ${w?"sidebar--collapsed":""}`,children:[E.jsxs("div",{children:[E.jsxs("div",{className:"sidebar__brand-row",children:[E.jsx("button",{type:"button",className:"sidebar__collapse",onClick:S,"aria-label":w?"Expandir panel lateral":"Contraer panel lateral",children:w?E.jsx(HL,{size:18,"aria-hidden":!0}):E.jsx(FL,{size:18,"aria-hidden":!0})}),E.jsxs("button",{type:"button",className:"sidebar__brand",onClick:a,"aria-label":"Volver al panel base AtemiMX",children:[E.jsxs("span",{className:"sidebar__brand-text",children:[E.jsx("span",{className:"sidebar__brand-accent",children:"Atemi"}),"MX"]}),E.jsx("span",{className:"sidebar__brand-badge",children:"v3.6"})]})]}),E.jsxs("nav",{className:"sidebar__nav",children:[E.jsxs("button",{type:"button",className:"sidebar__nav-item",onClick:_,"aria-label":"Abrir men general AtemiMX",children:[E.jsx(gU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Men general"})]}),E.jsxs("button",{type:"button",className:`sidebar__nav-item ${t==="menu"?"is-active":""}`,onClick:s,"aria-label":"Panel principal AtemiMX",children:[E.jsx(uU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Panel principal"})]}),E.jsxs("button",{type:"button",className:"sidebar__nav-item is-disabled",disabled:!0,children:[E.jsx(EU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Cuaderno"}),E.jsx("span",{className:"sidebar__pill",children:"Pronto"})]}),E.jsxs("button",{type:"button",className:"sidebar__nav-item is-disabled",disabled:!0,children:[E.jsx(LC,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Planeaciones"}),E.jsx("span",{className:"sidebar__pill",children:"Pronto"})]}),E.jsxs("button",{type:"button",className:`sidebar__nav-item ${t==="sase310"?"is-active":""}`,onClick:l,"aria-label":"Ir al mdulo SASE-310",children:[E.jsx(BC,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"SASE-310"}),e?null:E.jsx("span",{className:"sidebar__pill",children:"Login"})]}),y?E.jsxs("button",{type:"button",className:`sidebar__nav-item ${t==="admin"?"is-active":""}`,onClick:c,"aria-label":"Panel de administracin",children:[E.jsx(wU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Administracin"})]}):null]})]}),E.jsxs("div",{className:"sidebar__actions",children:[E.jsxs("button",{type:"button",className:"sidebar__action",onClick:h,children:[E.jsx(XL,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Ayuda"})]}),E.jsxs("button",{type:"button",className:"sidebar__action",onClick:f,children:[E.jsx(bU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:"Configuracin"})]}),E.jsxs("button",{type:"button",className:"sidebar__action sidebar__action--danger",disabled:n||!e,onClick:p,children:[E.jsx(mU,{size:18,"aria-hidden":!0}),E.jsx("span",{children:n?"Saliendo...":"Salir"})]})]})]}),u8=["1","2","3","4","5","6","7","8","9","cancel","0","ok"],c8=({open:t,mode:e,onCancel:n,onSubmit:s,maxDigits:a=6,biometricLabel:l="Touch ID para AtemiMX",errorMessage:c})=>{const[h,f]=D.useState(""),p=w=>{if(w==="cancel"){f(""),n==null||n();return}if(w==="ok"){h.length>0&&(s==null||s(h),f(""));return}h.length>=a||f(C=>C+w)},y=D.useMemo(()=>Array.from({length:a},(w,C)=>C<h.length?"filled":"empty"),[a,h.length]),_=e==="setup"?"Configura un PIN":"Teclea tu PIN",S=e==="setup"?"Define un PIN de seguridad para los prximos ingresos en este dispositivo.":"Protegemos tu bitcora S-SDLC.";return t?E.jsxs("div",{className:"security-pin",role:"dialog","aria-modal":"true","aria-label":"Autenticacin AteniMX",children:[E.jsx("div",{className:"security-pin__pattern","aria-hidden":"true"}),E.jsxs("div",{className:"security-pin__panel",children:[E.jsxs("div",{className:"security-pin__panel-header",children:[E.jsx(zC,{size:24,"aria-hidden":!0}),E.jsx("button",{type:"button",className:"security-pin__close",onClick:n,"aria-label":"Cerrar",children:E.jsx(FC,{size:20,"aria-hidden":!0})})]}),E.jsxs("div",{className:"security-pin__heading",children:[E.jsx("p",{className:"security-pin__eyebrow",children:"Sesin AtemiMX"}),E.jsx("h2",{children:_}),E.jsx("p",{children:S})]}),E.jsx("div",{className:"security-pin__code",children:y.map((w,C)=>E.jsx("span",{className:`security-pin__dot security-pin__dot--${w}`,"aria-hidden":"true"},`pin-dot-${C}`))}),c?E.jsxs("div",{className:"security-pin__error",role:"alert",children:[E.jsx(UC,{size:16,"aria-hidden":!0}),E.jsx("span",{children:c})]}):null,E.jsxs("div",{className:"security-pin__biometric",children:[E.jsxs("div",{className:"security-pin__biometric-card",children:[E.jsx(tU,{size:28,"aria-hidden":!0}),E.jsx("span",{children:l})]}),E.jsx("button",{type:"button",onClick:()=>f(""),children:"Cancelar"})]}),E.jsx("div",{className:"security-pin__keypad",role:"group","aria-label":"Teclado numrico",children:u8.map(w=>E.jsx("button",{type:"button",className:`security-pin__key${w==="ok"?" security-pin__key--ok":w==="cancel"?" security-pin__key--cancel":""}`,onClick:()=>p(w),children:w==="cancel"?"Cancelar":w==="ok"?"OK":w},w))})]})]}):null},h8="modulepreload",d8=function(t,e){return new URL(t,e).href},hw={},ja=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let c=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(n.map(y=>{if(y=d8(y,s),y in hw)return;hw[y]=!0;const _=y.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(!!s)for(let k=h.length-1;k>=0;k--){const P=h[k];if(P.href===y&&(!_||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":h8,_||(C.as="script"),C.crossOrigin="",C.href=y,p&&C.setAttribute("nonce",p),document.head.appendChild(C),_)return new Promise((k,P)=>{C.addEventListener("load",k),C.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var f8=Object.defineProperty,m8=(t,e,n)=>e in t?f8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ey=(t,e,n)=>(m8(t,typeof e!="symbol"?e+"":e,n),n);let p8=class{constructor(){Ey(this,"current",this.detect()),Ey(this,"handoffState","pending"),Ey(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ff=new p8;function g8(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Om(){let t=[],e={addEventListener(n,s,a,l){return n.addEventListener(s,a,l),e.add(()=>n.removeEventListener(s,a,l))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return g8(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,a){let l=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:a}),this.add(()=>{Object.assign(n.style,{[s]:l})})},group(n){let s=Om();return n(s),this.add(()=>s.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let a of t.splice(s,1))a()}},dispose(){for(let n of t.splice(0))n()}};return e}function KC(){let[t]=D.useState(Om);return D.useEffect(()=>()=>t.dispose(),[t]),t}let Ea=(t,e)=>{ff.isServer?D.useEffect(t,e):D.useLayoutEffect(t,e)};function YC(t){let e=D.useRef(t);return Ea(()=>{e.current=t},[t]),e}let or=function(t){let e=YC(t);return On.useCallback((...n)=>e.current(...n),[e])};function x0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function km(t,e,...n){if(t in e){let a=e[t];return typeof a=="function"?a(...n):a}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,km),s}var XC=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(XC||{}),fa=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(fa||{});function QC(){let t=v8();return D.useCallback(e=>y8({mergeRefs:t,...e}),[t])}function y8({ourProps:t,theirProps:e,slot:n,defaultTag:s,features:a,visible:l=!0,name:c,mergeRefs:h}){h=h??_8;let f=ZC(e,t);if(l)return Zd(f,n,s,c,h);let p=a??0;if(p&2){let{static:y=!1,..._}=f;if(y)return Zd(_,n,s,c,h)}if(p&1){let{unmount:y=!0,..._}=f;return km(y?0:1,{0(){return null},1(){return Zd({..._,hidden:!0,style:{display:"none"}},n,s,c,h)}})}return Zd(f,n,s,c,h)}function Zd(t,e={},n,s,a){let{as:l=n,children:c,refName:h="ref",...f}=Ty(t,["unmount","static"]),p=t.ref!==void 0?{[h]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let _={};if(e){let S=!1,w=[];for(let[C,k]of Object.entries(e))typeof k=="boolean"&&(S=!0),k===!0&&w.push(C.replace(/([A-Z])/g,P=>`-${P.toLowerCase()}`));if(S){_["data-headlessui-state"]=w.join(" ");for(let C of w)_[`data-${C}`]=""}}if(Ic(l)&&(Object.keys(yo(f)).length>0||Object.keys(yo(_)).length>0))if(!D.isValidElement(y)||Array.isArray(y)&&y.length>1||T8(y)){if(Object.keys(yo(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(yo(f)).concat(Object.keys(yo(_))).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`))}else{let S=y.props,w=S==null?void 0:S.className,C=typeof w=="function"?(...j)=>x0(w(...j),f.className):x0(w,f.className),k=C?{className:C}:{},P=ZC(y.props,yo(Ty(f,["ref"])));for(let j in _)j in P&&delete _[j];return D.cloneElement(y,Object.assign({},P,_,p,{ref:a(E8(y),p.ref)},k))}return D.createElement(l,Object.assign({},Ty(f,["ref"]),!Ic(l)&&p,!Ic(l)&&_),y)}function v8(){let t=D.useRef([]),e=D.useCallback(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return t.current=n,e}}function _8(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ZC(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let a in s)a.startsWith("on")&&typeof s[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(s[a])):e[a]=s[a];if(e.disabled||e["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let s in n)Object.assign(e,{[s](a,...l){let c=n[s];for(let h of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...l)}}});return e}function g_(t){var e;return Object.assign(D.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function yo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Ty(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function E8(t){return On.version.split(".")[0]>="19"?t.props.ref:t.ref}function Ic(t){return t===D.Fragment||t===Symbol.for("react.fragment")}function T8(t){return Ic(t.type)}let b8=Symbol();function WC(...t){let e=D.useRef(t);D.useEffect(()=>{e.current=t},[t]);let n=or(s=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(s):a.current=s)});return t.every(s=>s==null||(s==null?void 0:s[b8]))?void 0:n}function S8(t=0){let[e,n]=D.useState(t),s=D.useCallback(f=>n(f),[]),a=D.useCallback(f=>n(p=>p|f),[]),l=D.useCallback(f=>(e&f)===f,[e]),c=D.useCallback(f=>n(p=>p&~f),[]),h=D.useCallback(f=>n(p=>p^f),[]);return{flags:e,setFlag:s,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:h}}var A8={},dw,fw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((dw=process==null?void 0:A8)==null?void 0:dw.NODE_ENV)==="test"&&typeof((fw=Element==null?void 0:Element.prototype)==null?void 0:fw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var w8=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(w8||{});function x8(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function R8(t,e,n,s){let[a,l]=D.useState(n),{hasFlag:c,addFlag:h,removeFlag:f}=S8(t&&a?3:0),p=D.useRef(!1),y=D.useRef(!1),_=KC();return Ea(()=>{var S;if(t){if(n&&l(!0),!e){n&&h(3);return}return(S=s==null?void 0:s.start)==null||S.call(s,n),C8(e,{inFlight:p,prepare(){y.current?y.current=!1:y.current=p.current,p.current=!0,!y.current&&(n?(h(3),f(4)):(h(4),f(2)))},run(){y.current?n?(f(3),h(4)):(f(4),h(3)):n?f(1):h(1)},done(){var w;y.current&&D8(e)||(p.current=!1,f(7),n||l(!1),(w=s==null?void 0:s.end)==null||w.call(s,n))}})}},[t,n,e,_]),t?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C8(t,{prepare:e,run:n,done:s,inFlight:a}){let l=Om();return N8(t,{prepare:e,inFlight:a}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(I8(t,s))})}),l.dispose}function I8(t,e){var n,s;let a=Om();if(!t)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(s=(n=t.getAnimations)==null?void 0:n.call(t).filter(h=>h instanceof CSSTransition))!=null?s:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(h=>h.finished)).then(()=>{l||e()}),a.dispose)}function N8(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let s=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=s}function D8(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(s=>s instanceof CSSTransition&&s.playState!=="finished")}let y_=D.createContext(null);y_.displayName="OpenClosedContext";var To=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(To||{});function JC(){return D.useContext(y_)}function O8({value:t,children:e}){return On.createElement(y_.Provider,{value:t},e)}function k8(){let t=typeof document>"u";return"useSyncExternalStore"in BT?(e=>e.useSyncExternalStore)(BT)(()=>()=>{},()=>!1,()=>!t):!1}function e5(){let t=k8(),[e,n]=D.useState(ff.isHandoffComplete);return e&&ff.isHandoffComplete===!1&&n(!1),D.useEffect(()=>{e!==!0&&n(!0)},[e]),D.useEffect(()=>ff.handoff(),[]),t?!1:e}function M8(){let t=D.useRef(!1);return Ea(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function t5(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Ic((e=t.as)!=null?e:i5)||On.Children.count(t.children)===1}let Mm=D.createContext(null);Mm.displayName="TransitionContext";var V8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(V8||{});function P8(){let t=D.useContext(Mm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function j8(){let t=D.useContext(Vm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Vm=D.createContext(null);Vm.displayName="NestingContext";function Pm(t){return"children"in t?Pm(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function n5(t,e){let n=YC(t),s=D.useRef([]),a=M8(),l=KC(),c=or((w,C=fa.Hidden)=>{let k=s.current.findIndex(({el:P})=>P===w);k!==-1&&(km(C,{[fa.Unmount](){s.current.splice(k,1)},[fa.Hidden](){s.current[k].state="hidden"}}),l.microTask(()=>{var P;!Pm(s)&&a.current&&((P=n.current)==null||P.call(n))}))}),h=or(w=>{let C=s.current.find(({el:k})=>k===w);return C?C.state!=="visible"&&(C.state="visible"):s.current.push({el:w,state:"visible"}),()=>c(w,fa.Unmount)}),f=D.useRef([]),p=D.useRef(Promise.resolve()),y=D.useRef({enter:[],leave:[]}),_=or((w,C,k)=>{f.current.splice(0),e&&(e.chains.current[C]=e.chains.current[C].filter(([P])=>P!==w)),e==null||e.chains.current[C].push([w,new Promise(P=>{f.current.push(P)})]),e==null||e.chains.current[C].push([w,new Promise(P=>{Promise.all(y.current[C].map(([j,Q])=>Q)).then(()=>P())})]),C==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>k(C)):k(C)}),S=or((w,C,k)=>{Promise.all(y.current[C].splice(0).map(([P,j])=>j)).then(()=>{var P;(P=f.current.shift())==null||P()}).then(()=>k(C))});return D.useMemo(()=>({children:s,register:h,unregister:c,onStart:_,onStop:S,wait:p,chains:y}),[h,c,s,_,S,y,p])}let i5=D.Fragment,s5=XC.RenderStrategy;function L8(t,e){var n,s;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:h,afterLeave:f,enter:p,enterFrom:y,enterTo:_,entered:S,leave:w,leaveFrom:C,leaveTo:k,...P}=t,[j,Q]=D.useState(null),H=D.useRef(null),ae=t5(t),oe=WC(...ae?[H,e,Q]:e===null?[]:[e]),ce=(n=P.unmount)==null||n?fa.Unmount:fa.Hidden,{show:I,appear:R,initial:N}=P8(),[M,U]=D.useState(I?"visible":"hidden"),B=j8(),{register:O,unregister:We}=B;Ea(()=>O(H),[O,H]),Ea(()=>{if(ce===fa.Hidden&&H.current){if(I&&M!=="visible"){U("visible");return}return km(M,{hidden:()=>We(H),visible:()=>O(H)})}},[M,H,O,We,I,ce]);let ct=e5();Ea(()=>{if(ae&&ct&&M==="visible"&&H.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[H,M,ct,ae]);let Z=N&&!R,re=R&&I&&N,he=D.useRef(!1),we=n5(()=>{he.current||(U("hidden"),We(H))},B),Ie=or(Me=>{he.current=!0;let ht=Me?"enter":"leave";we.onStart(H,ht,Je=>{Je==="enter"?l==null||l():Je==="leave"&&(h==null||h())})}),L=or(Me=>{let ht=Me?"enter":"leave";he.current=!1,we.onStop(H,ht,Je=>{Je==="enter"?c==null||c():Je==="leave"&&(f==null||f())}),ht==="leave"&&!Pm(we)&&(U("hidden"),We(H))});D.useEffect(()=>{ae&&a||(Ie(I),L(I))},[I,ae,a]);let W=!(!a||!ae||!ct||Z),[,se]=R8(W,j,I,{start:Ie,end:L}),fe=yo({ref:oe,className:((s=x0(P.className,re&&p,re&&y,se.enter&&p,se.enter&&se.closed&&y,se.enter&&!se.closed&&_,se.leave&&w,se.leave&&!se.closed&&C,se.leave&&se.closed&&k,!se.transition&&I&&S))==null?void 0:s.trim())||void 0,...x8(se)}),ge=0;M==="visible"&&(ge|=To.Open),M==="hidden"&&(ge|=To.Closed),I&&M==="hidden"&&(ge|=To.Opening),!I&&M==="visible"&&(ge|=To.Closing);let Oe=QC();return On.createElement(Vm.Provider,{value:we},On.createElement(O8,{value:ge},Oe({ourProps:fe,theirProps:P,defaultTag:i5,features:s5,visible:M==="visible",name:"Transition.Child"})))}function U8(t,e){let{show:n,appear:s=!1,unmount:a=!0,...l}=t,c=D.useRef(null),h=t5(t),f=WC(...h?[c,e]:e===null?[]:[e]);e5();let p=JC();if(n===void 0&&p!==null&&(n=(p&To.Open)===To.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,_]=D.useState(n?"visible":"hidden"),S=n5(()=>{n||_("hidden")}),[w,C]=D.useState(!0),k=D.useRef([n]);Ea(()=>{w!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),C(!1))},[k,n]);let P=D.useMemo(()=>({show:n,appear:s,initial:w}),[n,s,w]);Ea(()=>{n?_("visible"):!Pm(S)&&c.current!==null&&_("hidden")},[n,S]);let j={unmount:a},Q=or(()=>{var oe;w&&C(!1),(oe=t.beforeEnter)==null||oe.call(t)}),H=or(()=>{var oe;w&&C(!1),(oe=t.beforeLeave)==null||oe.call(t)}),ae=QC();return On.createElement(Vm.Provider,{value:S},On.createElement(Mm.Provider,{value:P},ae({ourProps:{...j,as:D.Fragment,children:On.createElement(r5,{ref:f,...j,...l,beforeEnter:Q,beforeLeave:H})},theirProps:{},defaultTag:D.Fragment,features:s5,visible:y==="visible",name:"Transition"})))}function z8(t,e){let n=D.useContext(Mm)!==null,s=JC()!==null;return On.createElement(On.Fragment,null,!n&&s?On.createElement(R0,{ref:e,...t}):On.createElement(r5,{ref:e,...t}))}let R0=g_(U8),r5=g_(L8),B8=g_(z8),by=Object.assign(R0,{Child:B8,Root:R0});var Jt=(t=>(t.Teacher="teacher",t.Guidance="guidance",t.Admin="admin",t.Prefect="prefect",t.Student="student",t))(Jt||{}),Cl=(t=>(t.Disciplinary="Disciplinario",t.SocioEmotional="Socio-emocional",t.Academic="Acadmico",t.Attendance="Asistencia",t))(Cl||{}),ca=(t=>(t.New="Nuevo",t.InProgress="En Progreso",t.Resolved="Resuelto",t))(ca||{}),Il=(t=>(t.High="Alta",t.Medium="Media",t.Low="Baja",t))(Il||{});const F8=t=>E.jsxs("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",...t,children:[E.jsx("defs",{children:E.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[E.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:1}}),E.jsx("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:1}})]})}),E.jsx("text",{x:"0",y:"22",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGradient)",children:"Atemi"}),E.jsx("text",{x:"75",y:"22",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"300",fill:"#4b5563",children:"MX"})]}),ut=t=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:t.children}),q8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})}),H8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-2.429 0-4.5 1.755-4.5 4.5v.255c-.95.24-1.809.59-2.618 1.052A9.738 9.738 0 002.25 12c0 2.868 1.22 5.457 3.22 7.282.995.922 2.203 1.543 3.53 1.874A.75.75 0 0010.5 21v-1.556c1.17.22 2.339.22 3.509 0V21a.75.75 0 001.5 0v-1.398a6.836 6.836 0 003.53-1.874C20.53 17.457 21.75 14.868 21.75 12a9.738 9.738 0 00-2.632-6.443 13.682 13.682 0 00-2.618-1.052V6.75c0-2.745-2.071-4.5-4.5-4.5zM15 6.75v.255a8.25 8.25 0 00-6 0V6.75c0-1.5.75-3 3-3s3 1.5 3 3zM12 10.5a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z",clipRule:"evenodd"})}),G8=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{d:"M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"}),E.jsx("path",{d:"M12 5.432l8.159 8.159c.026.026.05.054.07.084v6.175a2.25 2.25 0 01-2.25 2.25H6.a2.25 2.25 0 01-2.25-2.25v-6.175a.973.973 0 01.07-.084L12 5.432z"})]}),Sy=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{d:"M3.375 4.5A2.25 2.25 0 015.625 2.25h12.75c1.243 0 2.25 1.007 2.25 2.25v3.83c-1.233-.73-2.65-1.162-4.125-1.162h-7.5c-1.475 0-2.892.432-4.125 1.162V4.5z"}),E.jsx("path",{fillRule:"evenodd",d:"M3 10.165v-.195c.98-.58 2.083-.935 3.25-1.022v.121a3 3 0 003 3h4.5a3 3 0 003-3v-.12c1.167.087 2.27.442 3.25 1.022v.195c0 1.243-1.007 2.25-2.25 2.25H5.25A2.25 2.25 0 013 10.165zM3.375 14.25a2.25 2.25 0 012.25-2.25h12.75a2.25 2.25 0 012.25 2.25v3.75a2.25 2.25 0 01-2.25-2.25H5.625a2.25 2.25 0 01-2.25-2.25v-3.75z",clipRule:"evenodd"})]}),$8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"})}),K8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.543A6.001 6.001 0 005.812 6.643a1.85 1.85 0 00-2.43 1.094 6.001 6.001 0 00-1.094 2.43 1.85 1.85 0 00-1.543 1.85c0 .916.663 1.699 1.543 1.85a6.001 6.001 0 001.094 2.43 1.85 1.85 0 002.43 1.094 6.001 6.001 0 002.43 1.094 1.85 1.85 0 001.85 1.543c.916 0 1.699-.663 1.85-1.543a6.001 6.001 0 002.43-1.094 1.85 1.85 0 001.094-2.43 6.001 6.001 0 001.094-2.43 1.85 1.85 0 001.543-1.85c0-.916-.663-1.699-1.543-1.85a6.001 6.001 0 00-1.094-2.43 1.85 1.85 0 00-1.094-2.43 6.001 6.001 0 00-2.43-1.094A1.85 1.85 0 0011.078 2.25zM12 15a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),mw=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M1.5 2.625c0-.986.89-1.775 1.992-1.626a5.25 5.25 0 014.288 4.288C7.901 6.275 7.11 7.165 6.125 7.165H3.375A1.875 1.875 0 011.5 5.25v-2.625zM22.5 16.335c0 .986-.89 1.775-1.992 1.626a5.25 5.25 0 01-4.288-4.288c-.149-1.008.642-1.898 1.627-1.898h2.75a1.875 1.875 0 011.875 1.875v2.685zM12.75 1.5a.75.75 0 00-1.5 0v.503a5.23 5.23 0 014.73 4.73h.503a.75.75 0 000-1.5h-.43a3.73 3.73 0 00-3.3-3.3v-.43zM8.25 8.25A.75.75 0 009 7.5h.503a5.23 5.23 0 014.73 4.73v.503a.75.75 0 001.5 0v-.43a3.73 3.73 0 00-3.3-3.3h-.43a.75.75 0 00-.75.75z",clipRule:"evenodd"})}),Y8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 00-1.5 0v3.75a.75.75 0 01-.75.75h-4.5a.75.75 0 01-.75-.75V5.25a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75V9a.75.75 0 001.5 0V5.25a1.5 1.5 0 00-1.5-1.5h-6zM15.06 12L12 8.94a.75.75 0 011.06-1.06l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 11-1.06-1.06L15.06 12z",clipRule:"evenodd"})}),X8=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"})}),pw=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{d:"M4.5 6.375a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zM4.5 10.125a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zM4.5 13.875a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75z"}),E.jsx("path",{fillRule:"evenodd",d:"M2.25 3A1.5 1.5 0 013.75 1.5h16.5A1.5 1.5 0 0121.75 3v18A1.5 1.5 0 0120.25 22.5H3.75A1.5 1.5 0 012.25 21V3zm1.5.75v16.5h15V3.75h-15z",clipRule:"evenodd"})]}),Q8=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{d:"M11.723 3.322a1.5 1.5 0 01.554 0l7.5 3a1.5 1.5 0 010 2.656l-7.5 3a1.5 1.5 0 01-.554 0l-7.5-3a1.5 1.5 0 010-2.656l7.5-3z"}),E.jsx("path",{fillRule:"evenodd",d:"M3.322 8.018a.75.75 0 01.63.13l7.5 5.25a.75.75 0 00.996 0l7.5-5.25a.75.75 0 01.76.018.75.75 0 01.629 1.056l-7.5 10.5a.75.75 0 01-1.22-.001l-7.5-10.5a.75.75 0 01.63-.13z",clipRule:"evenodd"})]}),Oz=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{fillRule:"evenodd",d:"M12 3.75A2.25 2.25 0 009.75 6v1.5H6A2.25 2.25 0 003.75 9.75v7.5A2.25 2.25 0 006 19.5h12A2.25 2.25 0 0020.25 17.25v-7.5A2.25 2.25 0 0018 7.5h-3.75V6A2.25 2.25 0 0012 3.75zM12.75 7.5V6a.75.75 0 00-.75-.75h-.008a.75.75 0 00-.742.75v1.5h1.5z",clipRule:"evenodd"}),E.jsx("path",{d:"M5.25 9.75A.75.75 0 006 10.5h12a.75.75 0 000-1.5H6a.75.75 0 00-.75.75z"})]}),kz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M10.868 2.854a.75.75 0 011.264 0l8.25 14.25a.75.75 0 01-.632 1.146H2.25a.75.75 0 01-.632-1.146l8.25-14.25zM12 15a.75.75 0 01-.75-.75V12a.75.75 0 011.5 0v2.25A.75.75 0 0112 15zm0-4.5a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75s.75-.336.75-.75V11.25a.75.75 0 00-.75-.75z",clipRule:"evenodd"})}),Mz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z",clipRule:"evenodd"})}),Vz=t=>E.jsx(ut,{...t,children:E.jsx("path",{d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Pz=t=>E.jsx(ut,{...t,children:E.jsx("path",{d:"M3.75 3.75A.75.75 0 003 4.5v3.199c0 .428.18.832.488 1.118l3.054 2.871-.16.037a.75.75 0 00-.58 1.054l1.52 3.801a.75.75 0 001.44-.241l1.52-3.801a.75.75 0 00-.58-1.054l-3.054-2.87-.16-.036a.75.75 0 00-.488-1.118V4.5A.75.75 0 003.75 3.75zM13.5 3.75a.75.75 0 01.75.75v9.099l3.47 3.251a.75.75 0 01-.98 1.132l-3.99-3.722a.75.75 0 01-.22-.53V4.5a.75.75 0 01.75-.75z"})}),jz=t=>E.jsx(ut,{...t,children:E.jsx("path",{d:"M12 18.75a6 6 0 006-6v-1.5a6 6 0 00-12 0v1.5a6 6 0 006 6zM10.5 5.25a.75.75 0 00-1.5 0v.161a8.25 8.25 0 00-1.523 6.342.75.75 0 001.49.162A6.75 6.75 0 0112 5.25a6.75 6.75 0 016.745 6.665.75.75 0 001.49-.162A8.25 8.25 0 0013.5 5.411V5.25a.75.75 0 00-1.5 0v.503a6.75 6.75 0 01-1.5-.503V5.25z"})}),Lz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.5 6a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5zM13.5 8.25a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z",clipRule:"evenodd"})}),Uz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.699a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),zz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M6 3a3 3 0 00-3 3v12a3 3 0 003 3h12a3 3 0 003-3V6a3 3 0 00-3-3H6zm1.5 1.5a.75.75 0 00-.75.75V6a.75.75 0 00.75.75h1.5a.75.75 0 00.75-.75V5.25a.75.75 0 00-.75-.75h-1.5zm3 0a.75.75 0 00-.75.75V6a.75.75 0 00.75.75h1.5a.75.75 0 00.75-.75V5.25a.75.75 0 00-.75-.75h-1.5zM9 9.75A.75.75 0 019.75 9h5.25a.75.75 0 010 1.5H9.75A.75.75 0 019 9.75zm.75 2.25a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z",clipRule:"evenodd"})}),Bz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 2.25a.75.75 0 01.75.75v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3h.75V3a.75.75 0 01.75-.75zM5.25 6.75c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h13.5c.621 0 1.125-.504 1.125-1.125V7.875c0-.621-.504-1.125-1.125-1.125H5.25z",clipRule:"evenodd"})}),Fz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 006 21.75a6.75 6.75 0 006.75-6.75V9.75a.75.75 0 011.5 0v5.25A8.25 8.25 0 016 23.25a8.22 8.22 0 01-1.196-.106l-4.135 3.308a.75.75 0 01-1.152-.648V16.5a.75.75 0 01.75-.75h.03a6.75 6.75 0 006.72-6.75V4.5a.75.75 0 011.5 0v4.5a8.25 8.25 0 01-8.25 8.25h-.03a.75.75 0 01-.75.75v5.454l3.08-2.464zM15 4.5a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z",clipRule:"evenodd"})}),qz=t=>E.jsx(ut,{...t,children:E.jsx("path",{d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14.25a4.5 4.5 0 01-4.5 4.5H6.75a2.25 2.25 0 01-2.25-2.25V6.75a2.25 2.25 0 012.25-2.25h6.75a4.5 4.5 0 014.5 4.5v7.5z"})}),Hz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5z",clipRule:"evenodd"})}),Gz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-4.5a.75.75 0 000 1.5h6a.75.75 0 00.75-.75v-6a.75.75 0 00-1.5 0v4.514l-1.636-1.637A9 9 0 103 12a.75.75 0 001.5 0 7.5 7.5 0 01.255-1.941z",clipRule:"evenodd"})}),$z=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6.375a.75.75 0 00.75.75h6.375a.75.75 0 000-1.5H12.75V6z",clipRule:"evenodd"})}),Kz=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 00-1.06 1.06L15.94 7.4l-5.72 5.72a.75.75 0 001.06 1.06l5.72-5.72 4.04 4.04a.75.75 0 001.06-1.06l-4.04-4.04 1.06-1.06a.75.75 0 00-1.06-1.06l-1.06 1.06L12.963 2.286z",clipRule:"evenodd"}),E.jsx("path",{fillRule:"evenodd",d:"M8.328 8.482a3.75 3.75 0 00-5.304 5.304l7.5 7.5a.75.75 0 001.06-1.06l-7.5-7.5a2.25 2.25 0 013.182-3.182l5.25 5.25a.75.75 0 001.06-1.06l-5.25-5.25a3.75 3.75 0 00-5.304 0z",clipRule:"evenodd"})]}),Yz=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{d:"M12 9a3.75 3.75 0 100 7.5A3.75 3.75 0 0012 9z"}),E.jsx("path",{fillRule:"evenodd",d:"M9.344 3.071a.75.75 0 01.063.023l.112.064c.32.18.66.33.997.452a8.25 8.25 0 015.972 0 1.5 1.5 0 01.997-.452l.112-.064a.75.75 0 01.063-.023a49.255 49.255 0 015.312 0 .75.75 0 01.688.882c-.314 2.392-1.282 4.6-2.736 6.368a.75.75 0 01-1.08-.027l-.027-1.08c1.454-1.768 2.422-3.976 2.736-6.368a49.22 49.22 0 00-5.312 0 .75.75 0 01-.688-.882z",clipRule:"evenodd"})]}),Xz=t=>E.jsx(ut,{...t,children:E.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.06-1.06l-3.25 3.25-1.5-1.5a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.75-3.75z",clipRule:"evenodd"})}),Qz=t=>E.jsxs(ut,{...t,children:[E.jsx("path",{fillRule:"evenodd",d:"M7.875 1.5C6.839 1.5 6 2.34 6 3.375v2.25c0 1.036.84 1.875 1.875 1.875h.375a3 3 0 013 3v1.5H6a.75.75 0 000 1.5h12a.75.75 0 000-1.5h-5.25v-1.5a3 3 0 013-3h.375C18.16 7.5 19 6.66 19 5.625v-2.25C19 2.34 18.16 1.5 17.125 1.5H7.875zM7.5 3.375c0-.207.168-.375.375-.375h9.25c.207 0 .375.168.375.375v2.25c0 .207-.168.375-.375.375h-9.25A.375.375 0 017.5 5.625v-2.25z",clipRule:"evenodd"}),E.jsx("path",{d:"M6 10.5a.75.75 0 01.75.75v3.75c0 .414.336.75.75.75h9a.75.75 0 00.75-.75v-3.75a.75.75 0 011.5 0v3.75a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-3.75A.75.75 0 016 10.5z"}),E.jsx("path",{d:"M6 15.75a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H6.75a.75.75 0 01-.75-.75z"})]}),a5=t=>{const[e,n]=D.useState(!1);return D.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(t);s.matches!==e&&n(s.matches);const a=()=>n(s.matches);try{s.addEventListener("change",a)}catch{s.addListener(a)}return()=>{try{s.removeEventListener("change",a)}catch{s.removeListener(a)}}},[e,t]),e},Z8=t=>{switch(t.role){case Jt.Teacher:const e=[{id:"teacher-dashboard",label:"Mi Panel",icon:G8}];return t.tutorOfGroup&&e.push({id:"tutor-dashboard",label:"Panel de Tutora",icon:Q8}),e.push({id:"live-assistant",label:"Asistente IA",icon:mw}),e;case Jt.Guidance:return[{id:"guidance-inbox",label:"Bandeja",icon:Sy},{id:"live-assistant",label:"Asistente IA",icon:mw}];case Jt.Admin:return[{id:"admin-dashboard",label:"Anlisis y Control",icon:K8},{id:"guidance-inbox",label:"Bandeja General",icon:Sy},{id:"prefecture-dashboard",label:"Vista Prefectura",icon:pw}];case Jt.Prefect:return[{id:"prefecture-dashboard",label:"Panel de Asistencia",icon:pw},{id:"guidance-inbox",label:"Bandeja General",icon:Sy}];default:return[]}},W8=({currentUser:t,currentView:e,onViewChange:n,onUserChange:s,allUsers:a,isOpen:l,setIsOpen:c,onLogout:h})=>{const[f,p]=D.useState(!1),y=Z8(t),_=a5("(max-width: 767px)"),S=k=>{s(k),p(!1)},w=k=>{n(k),_&&c(!1)},C=()=>E.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 shadow-lg",children:[E.jsx("div",{className:"flex items-center justify-center h-16 border-b dark:border-gray-700",children:E.jsx(F8,{className:"h-8 w-auto"})}),E.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>p(!f),className:"w-full flex items-center justify-between text-left p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx($8,{className:"h-10 w-10 text-blue-500"}),E.jsxs("div",{className:"ml-3",children:[E.jsx("p",{className:"font-semibold text-sm",children:t.name}),E.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.role,t.tutorOfGroup&&` (Tutor ${t.tutorOfGroup.grade}${t.tutorOfGroup.group})`]})]})]}),E.jsx(X8,{className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`})]}),f&&E.jsx("div",{className:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-900 rounded-md shadow-lg border dark:border-gray-700",children:a.map(k=>E.jsxs("button",{onClick:()=>S(k.id),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:[k.name," (",k.role,")"]},k.id))})]})}),E.jsx("nav",{className:"flex-1 p-4 space-y-2",children:y.map(k=>E.jsxs("button",{onClick:()=>w(k.id),className:`w-full flex items-center p-3 rounded-lg transition-colors ${e===k.id?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[E.jsx(k.icon,{className:"h-6 w-6 mr-3"}),E.jsx("span",{className:"font-medium",children:k.label})]},k.id))}),E.jsx("div",{className:"p-4 border-t dark:border-gray-700",children:E.jsxs("button",{className:"w-full flex items-center p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",onClick:h,disabled:!h,children:[E.jsx(Y8,{className:"h-6 w-6 mr-3"}),E.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})})]});return _?E.jsx(by.Root,{show:l,as:D.Fragment,children:E.jsxs("div",{children:[E.jsx(by.Child,{as:D.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:E.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-30",onClick:()=>c(!1)})}),E.jsx(by.Child,{as:D.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:E.jsx("div",{className:"fixed inset-y-0 left-0 flex w-64 z-40",children:E.jsx(C,{})})})]})}):E.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:E.jsx(C,{})})},v_=[{id:"teacher-1",name:"Prof. Ana Lpez",role:Jt.Teacher,tutorOfGroup:{grade:"3ro",group:"A"}},{id:"guidance-1",name:"Lic. Carlos Ruz",role:Jt.Guidance},{id:"admin-1",name:"Dir. Elena Torres",role:Jt.Admin},{id:"prefect-1",name:"Pref. Jorge Salas",role:Jt.Prefect}],J8=[{id:"student-1",name:"Juan Prez",grade:"3ro",group:"A"},{id:"student-2",name:"Mara Garca",grade:"3ro",group:"B"},{id:"student-3",name:"Luis Hernndez",grade:"2do",group:"A"},{id:"student-4",name:"Sofa Martnez",grade:"1ro",group:"C"},{id:"student-5",name:"Ana Morales",grade:"3ro",group:"A"}],ez={"teacher-dashboard":"Panel del Docente","tutor-dashboard":"Panel de Tutora","guidance-inbox":"Bandeja de Orientacin","admin-dashboard":"Panel de Coordinacin y Direccin","student-profile":"Perfil del Alumno","live-assistant":"Asistente IA en Vivo","prefecture-dashboard":"Panel de Prefectura"};let gr=[{id:"report-1",studentId:"student-1",teacherId:"teacher-1",date:new Date("2024-05-10T09:30:00").toISOString(),type:Cl.Disciplinary,subject:"Matemticas",description:"Juan interrumpi la clase en mltiples ocasiones, haciendo ruidos y molestando a sus compaeros. No respondi a las llamadas de atencin verbales.",status:ca.InProgress,priority:Il.Medium,actionsTaken:"Se le pidi que se sentara al frente. Se le advirti que se notificara a sus padres.",comments:[{id:"c-1",userId:"guidance-1",userName:"Lic. Carlos Ruz",text:"Citado para el da 13 de Mayo. Se requiere la presencia de los padres.",date:new Date("2024-05-11T11:00:00").toISOString()}],evidence:[]},{id:"report-2",studentId:"student-2",teacherId:"teacher-1",date:new Date("2024-05-08T11:00:00").toISOString(),type:Cl.SocioEmotional,subject:"Historia",description:"Mara se mostr muy aislada y triste durante la clase. No quiso participar en la actividad grupal y se le vio llorando en silencio.",status:ca.Resolved,priority:Il.High,actionsTaken:"Se habl con ella en privado al final de la clase. Mencion problemas familiares.",comments:[{id:"c-2",userId:"guidance-1",userName:"Lic. Carlos Ruz",text:"Se tuvo una sesin con Mara. Se contact a la familia para una junta.",date:new Date("2024-05-08T14:00:00").toISOString()}],evidence:[],resolutionNotes:"Se estableci un plan de seguimiento con la alumna y su familia. El estado de nimo ha mejorado notablemente en las ltimas semanas.",resolvedById:"guidance-1",resolvedDate:new Date("2024-05-20T16:00:00").toISOString()},{id:"report-3",studentId:"student-3",teacherId:"teacher-1",date:new Date("2024-05-21T12:15:00").toISOString(),type:Cl.Disciplinary,subject:"Educacin Fsica",description:"Luis se neg a participar en la actividad y us lenguaje inapropiado hacia el profesor cuando se le insisti.",status:ca.New,priority:Il.High,actionsTaken:"Se le envi a la banca por el resto de la clase.",comments:[],evidence:[]},{id:"report-4",studentId:"student-1",teacherId:"prefect-1",date:new Date("2024-05-20T07:05:00").toISOString(),type:Cl.Attendance,subject:"Retardo",description:"El alumno Juan Prez lleg 5 minutos tarde a la entrada.",status:ca.New,priority:Il.Low,actionsTaken:"Se registr el retardo.",comments:[],evidence:[]},{id:"report-5",studentId:"student-1",teacherId:"prefect-1",date:new Date("2024-05-21T07:10:00").toISOString(),type:Cl.Attendance,subject:"Retardo",description:"El alumno Juan Prez lleg 10 minutos tarde a la entrada. Es su segundo retardo esta semana.",status:ca.New,priority:Il.Low,actionsTaken:"Se registr el retardo y se le dio una advertencia verbal.",comments:[],evidence:[]}],Zf=[{id:"notif-1",userId:"teacher-1",message:"Orientacin ha comentado en tu reporte sobre Juan Prez.",date:new Date().toISOString(),read:!1},{id:"notif-2",userId:"admin-1",message:"Se ha detectado reincidencia de retardos para el alumno Juan Prez.",date:new Date().toISOString(),read:!1},{id:"notif-3",userId:"guidance-1",message:"Se ha detectado reincidencia de retardos para el alumno Juan Prez.",date:new Date().toISOString(),read:!0}];const Ds=t=>new Promise(e=>setTimeout(e,t)),Zz=async()=>(await Ds(100),gr),Wz=async t=>(await Ds(100),gr.filter(e=>e.teacherId===t)),Jz=async t=>(await Ds(100),gr.filter(e=>e.studentId===t)),tz=async t=>(await Ds(50),J8.find(e=>e.id===t)),eB=async t=>(await Ds(50),v_.find(e=>e.id===t)),nz=async t=>(await Ds(100),Zf.filter(e=>e.userId===t).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime())),tB=async(t,e)=>{await Ds(150);const n=gr.findIndex(s=>s.id===t);if(n>-1){const s=gr[n],a={...e,id:`c-${Date.now()}`};if(s.comments.push(a),s.status=ca.InProgress,s.teacherId!==e.userId){const l=await tz(s.studentId);iz({userId:s.teacherId,message:`${e.userName} ha comentado en tu reporte sobre ${l==null?void 0:l.name}.`})}return{...s}}return null},nB=async(t,e)=>{await Ds(300);const n=gr.findIndex(s=>s.id===t);if(n>-1){const s=gr[n],a={...e,id:`ev-${Date.now()}`};return s.evidence.push(a),{...s}}return null},iB=async(t,e,n)=>{await Ds(200);const s=gr.findIndex(a=>a.id===t);if(s>-1){const a=gr[s];return a.status=ca.Resolved,a.resolutionNotes=n,a.resolvedById=e,a.resolvedDate=new Date().toISOString(),{...a}}return null},iz=t=>{const e={...t,id:`notif-${Date.now()}`,date:new Date().toISOString(),read:!1};return Zf.unshift(e),e},sz=async t=>{await Ds(50);const e=Zf.findIndex(n=>n.id===t);return e>-1?(Zf[e].read=!0,!0):!1},rz=({notifications:t,onClose:e,setNotifications:n})=>{const s=async a=>{await sz(a)&&n(c=>c.map(h=>h.id===a?{...h,read:!0}:h))};return E.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[E.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:E.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:"Notificaciones"})}),E.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(a=>E.jsxs("div",{className:`p-3 border-b border-gray-100 dark:border-gray-700 ${a.read?"opacity-60":""}`,children:[E.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.message}),E.jsxs("div",{className:"flex justify-between items-center mt-1",children:[E.jsx("span",{className:"text-xs text-gray-400",children:new Date(a.date).toLocaleString()}),!a.read&&E.jsx("button",{onClick:()=>s(a.id),className:"text-xs text-blue-500 hover:underline",children:"Marcar como ledo"})]})]},a.id)):E.jsx("div",{className:"text-center p-6 text-sm text-gray-500",children:"No tienes notificaciones."})})]})},az=({children:t,currentUser:e,currentView:n,onViewChange:s,onUserChange:a,allUsers:l,onLogout:c})=>{const[h,f]=D.useState(!1),[p,y]=D.useState(!1),[_,S]=D.useState([]),w=ez[n]||"AtemiMX";D.useEffect(()=>{(async()=>{const P=await nz(e.id);S(P)})()},[e.id]);const C=_.filter(k=>!k.read).length;return E.jsxs("div",{className:"flex h-screen overflow-hidden",children:[E.jsx(W8,{currentUser:e,currentView:n,onViewChange:s,onUserChange:a,allUsers:l,isOpen:h,setIsOpen:f,onLogout:c}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[E.jsx("header",{className:"sticky top-0 bg-white dark:bg-gray-800 shadow-sm z-20",children:E.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsxs("button",{className:"text-gray-500 hover:text-gray-600 md:hidden",onClick:()=>f(!h),"aria-label":"Open sidebar",children:[E.jsx("span",{className:"sr-only",children:"Open sidebar"}),E.jsx(q8,{className:"h-6 w-6"})]}),E.jsx("h1",{className:"text-lg font-semibold ml-2 md:ml-0",children:w}),E.jsxs("div",{className:"relative",children:[E.jsxs("button",{className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>y(k=>!k),children:[C>0&&E.jsx("span",{className:"absolute top-1 right-1 block h-2.5 w-2.5 rounded-full bg-red-500 ring-2 ring-white dark:ring-gray-800"}),E.jsx(H8,{className:"h-6 w-6"})]}),p&&E.jsx(rz,{notifications:_,onClose:()=>y(!1),setNotifications:S})]})]})})}),E.jsx("main",{className:"p-4 sm:p-6 lg:p-8 flex-1",children:t})]})]})},oz=D.lazy(()=>ja(()=>import("./TeacherDashboardView-BUt-5Fr3.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),lz=D.lazy(()=>ja(()=>import("./GuidanceInboxView-CbDt8nTP.js"),__vite__mapDeps([6,3]),import.meta.url)),uz=D.lazy(()=>ja(()=>import("./StudentProfileView-Cq7rETpO.js"),__vite__mapDeps([7,3]),import.meta.url)),cz=D.lazy(()=>ja(()=>import("./AdminDashboardView-B8dhL4Uu.js"),__vite__mapDeps([8,4,5,9]),import.meta.url)),hz=D.lazy(()=>ja(()=>import("./LiveAssistantView-7DnlSgKZ.js"),__vite__mapDeps([10,2]),import.meta.url)),dz=D.lazy(()=>ja(()=>import("./PrefectureDashboardView-StuaKYzW.js"),__vite__mapDeps([11,1,2,3,4,9]),import.meta.url)),fz=D.lazy(()=>ja(()=>import("./TutorDashboardView-h3SBjv2m.js"),__vite__mapDeps([12,3,4,5]),import.meta.url)),mz=D.lazy(()=>ja(()=>import("./MobileTeacherView-D7om5aKg.js"),[],import.meta.url)),pz=({users:t,defaultUserId:e,defaultView:n="teacher-dashboard",onLogout:s})=>{var Q;const a=D.useMemo(()=>t!=null&&t.length?t:v_,[t]),l=e??((Q=a[0])==null?void 0:Q.id),[c,h]=D.useState(l),[f,p]=D.useState(n),[y,_]=D.useState(null),S=a5("(max-width: 768px)");D.useEffect(()=>{e&&h(e)},[e]),D.useEffect(()=>{n&&p(n)},[n]);const w=a.find(H=>H.id===c)||a[0],C=H=>{const ae=a.find(oe=>oe.id===H);if(ae)switch(h(H),ae.role){case Jt.Teacher:p("teacher-dashboard");break;case Jt.Guidance:p("guidance-inbox");break;case Jt.Admin:p("admin-dashboard");break;case Jt.Prefect:p("prefecture-dashboard");break;default:p("teacher-dashboard")}},k=H=>{if(H.startsWith("student-profile:")){const ae=H.split(":")[1];_(ae),p("student-profile")}else p(H),_(null)},P=D.useCallback(H=>{k(`student-profile:${H}`)},[]),j=()=>{if(S&&w.role===Jt.Teacher)return E.jsx(mz,{currentUser:w});switch(f){case"teacher-dashboard":return E.jsx(oz,{currentUser:w,viewStudentProfile:P});case"tutor-dashboard":return E.jsx(fz,{currentUser:w,viewStudentProfile:P});case"guidance-inbox":return E.jsx(lz,{currentUser:w,viewStudentProfile:P});case"student-profile":return y?E.jsx(uz,{studentId:y,currentUser:w,viewStudentProfile:P}):E.jsx("div",{children:"Seleccione un alumno para ver su perfil."});case"admin-dashboard":return E.jsx(cz,{currentUser:w});case"prefecture-dashboard":return E.jsx(dz,{currentUser:w,viewStudentProfile:P});case"live-assistant":return E.jsx(hz,{});default:return E.jsx("div",{children:"Vista no encontrada"})}};return E.jsx(az,{currentUser:w,currentView:f,onViewChange:k,onUserChange:C,allUsers:a,onLogout:s,children:E.jsx(D.Suspense,{fallback:E.jsx("div",{className:"card",children:"Cargando mdulo..."}),children:j()})})},gz=t=>{if(!t)return Jt.Teacher;const e=t.trim().toLowerCase();return["admin","direccion","director"].includes(e)?Jt.Admin:["prefect","prefectura"].includes(e)?Jt.Prefect:["guidance","orientacion","orientador","orientadora"].includes(e)?Jt.Guidance:Jt.Teacher},yz=({user:t,role:e,onLogout:n})=>{var a;const s=D.useMemo(()=>{if(!t)return;const l=gz(e),c={id:t.uid??"auth-user",name:t.displayName??t.email??"Docente Atemi",role:l,tutorOfGroup:l===Jt.Teacher?{grade:"3",group:"A"}:null},h=v_.filter(f=>f.id!==c.id);return[c,...h]},[e,t]);return E.jsx(pz,{users:s,defaultUserId:(a=s==null?void 0:s[0])==null?void 0:a.id,onLogout:n})},vz=()=>"menu",_z=t=>t==="sase310"?"/sase310":t==="admin"?"/sase310/admin":"/",Ez=()=>{const{user:t,loading:e,claimsLoading:n,role:s,claimsError:a}=xC(),[l,c]=D.useState(()=>vz()),[h,f]=D.useState(!1),[p,y]=D.useState(null),[_,S]=D.useState(!1),[w,C]=D.useState("unlock"),[k,P]=D.useState(null),[j,Q]=D.useState(!1),[H,ae]=D.useState(!0),[oe,ce]=D.useState(!0),[I,R]=D.useState(!1),[N,M]=D.useState(!1),[U,B]=D.useState(null),[O,We]=D.useState(!1),ct=e||n,Z="atemi:pinEnabled",re="atemi:pinValue";D.useEffect(()=>{if(!p)return;const Et=window.setTimeout(()=>y(null),4e3);return()=>window.clearTimeout(Et)},[p]),D.useEffect(()=>{a&&y(a)},[a]),D.useEffect(()=>{if(typeof window>"u")return;const Et=window.localStorage.getItem(Z)==="true",pn=window.localStorage.getItem(re);Et&&pn&&(M(!0),B(pn),We(!0))},[]),D.useEffect(()=>{O&&(C("unlock"),P(null),S(!0))},[O]),D.useEffect(()=>{if(typeof window>"u")return;if(!t){c("menu"),window.location.pathname!=="/"&&window.history.replaceState({},"","/");return}const Et=window.location.pathname;if(Et.startsWith("/sase310/admin")){c("admin");return}if(Et.startsWith("/sase310")){c("sase310");return}c("menu")},[t]),D.useEffect(()=>{if(typeof window>"u")return;const Et=_z(l);window.location.pathname!==Et&&window.history.replaceState({},"",Et)},[l]),D.useEffect(()=>{if(typeof window>"u"||!ct)return;const pn=window.setTimeout(()=>{y(Bi=>Bi??"No pudimos confirmar la sesion. Intenta iniciar sesion desde el modulo SASE-310.")},15e3);return()=>window.clearTimeout(pn)},[ct]),D.useEffect(()=>{!t&&(l==="admin"||l==="sase310")&&c("menu")},[t,l]);const he=D.useMemo(()=>(s??"").toLowerCase()==="admin",[s]),we=l==="menu",Ie=()=>{c("menu"),typeof window<"u"&&window.history.replaceState({},"","/")},L=()=>{c("menu"),typeof window<"u"&&window.history.replaceState({},"","/")},W=()=>{c("sase310"),typeof window<"u"&&window.history.replaceState({},"","/sase310")},se=()=>{if(!he){y("No cuentas con permisos de administracin para acceder a esta seccin."),Ie();return}c("admin"),typeof window<"u"&&window.history.replaceState({},"","/sase310/admin")},fe=()=>{y("Consulta la documentacion AtemiMX o contacta al equipo para asistencia.")},ge=()=>{y("La configuracion personalizada estara disponible proximamente.")},Oe=Et=>{if(w==="setup"){typeof window<"u"&&(window.localStorage.setItem(re,Et),window.localStorage.setItem(Z,"true")),B(Et),M(!0),P(null),S(!1),C("unlock"),y("PIN configurado correctamente.");return}if(U&&Et===U){We(!1),S(!1),P(null);return}P("PIN incorrecto. Intenta nuevamente.")},Me=()=>{typeof window<"u"&&(window.localStorage.removeItem(re),window.localStorage.removeItem(Z)),B(null),M(!1),We(!1),R(!1),y("PIN desactivado.")},ht=()=>{R(!1),C("setup"),P(null),S(!0)},Je=()=>{Q(!0)},qt=()=>{ae(Et=>!Et)},Kn=()=>{R(!0)},wn=async()=>{if(!h)try{f(!0),await OC(),y("Sesion finalizada correctamente.")}catch(Et){console.error("[UI] Error al cerrar sesion",Et),y("No fue posible cerrar sesion. Intenta nuevamente.")}finally{f(!1),Ie()}},xn=Et=>E.jsxs("section",{className:"empty-state",children:[E.jsx("p",{className:"empty-state__eyebrow",children:"AtemiMX"}),E.jsx("h2",{children:Et}),E.jsx("p",{children:"Usa el men lateral para abrir mdulos o lanzar el men flotante."})]}),an=()=>l==="none"?xn("Elige un mdulo para comenzar"):l==="admin"?!t||!he?E.jsxs("section",{className:"card",children:[E.jsx("h2",{className:"text-lg font-display text-white",children:"Acceso restringido"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Necesitas permisos de administracin para ingresar a este panel."})]}):E.jsx(RL,{}):l==="sase310"?E.jsx(n8,{onNavigateHome:Ie}):xn("Panel principal disponible desde el men general"),Si=()=>E.jsx("div",{className:"app-shell__layer",children:E.jsxs("div",{className:"app-shell__layout",children:[E.jsx(l8,{activeView:l,hasSession:!!t,logoutPending:h,onSelectHome:Ie,onResetView:L,onSelectSase:W,onSelectAdmin:se,onOpenHelp:fe,onOpenSettings:ge,onLogout:wn,canAccessAdmin:!!(t&&he),onOpenLauncher:Je,onToggleCollapse:qt,isCollapsed:H}),E.jsxs("main",{className:"app-shell__main",children:[p?E.jsx("div",{className:"app-shell__notice",children:p}):null,E.jsx(i8,{children:E.jsx("div",{className:"app-shell__content",children:an()})})]})]})}),Ai=()=>E.jsxs("div",{className:"dashboard-wrapper",children:[p?E.jsx("div",{className:"app-shell__notice dashboard-wrapper__notice",children:p}):null,E.jsx(yz,{user:t,role:s??null,onLogout:wn})]});return E.jsxs("div",{className:`app-shell${we?" app-shell--dashboard":""}`,children:[we?Ai():Si(),E.jsx(c8,{open:_,mode:w,errorMessage:k,onCancel:()=>{S(!1),O&&S(!0)},onSubmit:Oe}),E.jsx(s8,{open:j,onClose:()=>Q(!1),onOpenSase:()=>{Q(!1),W()},onShowSecurity:()=>{Q(!1),Kn()},variant:"floating",user:t}),E.jsx(o8,{open:I,pinEnabled:N,onRequestSetup:ht,onDisable:Me,onClose:()=>R(!1)}),oe?E.jsx(a8,{onStart:()=>ce(!1)}):null]})};function Tz(){return E.jsxs(E.Fragment,{children:[E.jsx(Mk,{}),E.jsx(kk,{}),E.jsx(Ez,{})]})}const bz=[{label:"Aviso de Privacidad",emoji:"",href:"https://docs.google.com/document/d/1fofju9x-kRUH2zU1S9LllmxPiTqQ3HcwbLVCPUhBcNM/edit?usp=sharing"},{label:"Trminos de Uso",emoji:"",href:"https://docs.google.com/document/d/1Vo1o8ew31LPTwHrX1y41hklHtowaIQtMEBr0WPDdZHA/edit?usp=drive_link"},{label:"Protocolo ngel Guardin",emoji:"",href:"https://docs.google.com/document/d/1XlAIXN__SLEmX-3Dyhjig7RTZu5W3amtSfKkQCWF6uw/edit?usp=drive_link"}],Sz={minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at top, rgba(0, 191, 255, 0.15), transparent 55%)",padding:"24px"},Az={maxWidth:"640px",width:"100%",backgroundColor:"rgba(12, 21, 40, 0.92)",border:"1px solid rgba(0, 191, 255, 0.3)",borderRadius:"18px",padding:"32px",boxShadow:"0 20px 45px rgba(0, 0, 0, 0.35)",color:"#ecf6ff",fontFamily:'"Montserrat","Inter",system-ui,sans-serif'},wz={listStyle:"none",padding:0,margin:"20px 0",display:"flex",flexDirection:"column",gap:"12px"},xz={width:"100%",padding:"14px 18px",borderRadius:"999px",border:"none",fontSize:"1rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(120deg, rgba(0, 191, 255, 0.95), rgba(255, 51, 102, 0.95))",color:"#04101f",transition:"opacity 0.2s ease"},Rz=({onAccept:t})=>{const[e,n]=D.useState(!1),s=D.useMemo(()=>bz.map(a=>E.jsx("li",{children:E.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"10px",textDecoration:"none",color:"#a8e1ff",fontWeight:500},children:[E.jsx("span",{"aria-hidden":"true",role:"img",children:a.emoji}),E.jsx("span",{children:a.label})]})},a.href)),[]);return E.jsx("div",{style:Sz,children:E.jsxs("section",{style:Az,"aria-labelledby":"legal-consent-title",children:[E.jsx("h2",{id:"legal-consent-title",style:{fontSize:"1.6rem",marginBottom:"12px"},children:"Condiciones de Uso y Privacidad"}),E.jsxs("p",{style:{color:"#c7d9ec",lineHeight:1.5},children:["Antes de usar AtemiMX, revisa los documentos oficiales del"," ",E.jsx("strong",{children:"Proyecto AtemiMX  Piloto Docente 20252026"}),"."]}),E.jsx("ul",{style:wz,children:s}),E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"},children:[E.jsx("input",{id:"acceptLegal",type:"checkbox",checked:e,onChange:a=>n(a.target.checked)}),E.jsx("span",{children:"He ledo y acepto los documentos anteriores."})]}),E.jsx("button",{id:"continueApp",type:"button",disabled:!e,style:{...xz,marginTop:"24px",opacity:e?1:.4,cursor:e?"pointer":"not-allowed"},onClick:t,children:"Continuar"})]})})},gw="atemi:legalConsent:v1",Cz=()=>{const[t,e]=D.useState(()=>typeof window>"u"?!0:window.localStorage.getItem(gw)==="accepted");return D.useEffect(()=>{t&&typeof window<"u"&&window.localStorage.setItem(gw,"accepted")},[t]),t?E.jsx(I9,{children:E.jsx(Tz,{})}):E.jsx(Rz,{onAccept:()=>e(!0)})};GI.createRoot(document.getElementById("root")).render(E.jsx(On.StrictMode,{children:E.jsx(Cz,{})}));export{Gz as A,eB as B,Vz as C,Oz as D,kz as E,Pz as F,tB as G,iB as H,Sy as I,nB as J,BI as K,C0 as L,v_ as M,yw as N,BT as O,qz as P,ca as R,Lz as S,$8 as U,Mz as a,Zz as b,Il as c,tz as d,Jz as e,J8 as f,Wz as g,$z as h,pw as i,E as j,mw as k,jz as l,zz as m,Uz as n,Cl as o,Q8 as p,Jt as q,D as r,Bz as s,Hz as t,X8 as u,Fz as v,Kz as w,Yz as x,Xz as y,Qz as z};
